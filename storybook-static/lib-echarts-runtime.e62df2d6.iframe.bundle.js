"use strict";(self.webpackChunkhbc_project_controls=self.webpackChunkhbc_project_controls||[]).push([[354],{"./node_modules/echarts-for-react/esm/index.js"(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>esm});var echarts_namespaceObject={};__webpack_require__.r(echarts_namespaceObject),__webpack_require__.d(echarts_namespaceObject,{Axis:()=>core._0,ChartView:()=>core.OZ,ComponentModel:()=>core.jT,ComponentView:()=>core.bR,List:()=>core.B8,Model:()=>core.Kx,PRIORITY:()=>core.FQ,SeriesModel:()=>core.rP,color:()=>core.yW,connect:()=>core.Ng,dataTool:()=>core.p5,dependencies:()=>core.El,disConnect:()=>core.zm,disconnect:()=>core.Zf,dispose:()=>core.AS,env:()=>core._K,extendChartView:()=>core.yX,extendComponentModel:()=>core.rt,extendComponentView:()=>core.NO,extendSeriesModel:()=>core.NA,format:()=>core.GP,getCoordinateSystemDimensions:()=>core.Bo,getInstanceByDom:()=>core.FP,getInstanceById:()=>core.aQ,getMap:()=>core.ZB,graphic:()=>core.fA,helper:()=>core.dw,init:()=>core.Ts,innerDrawElementOnCanvas:()=>core.UU,matrix:()=>core.UP,number:()=>core.ai,parseGeoJSON:()=>core.l3,parseGeoJson:()=>core.zI,registerAction:()=>core.OH,registerCoordinateSystem:()=>core.pX,registerLayout:()=>core.Oh,registerLoading:()=>core.Ej,registerLocale:()=>core.E,registerMap:()=>core.mz,registerPostInit:()=>core.cf,registerPostUpdate:()=>core.tb,registerPreprocessor:()=>core.lP,registerProcessor:()=>core.qg,registerTheme:()=>core.bf,registerTransform:()=>core.iY,registerUpdateLifecycle:()=>core.xV,registerVisual:()=>core.AF,setCanvasCreator:()=>core.vV,setPlatformAPI:()=>core.Gs,throttle:()=>core.nF,time:()=>core.kB,use:()=>core.Yx,util:()=>core.ZS,vector:()=>core.i1,version:()=>core.rE,zrUtil:()=>core.F_,zrender:()=>core.nd});var tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),extension=__webpack_require__("./node_modules/echarts/lib/extension.js"),core=__webpack_require__("./node_modules/echarts/lib/export/core.js"),installCanvasRenderer=__webpack_require__("./node_modules/echarts/lib/renderer/installCanvasRenderer.js"),helper=__webpack_require__("./node_modules/zrender/lib/svg/helper.js"),Path=__webpack_require__("./node_modules/zrender/lib/graphic/Path.js"),graphic_Image=__webpack_require__("./node_modules/zrender/lib/graphic/Image.js"),contain_text=__webpack_require__("./node_modules/zrender/lib/contain/text.js"),TSpan=__webpack_require__("./node_modules/zrender/lib/graphic/TSpan.js"),mathSin=Math.sin,mathCos=Math.cos,PI=Math.PI,PI2=2*Math.PI,degree=180/PI,SVGPathRebuilder=function(){function SVGPathRebuilder(){}return SVGPathRebuilder.prototype.reset=function(precision){this._start=!0,this._d=[],this._str="",this._p=Math.pow(10,precision||4)},SVGPathRebuilder.prototype.moveTo=function(x,y){this._add("M",x,y)},SVGPathRebuilder.prototype.lineTo=function(x,y){this._add("L",x,y)},SVGPathRebuilder.prototype.bezierCurveTo=function(x,y,x2,y2,x3,y3){this._add("C",x,y,x2,y2,x3,y3)},SVGPathRebuilder.prototype.quadraticCurveTo=function(x,y,x2,y2){this._add("Q",x,y,x2,y2)},SVGPathRebuilder.prototype.arc=function(cx,cy,r,startAngle,endAngle,anticlockwise){this.ellipse(cx,cy,r,r,0,startAngle,endAngle,anticlockwise)},SVGPathRebuilder.prototype.ellipse=function(cx,cy,rx,ry,psi,startAngle,endAngle,anticlockwise){var dTheta=endAngle-startAngle,clockwise=!anticlockwise,dThetaPositive=Math.abs(dTheta),isCircle=(0,helper.Cv)(dThetaPositive-PI2)||(clockwise?dTheta>=PI2:-dTheta>=PI2),unifiedTheta=dTheta>0?dTheta%PI2:dTheta%PI2+PI2,large=!1;large=!!isCircle||!(0,helper.Cv)(dThetaPositive)&&unifiedTheta>=PI==!!clockwise;var x0=cx+rx*mathCos(startAngle),y0=cy+ry*mathSin(startAngle);this._start&&this._add("M",x0,y0);var xRot=Math.round(psi*degree);if(isCircle){var p=1/this._p,dTheta_1=(clockwise?1:-1)*(PI2-p);this._add("A",rx,ry,xRot,1,+clockwise,cx+rx*mathCos(startAngle+dTheta_1),cy+ry*mathSin(startAngle+dTheta_1)),p>.01&&this._add("A",rx,ry,xRot,0,+clockwise,x0,y0)}else{var x=cx+rx*mathCos(endAngle),y=cy+ry*mathSin(endAngle);this._add("A",rx,ry,xRot,+large,+clockwise,x,y)}},SVGPathRebuilder.prototype.rect=function(x,y,w,h){this._add("M",x,y),this._add("l",w,0),this._add("l",0,h),this._add("l",-w,0),this._add("Z")},SVGPathRebuilder.prototype.closePath=function(){this._d.length>0&&this._add("Z")},SVGPathRebuilder.prototype._add=function(cmd,a,b,c,d,e,f,g,h){for(var vals=[],p=this._p,i=1;i<arguments.length;i++){var val=arguments[i];if(isNaN(val))return void(this._invalid=!0);vals.push(Math.round(val*p)/p)}this._d.push(cmd+vals.join(" ")),this._start="Z"===cmd},SVGPathRebuilder.prototype.generateStr=function(){this._str=this._invalid?"":this._d.join(""),this._d=[]},SVGPathRebuilder.prototype.getStr=function(){return this._str},SVGPathRebuilder}();const svg_SVGPathRebuilder=SVGPathRebuilder;var dashStyle=__webpack_require__("./node_modules/zrender/lib/canvas/dashStyle.js"),util=__webpack_require__("./node_modules/zrender/lib/core/util.js"),mathRound=Math.round;var strokeProps=["lineCap","miterLimit","lineJoin"],svgStrokeProps=(0,util.map)(strokeProps,function(prop){return"stroke-"+prop.toLowerCase()});var dom=__webpack_require__("./node_modules/zrender/lib/core/dom.js"),SVGNS="http://www.w3.org/2000/svg",XLINKNS="http://www.w3.org/1999/xlink";function createElement(name){return document.createElementNS(SVGNS,name)}function createVNode(tag,key,attrs,children,text){return{tag,attrs:attrs||{},children,text,key}}function vNodeToString(el,opts){var S=(opts=opts||{}).newline?"\n":"";return function convertElToString(el){var children=el.children,tag=el.tag,attrs=el.attrs,text=el.text;return function createElementOpen(name,attrs){var attrsStr=[];if(attrs)for(var key in attrs){var val=attrs[key],part=key;!1!==val&&(!0!==val&&null!=val&&(part+='="'+val+'"'),attrsStr.push(part))}return"<"+name+" "+attrsStr.join(" ")+">"}(tag,attrs)+("style"!==tag?(0,dom.Me)(text):text||"")+(children?""+S+(0,util.map)(children,function(child){return convertElToString(child)}).join(S)+S:"")+function createElementClose(name){return"</"+name+">"}(tag)}(el)}function createBrushScope(zrId){return{zrId,shadowCache:{},patternCache:{},gradientCache:{},clipPathCache:{},defs:{},cssNodes:{},cssAnims:{},cssStyleCache:{},cssAnimIdx:0,shadowIdx:0,gradientIdx:0,patternIdx:0,clipPathIdx:0}}function createSVGVNode(width,height,children,useViewBox){return createVNode("svg","root",{width,height,xmlns:SVGNS,"xmlns:xlink":XLINKNS,version:"1.1",baseProfile:"full",viewBox:!!useViewBox&&"0 0 "+width+" "+height},children)}var helper_image=__webpack_require__("./node_modules/zrender/lib/graphic/helper/image.js"),Transformable=__webpack_require__("./node_modules/zrender/lib/core/Transformable.js"),PathProxy=__webpack_require__("./node_modules/zrender/lib/core/PathProxy.js"),CompoundPath=__webpack_require__("./node_modules/zrender/lib/graphic/CompoundPath.js"),cubicEasing=__webpack_require__("./node_modules/zrender/lib/animation/cubicEasing.js"),cssClassIdx=0;function getClassId(){return cssClassIdx++}var EASING_MAP={cubicIn:"0.32,0,0.67,0",cubicOut:"0.33,1,0.68,1",cubicInOut:"0.65,0,0.35,1",quadraticIn:"0.11,0,0.5,0",quadraticOut:"0.5,1,0.89,1",quadraticInOut:"0.45,0,0.55,1",quarticIn:"0.5,0,0.75,0",quarticOut:"0.25,1,0.5,1",quarticInOut:"0.76,0,0.24,1",quinticIn:"0.64,0,0.78,0",quinticOut:"0.22,1,0.36,1",quinticInOut:"0.83,0,0.17,1",sinusoidalIn:"0.12,0,0.39,0",sinusoidalOut:"0.61,1,0.88,1",sinusoidalInOut:"0.37,0,0.63,1",exponentialIn:"0.7,0,0.84,0",exponentialOut:"0.16,1,0.3,1",exponentialInOut:"0.87,0,0.13,1",circularIn:"0.55,0,1,0.45",circularOut:"0,0.55,0.45,1",circularInOut:"0.85,0,0.15,1"};function buildPathString(el,kfShape,path){var shape=(0,util.extend)({},el.shape);(0,util.extend)(shape,kfShape),el.buildPath(path,shape);var svgPathBuilder=new svg_SVGPathRebuilder;return svgPathBuilder.reset((0,helper.MD)(el)),path.rebuildPath(svgPathBuilder,1),svgPathBuilder.generateStr(),svgPathBuilder.getStr()}function setTransformOrigin(target,transform){var originX=transform.originX,originY=transform.originY;(originX||originY)&&(target["transform-origin"]=originX+"px "+originY+"px")}var ANIMATE_STYLE_MAP={fill:"fill",opacity:"opacity",lineWidth:"stroke-width",lineDashOffset:"stroke-dashoffset"};function addAnimation(cssAnim,scope){var animationName=scope.zrId+"-ani-"+scope.cssAnimIdx++;return scope.cssAnims[animationName]=cssAnim,animationName}function getEasingFunc(easing){return(0,util.isString)(easing)?EASING_MAP[easing]?"cubic-bezier("+EASING_MAP[easing]+")":(0,cubicEasing.w)(easing)?easing:"":""}function createCSSAnimation(el,attrs,scope,onlyShape){var animators=el.animators,len=animators.length,cssAnimations=[];if(el instanceof CompoundPath.A){var animationCfg=function createCompoundPathCSSAnimation(el,attrs,scope){var cssAnimationCfg,cssAnimationName,paths=el.shape.paths,composedAnim={};if((0,util.each)(paths,function(path){var subScope=createBrushScope(scope.zrId);subScope.animation=!0,createCSSAnimation(path,{},subScope,!0);var cssAnims=subScope.cssAnims,cssNodes=subScope.cssNodes,animNames=(0,util.keys)(cssAnims),len=animNames.length;if(len){var lastAnim=cssAnims[cssAnimationName=animNames[len-1]];for(var percent in lastAnim){var kf=lastAnim[percent];composedAnim[percent]=composedAnim[percent]||{d:""},composedAnim[percent].d+=kf.d||""}for(var className in cssNodes){var val=cssNodes[className].animation;val.indexOf(cssAnimationName)>=0&&(cssAnimationCfg=val)}}}),cssAnimationCfg){attrs.d=!1;var animationName=addAnimation(composedAnim,scope);return cssAnimationCfg.replace(cssAnimationName,animationName)}}(el,attrs,scope);if(animationCfg)cssAnimations.push(animationCfg);else if(!len)return}else if(!len)return;for(var groupAnimators={},i=0;i<len;i++){var animator=animators[i],cfgArr=[animator.getMaxTime()/1e3+"s"],easing=getEasingFunc(animator.getClip().easing),delay=animator.getDelay();easing?cfgArr.push(easing):cfgArr.push("linear"),delay&&cfgArr.push(delay/1e3+"s"),animator.getLoop()&&cfgArr.push("infinite");var cfg=cfgArr.join(" ");groupAnimators[cfg]=groupAnimators[cfg]||[cfg,[]],groupAnimators[cfg][1].push(animator)}function createSingleCSSAnimation(groupAnimator){var path,animators=groupAnimator[1],len=animators.length,transformKfs={},shapeKfs={},finalKfs={};function saveAnimatorTrackToCssKfs(animator,cssKfs,toCssAttrName){for(var tracks=animator.getTracks(),maxTime=animator.getMaxTime(),k=0;k<tracks.length;k++){var track=tracks[k];if(track.needsAnimate()){var kfs=track.keyframes,attrName=track.propName;if(toCssAttrName&&(attrName=toCssAttrName(attrName)),attrName)for(var i=0;i<kfs.length;i++){var kf=kfs[i],percent=Math.round(kf.time/maxTime*100)+"%",kfEasing=getEasingFunc(kf.easing),rawValue=kf.rawValue;((0,util.isString)(rawValue)||(0,util.isNumber)(rawValue))&&(cssKfs[percent]=cssKfs[percent]||{},cssKfs[percent][attrName]=kf.rawValue,kfEasing&&(cssKfs[percent]["animation-timing-function"]=kfEasing))}}}}for(var i=0;i<len;i++){(targetProp=(animator=animators[i]).targetName)?"shape"===targetProp&&saveAnimatorTrackToCssKfs(animator,shapeKfs):!onlyShape&&saveAnimatorTrackToCssKfs(animator,transformKfs)}for(var percent in transformKfs){var transform={};(0,Transformable.IT)(transform,el),(0,util.extend)(transform,transformKfs[percent]);var str=(0,helper.Z1)(transform),timingFunction=transformKfs[percent]["animation-timing-function"];finalKfs[percent]=str?{transform:str}:{},setTransformOrigin(finalKfs[percent],transform),timingFunction&&(finalKfs[percent]["animation-timing-function"]=timingFunction)}var canAnimateShape=!0;for(var percent in shapeKfs){finalKfs[percent]=finalKfs[percent]||{};var isFirst=!path;timingFunction=shapeKfs[percent]["animation-timing-function"];isFirst&&(path=new PathProxy.A);var len_1=path.len();path.reset(),finalKfs[percent].d=buildPathString(el,shapeKfs[percent],path);var newLen=path.len();if(!isFirst&&len_1!==newLen){canAnimateShape=!1;break}timingFunction&&(finalKfs[percent]["animation-timing-function"]=timingFunction)}if(!canAnimateShape)for(var percent in finalKfs)delete finalKfs[percent].d;if(!onlyShape)for(i=0;i<len;i++){var animator,targetProp;"style"===(targetProp=(animator=animators[i]).targetName)&&saveAnimatorTrackToCssKfs(animator,finalKfs,function(propName){return ANIMATE_STYLE_MAP[propName]})}var transformOrigin,percents=(0,util.keys)(finalKfs),allTransformOriginSame=!0;for(i=1;i<percents.length;i++){var p0=percents[i-1],p1=percents[i];if(finalKfs[p0]["transform-origin"]!==finalKfs[p1]["transform-origin"]){allTransformOriginSame=!1;break}transformOrigin=finalKfs[p0]["transform-origin"]}if(allTransformOriginSame&&transformOrigin){for(var percent in finalKfs)finalKfs[percent]["transform-origin"]&&delete finalKfs[percent]["transform-origin"];attrs["transform-origin"]=transformOrigin}if((0,util.filter)(percents,function(percent){return(0,util.keys)(finalKfs[percent]).length>0}).length)return addAnimation(finalKfs,scope)+" "+groupAnimator[0]+" both"}for(var key in groupAnimators){(animationCfg=createSingleCSSAnimation(groupAnimators[key]))&&cssAnimations.push(animationCfg)}if(cssAnimations.length){var className=scope.zrId+"-cls-"+getClassId();scope.cssNodes["."+className]={animation:cssAnimations.join(",")},attrs.class=className}}var Text=__webpack_require__("./node_modules/zrender/lib/graphic/Text.js"),platform=__webpack_require__("./node_modules/zrender/lib/core/platform.js"),tool_color=__webpack_require__("./node_modules/zrender/lib/tool/color.js");function setClassAttribute(style,attrs,scope,withHover){var styleKey=JSON.stringify(style),className=scope.cssStyleCache[styleKey];className||(className=scope.zrId+"-cls-"+getClassId(),scope.cssStyleCache[styleKey]=className,scope.cssNodes["."+className+(withHover?":hover":"")]=style),attrs.class=attrs.class?attrs.class+" "+className:className}var zrender=__webpack_require__("./node_modules/zrender/lib/zrender.js"),round=Math.round;function isImageLike(val){return val&&(0,util.isString)(val.src)}function isCanvasLike(val){return val&&(0,util.isFunction)(val.toDataURL)}function setStyleAttrs(attrs,style,el,scope){!function mapStyleToAttrs(updateAttr,style,el,forceUpdate){var opacity=null==style.opacity?1:style.opacity;if(el instanceof graphic_Image.Ay)updateAttr("opacity",opacity);else{if(function pathHasFill(style){var fill=style.fill;return null!=fill&&"none"!==fill}(style)){var fill=(0,helper.$2)(style.fill);updateAttr("fill",fill.color);var fillOpacity=null!=style.fillOpacity?style.fillOpacity*fill.opacity*opacity:fill.opacity*opacity;(forceUpdate||fillOpacity<1)&&updateAttr("fill-opacity",fillOpacity)}else updateAttr("fill","none");if(function pathHasStroke(style){var stroke=style.stroke;return null!=stroke&&"none"!==stroke}(style)){var stroke=(0,helper.$2)(style.stroke);updateAttr("stroke",stroke.color);var strokeScale=style.strokeNoScale?el.getLineScale():1,strokeWidth=strokeScale?(style.lineWidth||0)/strokeScale:0,strokeOpacity=null!=style.strokeOpacity?style.strokeOpacity*stroke.opacity*opacity:stroke.opacity*opacity,strokeFirst=style.strokeFirst;if((forceUpdate||1!==strokeWidth)&&updateAttr("stroke-width",strokeWidth),(forceUpdate||strokeFirst)&&updateAttr("paint-order",strokeFirst?"stroke":"fill"),(forceUpdate||strokeOpacity<1)&&updateAttr("stroke-opacity",strokeOpacity),style.lineDash){var _a=(0,dashStyle.V)(el),lineDash=_a[0],lineDashOffset=_a[1];lineDash&&(lineDashOffset=mathRound(lineDashOffset||0),updateAttr("stroke-dasharray",lineDash.join(",")),(lineDashOffset||forceUpdate)&&updateAttr("stroke-dashoffset",lineDashOffset))}else forceUpdate&&updateAttr("stroke-dasharray","none");for(var i=0;i<strokeProps.length;i++){var propName=strokeProps[i];if(forceUpdate||style[propName]!==Path.MW[propName]){var val=style[propName]||Path.MW[propName];val&&updateAttr(svgStrokeProps[i],val)}}}else forceUpdate&&updateAttr("stroke","none")}}(function(key,val){var isFillStroke="fill"===key||"stroke"===key;isFillStroke&&(0,helper.bn)(val)?setGradient(style,attrs,key,scope):isFillStroke&&(0,helper.Pt)(val)?setPattern(el,attrs,key,scope):attrs[key]=val,isFillStroke&&scope.ssr&&"none"===val&&(attrs["pointer-events"]="visible")},style,el,!1),function setShadow(el,attrs,scope){var style=el.style;if((0,helper.dX)(style)){var shadowKey=(0,helper.si)(el),shadowCache=scope.shadowCache,shadowId=shadowCache[shadowKey];if(!shadowId){var globalScale=el.getGlobalScale(),scaleX=globalScale[0],scaleY=globalScale[1];if(!scaleX||!scaleY)return;var offsetX=style.shadowOffsetX||0,offsetY=style.shadowOffsetY||0,blur_1=style.shadowBlur,_a=(0,helper.$2)(style.shadowColor),opacity=_a.opacity,color=_a.color,stdDeviation=blur_1/2/scaleX+" "+blur_1/2/scaleY;shadowId=scope.zrId+"-s"+scope.shadowIdx++,scope.defs[shadowId]=createVNode("filter",shadowId,{id:shadowId,x:"-100%",y:"-100%",width:"300%",height:"300%"},[createVNode("feDropShadow","",{dx:offsetX/scaleX,dy:offsetY/scaleY,stdDeviation,"flood-color":color,"flood-opacity":opacity})]),shadowCache[shadowKey]=shadowId}attrs.filter=(0,helper.Xu)(shadowId)}}(el,attrs,scope)}function setMetaData(attrs,el){var metaData=(0,zrender.getElementSSRData)(el);metaData&&(metaData.each(function(val,key){null!=val&&(attrs[("ecmeta_"+key).toLowerCase()]=val+"")}),el.isSilent()&&(attrs.ecmeta_silent="true"))}function noRotateScale(m){return(0,helper.Cv)(m[0]-1)&&(0,helper.Cv)(m[1])&&(0,helper.Cv)(m[2])&&(0,helper.Cv)(m[3]-1)}function setTransform(attrs,m,compress){if(m&&(!function noTranslate(m){return(0,helper.Cv)(m[4])&&(0,helper.Cv)(m[5])}(m)||!noRotateScale(m))){var mul=compress?10:1e4;attrs.transform=noRotateScale(m)?"translate("+round(m[4]*mul)/mul+" "+round(m[5]*mul)/mul+")":(0,helper.nV)(m)}}function convertPolyShape(shape,attrs,mul){for(var points=shape.points,strArr=[],i=0;i<points.length;i++)strArr.push(round(points[i][0]*mul)/mul),strArr.push(round(points[i][1]*mul)/mul);attrs.points=strArr.join(" ")}function validatePolyShape(shape){return!shape.smooth}var builtinShapesDef={circle:[function createAttrsConvert(desc){var normalizedDesc=(0,util.map)(desc,function(item){return"string"==typeof item?[item,item]:item});return function(shape,attrs,mul){for(var i=0;i<normalizedDesc.length;i++){var item=normalizedDesc[i],val=shape[item[0]];null!=val&&(attrs[item[1]]=round(val*mul)/mul)}}}(["cx","cy","r"])],polyline:[convertPolyShape,validatePolyShape],polygon:[convertPolyShape,validatePolyShape]};function brushSVGPath(el,scope){var style=el.style,shape=el.shape,builtinShpDef=builtinShapesDef[el.type],attrs={},needsAnimate=scope.animation,svgElType="path",strokePercent=el.style.strokePercent,precision=scope.compress&&(0,helper.MD)(el)||4;if(!builtinShpDef||scope.willUpdate||builtinShpDef[1]&&!builtinShpDef[1](shape)||needsAnimate&&function hasShapeAnimation(el){for(var animators=el.animators,i=0;i<animators.length;i++)if("shape"===animators[i].targetName)return!0;return!1}(el)||strokePercent<1){var needBuildPath=!el.path||el.shapeChanged();el.path||el.createPathProxy();var path=el.path;needBuildPath&&(path.beginPath(),el.buildPath(path,el.shape),el.pathUpdated());var pathVersion=path.getVersion(),elExt=el,svgPathBuilder=elExt.__svgPathBuilder;elExt.__svgPathVersion===pathVersion&&svgPathBuilder&&strokePercent===elExt.__svgPathStrokePercent||(svgPathBuilder||(svgPathBuilder=elExt.__svgPathBuilder=new svg_SVGPathRebuilder),svgPathBuilder.reset(precision),path.rebuildPath(svgPathBuilder,strokePercent),svgPathBuilder.generateStr(),elExt.__svgPathVersion=pathVersion,elExt.__svgPathStrokePercent=strokePercent),attrs.d=svgPathBuilder.getStr()}else{svgElType=el.type;var mul=Math.pow(10,precision);builtinShpDef[0](shape,attrs,mul)}return setTransform(attrs,el.transform),setStyleAttrs(attrs,style,el,scope),setMetaData(attrs,el),scope.animation&&createCSSAnimation(el,attrs,scope),scope.emphasis&&function createCSSEmphasis(el,attrs,scope){if(!el.ignore)if(el.isSilent())setClassAttribute(style={"pointer-events":"none"},attrs,scope,!0);else{var emphasisStyle=el.states.emphasis&&el.states.emphasis.style?el.states.emphasis.style:{},fill=emphasisStyle.fill;if(!fill){var normalFill=el.style&&el.style.fill,selectFill=el.states.select&&el.states.select.style&&el.states.select.style.fill,fromFill=el.currentStates.indexOf("select")>=0&&selectFill||normalFill;fromFill&&(fill=(0,tool_color.liftColor)(fromFill))}var lineWidth=emphasisStyle.lineWidth;lineWidth&&(lineWidth/=!emphasisStyle.strokeNoScale&&el.transform?el.transform[0]:1);var style={cursor:"pointer"};fill&&(style.fill=fill),emphasisStyle.stroke&&(style.stroke=emphasisStyle.stroke),lineWidth&&(style["stroke-width"]=lineWidth),setClassAttribute(style,attrs,scope,!0)}}(el,attrs,scope),createVNode(svgElType,el.id+"",attrs)}function brush(el,scope){return el instanceof Path.Ay?brushSVGPath(el,scope):el instanceof graphic_Image.Ay?function brushSVGImage(el,scope){var style=el.style,image=style.image;if(image&&!(0,util.isString)(image)&&(isImageLike(image)?image=image.src:isCanvasLike(image)&&(image=image.toDataURL())),image){var x=style.x||0,y=style.y||0,attrs={href:image,width:style.width,height:style.height};return x&&(attrs.x=x),y&&(attrs.y=y),setTransform(attrs,el.transform),setStyleAttrs(attrs,style,el,scope),setMetaData(attrs,el),scope.animation&&createCSSAnimation(el,attrs,scope),createVNode("image",el.id+"",attrs)}}(el,scope):el instanceof TSpan.A?function brushSVGTSpan(el,scope){var style=el.style,text=style.text;if(null!=text&&(text+=""),text&&!isNaN(style.x)&&!isNaN(style.y)){var font=style.font||platform.OH,x=style.x||0,y=(0,helper.sZ)(style.y||0,(0,contain_text.ks)(font),style.textBaseline),attrs={"dominant-baseline":"central","text-anchor":helper.eQ[style.textAlign]||style.textAlign};if((0,Text.XE)(style)){var separatedFontStr="",fontStyle=style.fontStyle,fontSize=(0,Text.I5)(style.fontSize);if(!parseFloat(fontSize))return;var fontFamily=style.fontFamily||platform.zs,fontWeight=style.fontWeight;separatedFontStr+="font-size:"+fontSize+";font-family:"+fontFamily+";",fontStyle&&"normal"!==fontStyle&&(separatedFontStr+="font-style:"+fontStyle+";"),fontWeight&&"normal"!==fontWeight&&(separatedFontStr+="font-weight:"+fontWeight+";"),attrs.style=separatedFontStr}else attrs.style="font: "+font;return text.match(/\s/)&&(attrs["xml:space"]="preserve"),x&&(attrs.x=x),y&&(attrs.y=y),setTransform(attrs,el.transform),setStyleAttrs(attrs,style,el,scope),setMetaData(attrs,el),scope.animation&&createCSSAnimation(el,attrs,scope),createVNode("text",el.id+"",attrs,void 0,text)}}(el,scope):void 0}function setGradient(style,attrs,target,scope){var gradientTag,val=style[target],gradientAttrs={gradientUnits:val.global?"userSpaceOnUse":"objectBoundingBox"};if((0,helper.OS)(val))gradientTag="linearGradient",gradientAttrs.x1=val.x,gradientAttrs.y1=val.y,gradientAttrs.x2=val.x2,gradientAttrs.y2=val.y2;else{if(!(0,helper.OH)(val))return void 0;gradientTag="radialGradient",gradientAttrs.cx=(0,util.retrieve2)(val.x,.5),gradientAttrs.cy=(0,util.retrieve2)(val.y,.5),gradientAttrs.r=(0,util.retrieve2)(val.r,.5)}for(var colors=val.colorStops,colorStops=[],i=0,len=colors.length;i<len;++i){var offset=100*(0,helper.XP)(colors[i].offset)+"%",stopColor=colors[i].color,_a=(0,helper.$2)(stopColor),color=_a.color,opacity=_a.opacity,stopsAttrs={offset};stopsAttrs["stop-color"]=color,opacity<1&&(stopsAttrs["stop-opacity"]=opacity),colorStops.push(createVNode("stop",i+"",stopsAttrs))}var gradientKey=vNodeToString(createVNode(gradientTag,"",gradientAttrs,colorStops)),gradientCache=scope.gradientCache,gradientId=gradientCache[gradientKey];gradientId||(gradientId=scope.zrId+"-g"+scope.gradientIdx++,gradientCache[gradientKey]=gradientId,gradientAttrs.id=gradientId,scope.defs[gradientId]=createVNode(gradientTag,gradientId,gradientAttrs,colorStops)),attrs[target]=(0,helper.Xu)(gradientId)}function setPattern(el,attrs,target,scope){var child,val=el.style[target],boundingRect=el.getBoundingRect(),patternAttrs={},repeat=val.repeat,noRepeat="no-repeat"===repeat,repeatX="repeat-x"===repeat,repeatY="repeat-y"===repeat;if((0,helper.sL)(val)){var imageWidth_1=val.imageWidth,imageHeight_1=val.imageHeight,imageSrc=void 0,patternImage=val.image;if((0,util.isString)(patternImage)?imageSrc=patternImage:isImageLike(patternImage)?imageSrc=patternImage.src:isCanvasLike(patternImage)&&(imageSrc=patternImage.toDataURL()),"undefined"==typeof Image){var errMsg="Image width/height must been given explictly in svg-ssr renderer.";(0,util.assert)(imageWidth_1,errMsg),(0,util.assert)(imageHeight_1,errMsg)}else if(null==imageWidth_1||null==imageHeight_1){var setSizeToVNode_1=function(vNode,img){if(vNode){var svgEl=vNode.elm,width=imageWidth_1||img.width,height=imageHeight_1||img.height;"pattern"===vNode.tag&&(repeatX?(height=1,width/=boundingRect.width):repeatY&&(width=1,height/=boundingRect.height)),vNode.attrs.width=width,vNode.attrs.height=height,svgEl&&(svgEl.setAttribute("width",width),svgEl.setAttribute("height",height))}},createdImage=(0,helper_image.OD)(imageSrc,null,el,function(img){noRepeat||setSizeToVNode_1(patternVNode,img),setSizeToVNode_1(child,img)});createdImage&&createdImage.width&&createdImage.height&&(imageWidth_1=imageWidth_1||createdImage.width,imageHeight_1=imageHeight_1||createdImage.height)}child=createVNode("image","img",{href:imageSrc,width:imageWidth_1,height:imageHeight_1}),patternAttrs.width=imageWidth_1,patternAttrs.height=imageHeight_1}else val.svgElement&&(child=(0,util.clone)(val.svgElement),patternAttrs.width=val.svgWidth,patternAttrs.height=val.svgHeight);if(child){var patternWidth,patternHeight;noRepeat?patternWidth=patternHeight=1:repeatX?(patternHeight=1,patternWidth=patternAttrs.width/boundingRect.width):repeatY?(patternWidth=1,patternHeight=patternAttrs.height/boundingRect.height):patternAttrs.patternUnits="userSpaceOnUse",null==patternWidth||isNaN(patternWidth)||(patternAttrs.width=patternWidth),null==patternHeight||isNaN(patternHeight)||(patternAttrs.height=patternHeight);var patternTransform=(0,helper.Z1)(val);patternTransform&&(patternAttrs.patternTransform=patternTransform);var patternVNode=createVNode("pattern","",patternAttrs,[child]),patternKey=vNodeToString(patternVNode),patternCache=scope.patternCache,patternId=patternCache[patternKey];patternId||(patternId=scope.zrId+"-p"+scope.patternIdx++,patternCache[patternKey]=patternId,patternAttrs.id=patternId,patternVNode=scope.defs[patternId]=createVNode("pattern",patternId,patternAttrs,[child])),attrs[target]=(0,helper.Xu)(patternId)}}function setClipPath(clipPath,attrs,scope){var clipPathCache=scope.clipPathCache,defs=scope.defs,clipPathId=clipPathCache[clipPath.id];if(!clipPathId){var clipPathAttrs={id:clipPathId=scope.zrId+"-c"+scope.clipPathIdx++};clipPathCache[clipPath.id]=clipPathId,defs[clipPathId]=createVNode("clipPath",clipPathId,clipPathAttrs,[brushSVGPath(clipPath,scope)])}attrs["clip-path"]=(0,helper.Xu)(clipPathId)}function createTextNode(text){return document.createTextNode(text)}function insertBefore(parentNode,newNode,referenceNode){parentNode.insertBefore(newNode,referenceNode)}function removeChild(node,child){node.removeChild(child)}function appendChild(node,child){node.appendChild(child)}function parentNode(node){return node.parentNode}function nextSibling(node){return node.nextSibling}function setTextContent(node,text){node.textContent=text}var emptyNode=createVNode("","");function isUndef(s){return void 0===s}function isDef(s){return void 0!==s}function createKeyToOldIdx(children,beginIdx,endIdx){for(var map={},i=beginIdx;i<=endIdx;++i){var key=children[i].key;void 0!==key&&(map[key]=i)}return map}function sameVnode(vnode1,vnode2){var isSameKey=vnode1.key===vnode2.key;return vnode1.tag===vnode2.tag&&isSameKey}function createElm(vnode){var i,children=vnode.children,tag=vnode.tag;if(isDef(tag)){var elm=vnode.elm=createElement(tag);if(updateAttrs(emptyNode,vnode),(0,util.isArray)(children))for(i=0;i<children.length;++i){var ch=children[i];null!=ch&&appendChild(elm,createElm(ch))}else isDef(vnode.text)&&!(0,util.isObject)(vnode.text)&&appendChild(elm,createTextNode(vnode.text))}else vnode.elm=createTextNode(vnode.text);return vnode.elm}function addVnodes(parentElm,before,vnodes,startIdx,endIdx){for(;startIdx<=endIdx;++startIdx){var ch=vnodes[startIdx];null!=ch&&insertBefore(parentElm,createElm(ch),before)}}function removeVnodes(parentElm,vnodes,startIdx,endIdx){for(;startIdx<=endIdx;++startIdx){var ch=vnodes[startIdx];if(null!=ch)if(isDef(ch.tag))removeChild(parentNode(ch.elm),ch.elm);else removeChild(parentElm,ch.elm)}}function updateAttrs(oldVnode,vnode){var key,elm=vnode.elm,oldAttrs=oldVnode&&oldVnode.attrs||{},attrs=vnode.attrs||{};if(oldAttrs!==attrs){for(key in attrs){var cur=attrs[key];oldAttrs[key]!==cur&&(!0===cur?elm.setAttribute(key,""):!1===cur?elm.removeAttribute(key):"style"===key?elm.style.cssText=cur:120!==key.charCodeAt(0)?elm.setAttribute(key,cur):"xmlns:xlink"===key||"xmlns"===key?elm.setAttributeNS("http://www.w3.org/2000/xmlns/",key,cur):58===key.charCodeAt(3)?elm.setAttributeNS("http://www.w3.org/XML/1998/namespace",key,cur):58===key.charCodeAt(5)?elm.setAttributeNS(XLINKNS,key,cur):elm.setAttribute(key,cur))}for(key in oldAttrs)key in attrs||elm.removeAttribute(key)}}function patchVnode(oldVnode,vnode){var elm=vnode.elm=oldVnode.elm,oldCh=oldVnode.children,ch=vnode.children;oldVnode!==vnode&&(updateAttrs(oldVnode,vnode),isUndef(vnode.text)?isDef(oldCh)&&isDef(ch)?oldCh!==ch&&function updateChildren(parentElm,oldCh,newCh){for(var oldKeyToIdx,idxInOld,elmToMove,oldStartIdx=0,newStartIdx=0,oldEndIdx=oldCh.length-1,oldStartVnode=oldCh[0],oldEndVnode=oldCh[oldEndIdx],newEndIdx=newCh.length-1,newStartVnode=newCh[0],newEndVnode=newCh[newEndIdx];oldStartIdx<=oldEndIdx&&newStartIdx<=newEndIdx;)null==oldStartVnode?oldStartVnode=oldCh[++oldStartIdx]:null==oldEndVnode?oldEndVnode=oldCh[--oldEndIdx]:null==newStartVnode?newStartVnode=newCh[++newStartIdx]:null==newEndVnode?newEndVnode=newCh[--newEndIdx]:sameVnode(oldStartVnode,newStartVnode)?(patchVnode(oldStartVnode,newStartVnode),oldStartVnode=oldCh[++oldStartIdx],newStartVnode=newCh[++newStartIdx]):sameVnode(oldEndVnode,newEndVnode)?(patchVnode(oldEndVnode,newEndVnode),oldEndVnode=oldCh[--oldEndIdx],newEndVnode=newCh[--newEndIdx]):sameVnode(oldStartVnode,newEndVnode)?(patchVnode(oldStartVnode,newEndVnode),insertBefore(parentElm,oldStartVnode.elm,nextSibling(oldEndVnode.elm)),oldStartVnode=oldCh[++oldStartIdx],newEndVnode=newCh[--newEndIdx]):sameVnode(oldEndVnode,newStartVnode)?(patchVnode(oldEndVnode,newStartVnode),insertBefore(parentElm,oldEndVnode.elm,oldStartVnode.elm),oldEndVnode=oldCh[--oldEndIdx],newStartVnode=newCh[++newStartIdx]):(isUndef(oldKeyToIdx)&&(oldKeyToIdx=createKeyToOldIdx(oldCh,oldStartIdx,oldEndIdx)),isUndef(idxInOld=oldKeyToIdx[newStartVnode.key])||(elmToMove=oldCh[idxInOld]).tag!==newStartVnode.tag?insertBefore(parentElm,createElm(newStartVnode),oldStartVnode.elm):(patchVnode(elmToMove,newStartVnode),oldCh[idxInOld]=void 0,insertBefore(parentElm,elmToMove.elm,oldStartVnode.elm)),newStartVnode=newCh[++newStartIdx]);(oldStartIdx<=oldEndIdx||newStartIdx<=newEndIdx)&&(oldStartIdx>oldEndIdx?addVnodes(parentElm,null==newCh[newEndIdx+1]?null:newCh[newEndIdx+1].elm,newCh,newStartIdx,newEndIdx):removeVnodes(parentElm,oldCh,oldStartIdx,oldEndIdx))}(elm,oldCh,ch):isDef(ch)?(isDef(oldVnode.text)&&setTextContent(elm,""),addVnodes(elm,null,ch,0,ch.length-1)):isDef(oldCh)?removeVnodes(elm,oldCh,0,oldCh.length-1):isDef(oldVnode.text)&&setTextContent(elm,""):oldVnode.text!==vnode.text&&(isDef(oldCh)&&removeVnodes(elm,oldCh,0,oldCh.length-1),setTextContent(elm,vnode.text)))}var canvas_helper=__webpack_require__("./node_modules/zrender/lib/canvas/helper.js"),svgId=0,SVGPainter=function(){function SVGPainter(root,storage,opts){if(this.type="svg",this.refreshHover=function(){0},this.configLayer=function(){0},this.storage=storage,this._opts=opts=(0,util.extend)({},opts),this.root=root,this._id="zr"+svgId++,this._oldVNode=createSVGVNode(opts.width,opts.height),root&&!opts.ssr){var viewport=this._viewport=document.createElement("div");viewport.style.cssText="position:relative;overflow:hidden";var svgDom=this._svgDom=this._oldVNode.elm=createElement("svg");updateAttrs(null,this._oldVNode),viewport.appendChild(svgDom),root.appendChild(viewport)}this.resize(opts.width,opts.height)}return SVGPainter.prototype.getType=function(){return this.type},SVGPainter.prototype.getViewportRoot=function(){return this._viewport},SVGPainter.prototype.getViewportRootOffset=function(){var viewportRoot=this.getViewportRoot();if(viewportRoot)return{offsetLeft:viewportRoot.offsetLeft||0,offsetTop:viewportRoot.offsetTop||0}},SVGPainter.prototype.getSvgDom=function(){return this._svgDom},SVGPainter.prototype.refresh=function(){if(this.root){var vnode=this.renderToVNode({willUpdate:!0});vnode.attrs.style="position:absolute;left:0;top:0;user-select:none",function patch(oldVnode,vnode){if(sameVnode(oldVnode,vnode))patchVnode(oldVnode,vnode);else{var elm=oldVnode.elm,parent_2=parentNode(elm);createElm(vnode),null!==parent_2&&(insertBefore(parent_2,vnode.elm,nextSibling(elm)),removeVnodes(parent_2,[oldVnode],0,0))}return vnode}(this._oldVNode,vnode),this._oldVNode=vnode}},SVGPainter.prototype.renderOneToVNode=function(el){return brush(el,createBrushScope(this._id))},SVGPainter.prototype.renderToVNode=function(opts){opts=opts||{};var list=this.storage.getDisplayList(!0),width=this._width,height=this._height,scope=createBrushScope(this._id);scope.animation=opts.animation,scope.willUpdate=opts.willUpdate,scope.compress=opts.compress,scope.emphasis=opts.emphasis,scope.ssr=this._opts.ssr;var children=[],bgVNode=this._bgVNode=function createBackgroundVNode(width,height,backgroundColor,scope){var bgVNode;if(backgroundColor&&"none"!==backgroundColor)if(bgVNode=createVNode("rect","bg",{width,height,x:"0",y:"0"}),(0,helper.bn)(backgroundColor))setGradient({fill:backgroundColor},bgVNode.attrs,"fill",scope);else if((0,helper.Pt)(backgroundColor))setPattern({style:{fill:backgroundColor},dirty:util.noop,getBoundingRect:function(){return{width,height}}},bgVNode.attrs,"fill",scope);else{var _a=(0,helper.$2)(backgroundColor),color=_a.color,opacity=_a.opacity;bgVNode.attrs.fill=color,opacity<1&&(bgVNode.attrs["fill-opacity"]=opacity)}return bgVNode}(width,height,this._backgroundColor,scope);bgVNode&&children.push(bgVNode);var mainVNode=opts.compress?null:this._mainVNode=createVNode("g","main",{},[]);this._paintList(list,scope,mainVNode?mainVNode.children:children),mainVNode&&children.push(mainVNode);var defs=(0,util.map)((0,util.keys)(scope.defs),function(id){return scope.defs[id]});if(defs.length&&children.push(createVNode("defs","defs",{},defs)),opts.animation){var animationCssStr=function getCssString(selectorNodes,animationNodes,opts){var S=(opts=opts||{}).newline?"\n":"",bracketBegin=" {"+S,bracketEnd=S+"}",selectors=(0,util.map)((0,util.keys)(selectorNodes),function(className){return className+bracketBegin+(0,util.map)((0,util.keys)(selectorNodes[className]),function(attrName){return attrName+":"+selectorNodes[className][attrName]+";"}).join(S)+bracketEnd}).join(S),animations=(0,util.map)((0,util.keys)(animationNodes),function(animationName){return"@keyframes "+animationName+bracketBegin+(0,util.map)((0,util.keys)(animationNodes[animationName]),function(percent){return percent+bracketBegin+(0,util.map)((0,util.keys)(animationNodes[animationName][percent]),function(attrName){var val=animationNodes[animationName][percent][attrName];return"d"===attrName&&(val='path("'+val+'")'),attrName+":"+val+";"}).join(S)+bracketEnd}).join(S)+bracketEnd}).join(S);return selectors||animations?["<![CDATA[",selectors,animations,"]]>"].join(S):""}(scope.cssNodes,scope.cssAnims,{newline:!0});if(animationCssStr){var styleNode=createVNode("style","stl",{},[],animationCssStr);children.push(styleNode)}}return createSVGVNode(width,height,children,opts.useViewBox)},SVGPainter.prototype.renderToString=function(opts){return opts=opts||{},vNodeToString(this.renderToVNode({animation:(0,util.retrieve2)(opts.cssAnimation,!0),emphasis:(0,util.retrieve2)(opts.cssEmphasis,!0),willUpdate:!1,compress:!0,useViewBox:(0,util.retrieve2)(opts.useViewBox,!0)}),{newline:!0})},SVGPainter.prototype.setBackgroundColor=function(backgroundColor){this._backgroundColor=backgroundColor},SVGPainter.prototype.getSvgRoot=function(){return this._mainVNode&&this._mainVNode.elm},SVGPainter.prototype._paintList=function(list,scope,out){for(var currentClipPathGroup,prevClipPaths,listLen=list.length,clipPathsGroupsStack=[],clipPathsGroupsStackDepth=0,clipGroupNodeIdx=0,i=0;i<listLen;i++){var displayable=list[i];if(!displayable.invisible){var clipPaths=displayable.__clipPaths,len=clipPaths&&clipPaths.length||0,prevLen=prevClipPaths&&prevClipPaths.length||0,lca=void 0;for(lca=Math.max(len-1,prevLen-1);lca>=0&&(!clipPaths||!prevClipPaths||clipPaths[lca]!==prevClipPaths[lca]);lca--);for(var i_1=prevLen-1;i_1>lca;i_1--)currentClipPathGroup=clipPathsGroupsStack[--clipPathsGroupsStackDepth-1];for(var i_2=lca+1;i_2<len;i_2++){var groupAttrs={};setClipPath(clipPaths[i_2],groupAttrs,scope);var g=createVNode("g","clip-g-"+clipGroupNodeIdx++,groupAttrs,[]);(currentClipPathGroup?currentClipPathGroup.children:out).push(g),clipPathsGroupsStack[clipPathsGroupsStackDepth++]=g,currentClipPathGroup=g}prevClipPaths=clipPaths;var ret=brush(displayable,scope);ret&&(currentClipPathGroup?currentClipPathGroup.children:out).push(ret)}}},SVGPainter.prototype.resize=function(width,height){var opts=this._opts,root=this.root,viewport=this._viewport;if(null!=width&&(opts.width=width),null!=height&&(opts.height=height),root&&viewport&&(viewport.style.display="none",width=(0,canvas_helper.YC)(root,0,opts),height=(0,canvas_helper.YC)(root,1,opts),viewport.style.display=""),this._width!==width||this._height!==height){if(this._width=width,this._height=height,viewport){var viewportStyle=viewport.style;viewportStyle.width=width+"px",viewportStyle.height=height+"px"}if((0,helper.Pt)(this._backgroundColor))this.refresh();else{var svgDom=this._svgDom;svgDom&&(svgDom.setAttribute("width",width),svgDom.setAttribute("height",height));var bgEl=this._bgVNode&&this._bgVNode.elm;bgEl&&(bgEl.setAttribute("width",width),bgEl.setAttribute("height",height))}}},SVGPainter.prototype.getWidth=function(){return this._width},SVGPainter.prototype.getHeight=function(){return this._height},SVGPainter.prototype.dispose=function(){this.root&&(this.root.innerHTML=""),this._svgDom=this._viewport=this.storage=this._oldVNode=this._bgVNode=this._mainVNode=null},SVGPainter.prototype.clear=function(){this._svgDom&&(this._svgDom.innerHTML=null),this._oldVNode=null},SVGPainter.prototype.toDataURL=function(base64){var str=this.renderToString(),prefix="data:image/svg+xml;";return base64?(str=(0,helper.WG)(str))&&prefix+"base64,"+str:prefix+"charset=UTF-8,"+encodeURIComponent(str)},SVGPainter}();const Painter=SVGPainter;var line_install=__webpack_require__("./node_modules/echarts/lib/chart/line/install.js"),bar_install=__webpack_require__("./node_modules/echarts/lib/chart/bar/install.js"),pie_install=__webpack_require__("./node_modules/echarts/lib/chart/pie/install.js"),scatter_install=__webpack_require__("./node_modules/echarts/lib/chart/scatter/install.js"),radar_install=__webpack_require__("./node_modules/echarts/lib/chart/radar/install.js"),Circle=__webpack_require__("./node_modules/zrender/lib/graphic/shape/Circle.js"),RoamController=__webpack_require__("./node_modules/echarts/lib/component/helper/RoamController.js");function updateViewOnPan(controllerHost,dx,dy){var target=controllerHost.target;target.x+=dx,target.y+=dy,target.dirty()}function updateViewOnZoom(controllerHost,zoomDelta,zoomX,zoomY){var target=controllerHost.target,zoomLimit=controllerHost.zoomLimit,newZoom=controllerHost.zoom=controllerHost.zoom||1;if(newZoom*=zoomDelta,zoomLimit){var zoomMin=zoomLimit.min||0,zoomMax=zoomLimit.max||1/0;newZoom=Math.max(Math.min(zoomMax,newZoom),zoomMin)}var zoomScale=newZoom/controllerHost.zoom;controllerHost.zoom=newZoom,target.x-=(zoomX-target.x)*(zoomScale-1),target.y-=(zoomY-target.y)*(zoomScale-1),target.scaleX*=zoomScale,target.scaleY*=zoomScale,target.dirty()}var IRRELEVANT_EXCLUDES={axisPointer:1,tooltip:1,brush:1};function onIrrelevantElement(e,api,targetCoordSysModel){var model=api.getComponentByElement(e.topTarget),coordSys=model&&model.coordinateSystem;return model&&model!==targetCoordSysModel&&!IRRELEVANT_EXCLUDES.hasOwnProperty(model.mainType)&&coordSys&&coordSys.model!==targetCoordSysModel}var nodeParsers,Group=__webpack_require__("./node_modules/zrender/lib/graphic/Group.js"),basicTransition=__webpack_require__("./node_modules/echarts/lib/animation/basicTransition.js"),Polygon=__webpack_require__("./node_modules/zrender/lib/graphic/shape/Polygon.js"),shape_Polyline=__webpack_require__("./node_modules/zrender/lib/graphic/shape/Polyline.js"),graphic=__webpack_require__("./node_modules/echarts/lib/util/graphic.js"),states=__webpack_require__("./node_modules/echarts/lib/util/states.js"),Rect=__webpack_require__("./node_modules/zrender/lib/graphic/shape/Rect.js"),Ellipse=__webpack_require__("./node_modules/zrender/lib/graphic/shape/Ellipse.js"),Line=__webpack_require__("./node_modules/zrender/lib/graphic/shape/Line.js"),matrix=__webpack_require__("./node_modules/zrender/lib/core/matrix.js"),tool_path=__webpack_require__("./node_modules/zrender/lib/tool/path.js"),LinearGradient=__webpack_require__("./node_modules/zrender/lib/graphic/LinearGradient.js"),RadialGradient=__webpack_require__("./node_modules/zrender/lib/graphic/RadialGradient.js");function parseXML(svg){(0,util.isString)(svg)&&(svg=(new DOMParser).parseFromString(svg,"text/xml"));var svgNode=svg;for(9===svgNode.nodeType&&(svgNode=svgNode.firstChild);"svg"!==svgNode.nodeName.toLowerCase()||1!==svgNode.nodeType;)svgNode=svgNode.nextSibling;return svgNode}var INHERITABLE_STYLE_ATTRIBUTES_MAP={fill:"fill",stroke:"stroke","stroke-width":"lineWidth",opacity:"opacity","fill-opacity":"fillOpacity","stroke-opacity":"strokeOpacity","stroke-dasharray":"lineDash","stroke-dashoffset":"lineDashOffset","stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-miterlimit":"miterLimit","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","text-anchor":"textAlign",visibility:"visibility",display:"display"},INHERITABLE_STYLE_ATTRIBUTES_MAP_KEYS=(0,util.keys)(INHERITABLE_STYLE_ATTRIBUTES_MAP),SELF_STYLE_ATTRIBUTES_MAP={"alignment-baseline":"textBaseline","stop-color":"stopColor"},SELF_STYLE_ATTRIBUTES_MAP_KEYS=(0,util.keys)(SELF_STYLE_ATTRIBUTES_MAP),SVGParser=function(){function SVGParser(){this._defs={},this._root=null}return SVGParser.prototype.parse=function(xml,opt){opt=opt||{};var svg=parseXML(xml);this._defsUsePending=[];var root=new Group.A;this._root=root;var named=[],viewBox=svg.getAttribute("viewBox")||"",width=parseFloat(svg.getAttribute("width")||opt.width),height=parseFloat(svg.getAttribute("height")||opt.height);isNaN(width)&&(width=null),isNaN(height)&&(height=null),parseAttributes(svg,root,null,!0,!1);for(var viewBoxRect,viewBoxTransform,child=svg.firstChild;child;)this._parseNode(child,root,named,null,!1,!1),child=child.nextSibling;if(function applyDefs(defs,defsUsePending){for(var i=0;i<defsUsePending.length;i++){var item=defsUsePending[i];item[0].style[item[1]]=defs[item[2]]}}(this._defs,this._defsUsePending),this._defsUsePending=[],viewBox){var viewBoxArr=splitNumberSequence(viewBox);viewBoxArr.length>=4&&(viewBoxRect={x:parseFloat(viewBoxArr[0]||0),y:parseFloat(viewBoxArr[1]||0),width:parseFloat(viewBoxArr[2]),height:parseFloat(viewBoxArr[3])})}if(viewBoxRect&&null!=width&&null!=height&&(viewBoxTransform=makeViewBoxTransform(viewBoxRect,{x:0,y:0,width,height}),!opt.ignoreViewBox)){var elRoot=root;(root=new Group.A).add(elRoot),elRoot.scaleX=elRoot.scaleY=viewBoxTransform.scale,elRoot.x=viewBoxTransform.x,elRoot.y=viewBoxTransform.y}return opt.ignoreRootClip||null==width||null==height||root.setClipPath(new Rect.A({shape:{x:0,y:0,width,height}})),{root,width,height,viewBoxRect,viewBoxTransform,named}},SVGParser.prototype._parseNode=function(xmlNode,parentGroup,named,namedFrom,isInDefs,isInText){var el,nodeName=xmlNode.nodeName.toLowerCase(),namedFromForSub=namedFrom;if("defs"===nodeName&&(isInDefs=!0),"text"===nodeName&&(isInText=!0),"defs"===nodeName||"switch"===nodeName)el=parentGroup;else{if(!isInDefs){var parser_1=nodeParsers[nodeName];if(parser_1&&(0,util.hasOwn)(nodeParsers,nodeName)){el=parser_1.call(this,xmlNode,parentGroup);var nameAttr=xmlNode.getAttribute("name");if(nameAttr){var newNamed={name:nameAttr,namedFrom:null,svgNodeTagLower:nodeName,el};named.push(newNamed),"g"===nodeName&&(namedFromForSub=newNamed)}else namedFrom&&named.push({name:namedFrom.name,namedFrom,svgNodeTagLower:nodeName,el});parentGroup.add(el)}}var parser=paintServerParsers[nodeName];if(parser&&(0,util.hasOwn)(paintServerParsers,nodeName)){var def=parser.call(this,xmlNode),id=xmlNode.getAttribute("id");id&&(this._defs[id]=def)}}if(el&&el.isGroup)for(var child=xmlNode.firstChild;child;)1===child.nodeType?this._parseNode(child,el,named,namedFromForSub,isInDefs,isInText):3===child.nodeType&&isInText&&this._parseText(child,el),child=child.nextSibling},SVGParser.prototype._parseText=function(xmlNode,parentGroup){var text=new TSpan.A({style:{text:xmlNode.textContent},silent:!0,x:this._textX||0,y:this._textY||0});inheritStyle(parentGroup,text),parseAttributes(xmlNode,text,this._defsUsePending,!1,!1),function applyTextAlignment(text,parentGroup){var parentSelfStyle=parentGroup.__selfStyle;if(parentSelfStyle){var textBaseline=parentSelfStyle.textBaseline,zrTextBaseline=textBaseline;textBaseline&&"auto"!==textBaseline?"baseline"===textBaseline?zrTextBaseline="alphabetic":"before-edge"===textBaseline||"text-before-edge"===textBaseline?zrTextBaseline="top":"after-edge"===textBaseline||"text-after-edge"===textBaseline?zrTextBaseline="bottom":"central"!==textBaseline&&"mathematical"!==textBaseline||(zrTextBaseline="middle"):zrTextBaseline="alphabetic",text.style.textBaseline=zrTextBaseline}var parentInheritedStyle=parentGroup.__inheritedStyle;if(parentInheritedStyle){var textAlign=parentInheritedStyle.textAlign,zrTextAlign=textAlign;textAlign&&("middle"===textAlign&&(zrTextAlign="center"),text.style.textAlign=zrTextAlign)}}(text,parentGroup);var textStyle=text.style,fontSize=textStyle.fontSize;fontSize&&fontSize<9&&(textStyle.fontSize=9,text.scaleX*=fontSize/9,text.scaleY*=fontSize/9);var font=(textStyle.fontSize||textStyle.fontFamily)&&[textStyle.fontStyle,textStyle.fontWeight,(textStyle.fontSize||12)+"px",textStyle.fontFamily||"sans-serif"].join(" ");textStyle.font=font;var rect=text.getBoundingRect();return this._textX+=rect.width,parentGroup.add(text),text},SVGParser.internalField=void(nodeParsers={g:function(xmlNode,parentGroup){var g=new Group.A;return inheritStyle(parentGroup,g),parseAttributes(xmlNode,g,this._defsUsePending,!1,!1),g},rect:function(xmlNode,parentGroup){var rect=new Rect.A;return inheritStyle(parentGroup,rect),parseAttributes(xmlNode,rect,this._defsUsePending,!1,!1),rect.setShape({x:parseFloat(xmlNode.getAttribute("x")||"0"),y:parseFloat(xmlNode.getAttribute("y")||"0"),width:parseFloat(xmlNode.getAttribute("width")||"0"),height:parseFloat(xmlNode.getAttribute("height")||"0")}),rect.silent=!0,rect},circle:function(xmlNode,parentGroup){var circle=new Circle.A;return inheritStyle(parentGroup,circle),parseAttributes(xmlNode,circle,this._defsUsePending,!1,!1),circle.setShape({cx:parseFloat(xmlNode.getAttribute("cx")||"0"),cy:parseFloat(xmlNode.getAttribute("cy")||"0"),r:parseFloat(xmlNode.getAttribute("r")||"0")}),circle.silent=!0,circle},line:function(xmlNode,parentGroup){var line=new Line.A;return inheritStyle(parentGroup,line),parseAttributes(xmlNode,line,this._defsUsePending,!1,!1),line.setShape({x1:parseFloat(xmlNode.getAttribute("x1")||"0"),y1:parseFloat(xmlNode.getAttribute("y1")||"0"),x2:parseFloat(xmlNode.getAttribute("x2")||"0"),y2:parseFloat(xmlNode.getAttribute("y2")||"0")}),line.silent=!0,line},ellipse:function(xmlNode,parentGroup){var ellipse=new Ellipse.A;return inheritStyle(parentGroup,ellipse),parseAttributes(xmlNode,ellipse,this._defsUsePending,!1,!1),ellipse.setShape({cx:parseFloat(xmlNode.getAttribute("cx")||"0"),cy:parseFloat(xmlNode.getAttribute("cy")||"0"),rx:parseFloat(xmlNode.getAttribute("rx")||"0"),ry:parseFloat(xmlNode.getAttribute("ry")||"0")}),ellipse.silent=!0,ellipse},polygon:function(xmlNode,parentGroup){var pointsArr,pointsStr=xmlNode.getAttribute("points");pointsStr&&(pointsArr=parsePoints(pointsStr));var polygon=new Polygon.A({shape:{points:pointsArr||[]},silent:!0});return inheritStyle(parentGroup,polygon),parseAttributes(xmlNode,polygon,this._defsUsePending,!1,!1),polygon},polyline:function(xmlNode,parentGroup){var pointsArr,pointsStr=xmlNode.getAttribute("points");pointsStr&&(pointsArr=parsePoints(pointsStr));var polyline=new shape_Polyline.A({shape:{points:pointsArr||[]},silent:!0});return inheritStyle(parentGroup,polyline),parseAttributes(xmlNode,polyline,this._defsUsePending,!1,!1),polyline},image:function(xmlNode,parentGroup){var img=new graphic_Image.Ay;return inheritStyle(parentGroup,img),parseAttributes(xmlNode,img,this._defsUsePending,!1,!1),img.setStyle({image:xmlNode.getAttribute("xlink:href")||xmlNode.getAttribute("href"),x:+xmlNode.getAttribute("x"),y:+xmlNode.getAttribute("y"),width:+xmlNode.getAttribute("width"),height:+xmlNode.getAttribute("height")}),img.silent=!0,img},text:function(xmlNode,parentGroup){var x=xmlNode.getAttribute("x")||"0",y=xmlNode.getAttribute("y")||"0",dx=xmlNode.getAttribute("dx")||"0",dy=xmlNode.getAttribute("dy")||"0";this._textX=parseFloat(x)+parseFloat(dx),this._textY=parseFloat(y)+parseFloat(dy);var g=new Group.A;return inheritStyle(parentGroup,g),parseAttributes(xmlNode,g,this._defsUsePending,!1,!0),g},tspan:function(xmlNode,parentGroup){var x=xmlNode.getAttribute("x"),y=xmlNode.getAttribute("y");null!=x&&(this._textX=parseFloat(x)),null!=y&&(this._textY=parseFloat(y));var dx=xmlNode.getAttribute("dx")||"0",dy=xmlNode.getAttribute("dy")||"0",g=new Group.A;return inheritStyle(parentGroup,g),parseAttributes(xmlNode,g,this._defsUsePending,!1,!0),this._textX+=parseFloat(dx),this._textY+=parseFloat(dy),g},path:function(xmlNode,parentGroup){var d=xmlNode.getAttribute("d")||"",path=(0,tool_path.UJ)(d);return inheritStyle(parentGroup,path),parseAttributes(xmlNode,path,this._defsUsePending,!1,!1),path.silent=!0,path}}),SVGParser}(),paintServerParsers={lineargradient:function(xmlNode){var x1=parseInt(xmlNode.getAttribute("x1")||"0",10),y1=parseInt(xmlNode.getAttribute("y1")||"0",10),x2=parseInt(xmlNode.getAttribute("x2")||"10",10),y2=parseInt(xmlNode.getAttribute("y2")||"0",10),gradient=new LinearGradient.A(x1,y1,x2,y2);return parsePaintServerUnit(xmlNode,gradient),parseGradientColorStops(xmlNode,gradient),gradient},radialgradient:function(xmlNode){var cx=parseInt(xmlNode.getAttribute("cx")||"0",10),cy=parseInt(xmlNode.getAttribute("cy")||"0",10),r=parseInt(xmlNode.getAttribute("r")||"0",10),gradient=new RadialGradient.A(cx,cy,r);return parsePaintServerUnit(xmlNode,gradient),parseGradientColorStops(xmlNode,gradient),gradient}};function parsePaintServerUnit(xmlNode,gradient){"userSpaceOnUse"===xmlNode.getAttribute("gradientUnits")&&(gradient.global=!0)}function parseGradientColorStops(xmlNode,gradient){for(var stop=xmlNode.firstChild;stop;){if(1===stop.nodeType&&"stop"===stop.nodeName.toLocaleLowerCase()){var offsetStr=stop.getAttribute("offset"),offset=void 0;offset=offsetStr&&offsetStr.indexOf("%")>0?parseInt(offsetStr,10)/100:offsetStr?parseFloat(offsetStr):0;var styleVals={};parseInlineStyle(stop,styleVals,styleVals);var stopColor=styleVals.stopColor||stop.getAttribute("stop-color")||"#000000";gradient.colorStops.push({offset,color:stopColor})}stop=stop.nextSibling}}function inheritStyle(parent,child){parent&&parent.__inheritedStyle&&(child.__inheritedStyle||(child.__inheritedStyle={}),(0,util.defaults)(child.__inheritedStyle,parent.__inheritedStyle))}function parsePoints(pointsString){for(var list=splitNumberSequence(pointsString),points=[],i=0;i<list.length;i+=2){var x=parseFloat(list[i]),y=parseFloat(list[i+1]);points.push([x,y])}return points}function parseAttributes(xmlNode,el,defsUsePending,onlyInlineStyle,isTextGroup){var disp=el,inheritedStyle=disp.__inheritedStyle=disp.__inheritedStyle||{},selfStyle={};1===xmlNode.nodeType&&(!function parseTransformAttribute(xmlNode,node){var transform=xmlNode.getAttribute("transform");if(transform){transform=transform.replace(/,/g," ");var transformOps_1=[],mt=null;transform.replace(transformRegex,function(str,type,value){return transformOps_1.push(type,value),""});for(var i=transformOps_1.length-1;i>0;i-=2){var value=transformOps_1[i],type=transformOps_1[i-1],valueArr=splitNumberSequence(value);switch(mt=mt||matrix.create(),type){case"translate":matrix.translate(mt,mt,[parseFloat(valueArr[0]),parseFloat(valueArr[1]||"0")]);break;case"scale":matrix.scale(mt,mt,[parseFloat(valueArr[0]),parseFloat(valueArr[1]||valueArr[0])]);break;case"rotate":matrix.rotate(mt,mt,-parseFloat(valueArr[0])*DEGREE_TO_ANGLE,[parseFloat(valueArr[1]||"0"),parseFloat(valueArr[2]||"0")]);break;case"skewX":var sx=Math.tan(parseFloat(valueArr[0])*DEGREE_TO_ANGLE);matrix.mul(mt,[1,0,sx,1,0,0],mt);break;case"skewY":var sy=Math.tan(parseFloat(valueArr[0])*DEGREE_TO_ANGLE);matrix.mul(mt,[1,sy,0,1,0,0],mt);break;case"matrix":mt[0]=parseFloat(valueArr[0]),mt[1]=parseFloat(valueArr[1]),mt[2]=parseFloat(valueArr[2]),mt[3]=parseFloat(valueArr[3]),mt[4]=parseFloat(valueArr[4]),mt[5]=parseFloat(valueArr[5])}}node.setLocalTransform(mt)}}(xmlNode,el),parseInlineStyle(xmlNode,inheritedStyle,selfStyle),onlyInlineStyle||function parseAttributeStyle(xmlNode,inheritableStyleResult,selfStyleResult){for(var i=0;i<INHERITABLE_STYLE_ATTRIBUTES_MAP_KEYS.length;i++){var svgAttrName=INHERITABLE_STYLE_ATTRIBUTES_MAP_KEYS[i];null!=(attrValue=xmlNode.getAttribute(svgAttrName))&&(inheritableStyleResult[INHERITABLE_STYLE_ATTRIBUTES_MAP[svgAttrName]]=attrValue)}for(i=0;i<SELF_STYLE_ATTRIBUTES_MAP_KEYS.length;i++){var attrValue;svgAttrName=SELF_STYLE_ATTRIBUTES_MAP_KEYS[i];null!=(attrValue=xmlNode.getAttribute(svgAttrName))&&(selfStyleResult[SELF_STYLE_ATTRIBUTES_MAP[svgAttrName]]=attrValue)}}(xmlNode,inheritedStyle,selfStyle)),disp.style=disp.style||{},null!=inheritedStyle.fill&&(disp.style.fill=getFillStrokeStyle(disp,"fill",inheritedStyle.fill,defsUsePending)),null!=inheritedStyle.stroke&&(disp.style.stroke=getFillStrokeStyle(disp,"stroke",inheritedStyle.stroke,defsUsePending)),(0,util.each)(["lineWidth","opacity","fillOpacity","strokeOpacity","miterLimit","fontSize"],function(propName){null!=inheritedStyle[propName]&&(disp.style[propName]=parseFloat(inheritedStyle[propName]))}),(0,util.each)(["lineDashOffset","lineCap","lineJoin","fontWeight","fontFamily","fontStyle","textAlign"],function(propName){null!=inheritedStyle[propName]&&(disp.style[propName]=inheritedStyle[propName])}),isTextGroup&&(disp.__selfStyle=selfStyle),inheritedStyle.lineDash&&(disp.style.lineDash=(0,util.map)(splitNumberSequence(inheritedStyle.lineDash),function(str){return parseFloat(str)})),"hidden"!==inheritedStyle.visibility&&"collapse"!==inheritedStyle.visibility||(disp.invisible=!0),"none"===inheritedStyle.display&&(disp.ignore=!0)}var urlRegex=/^url\(\s*#(.*?)\)/;function getFillStrokeStyle(el,method,str,defsUsePending){var urlMatch=str&&str.match(urlRegex);if(!urlMatch)return"none"===str&&(str=null),str;var url=(0,util.trim)(urlMatch[1]);defsUsePending.push([el,method,url])}var numberReg=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function splitNumberSequence(rawStr){return rawStr.match(numberReg)||[]}var transformRegex=/(translate|scale|rotate|skewX|skewY|matrix)\(([\-\s0-9\.eE,]*)\)/g,DEGREE_TO_ANGLE=Math.PI/180;var styleRegex=/([^\s:;]+)\s*:\s*([^:;]+)/g;function parseInlineStyle(xmlNode,inheritableStyleResult,selfStyleResult){var styleRegResult,style=xmlNode.getAttribute("style");if(style)for(styleRegex.lastIndex=0;null!=(styleRegResult=styleRegex.exec(style));){var svgStlAttr=styleRegResult[1],zrInheritableStlAttr=(0,util.hasOwn)(INHERITABLE_STYLE_ATTRIBUTES_MAP,svgStlAttr)?INHERITABLE_STYLE_ATTRIBUTES_MAP[svgStlAttr]:null;zrInheritableStlAttr&&(inheritableStyleResult[zrInheritableStlAttr]=styleRegResult[2]);var zrSelfStlAttr=(0,util.hasOwn)(SELF_STYLE_ATTRIBUTES_MAP,svgStlAttr)?SELF_STYLE_ATTRIBUTES_MAP[svgStlAttr]:null;zrSelfStlAttr&&(selfStyleResult[zrSelfStlAttr]=styleRegResult[2])}}function makeViewBoxTransform(viewBoxRect,boundingRect){var scaleX=boundingRect.width/viewBoxRect.width,scaleY=boundingRect.height/viewBoxRect.height,scale=Math.min(scaleX,scaleY);return{scale,x:-(viewBoxRect.x+viewBoxRect.width/2)*scale+(boundingRect.x+boundingRect.width/2),y:-(viewBoxRect.y+viewBoxRect.height/2)*scale+(boundingRect.y+boundingRect.height/2)}}var BoundingRect=__webpack_require__("./node_modules/zrender/lib/core/BoundingRect.js"),Region=__webpack_require__("./node_modules/echarts/lib/coord/geo/Region.js"),REGION_AVAILABLE_SVG_TAG_MAP=(0,util.createHashMap)(["rect","circle","line","ellipse","polygon","polyline","path","text","tspan","g"]),GeoSVGResource=function(){function GeoSVGResource(mapName,svg){this.type="geoSVG",this._usedGraphicMap=(0,util.createHashMap)(),this._freedGraphics=[],this._mapName=mapName,this._parsedXML=parseXML(svg)}return GeoSVGResource.prototype.load=function(){var firstGraphic=this._firstGraphic;if(!firstGraphic){firstGraphic=this._firstGraphic=this._buildGraphic(this._parsedXML),this._freedGraphics.push(firstGraphic),this._boundingRect=this._firstGraphic.boundingRect.clone();var _a=function createRegions(named){var regions=[],regionsMap=(0,util.createHashMap)();return(0,util.each)(named,function(namedItem){if(null==namedItem.namedFrom){var region=new Region.U5(namedItem.name,namedItem.el);regions.push(region),regionsMap.set(namedItem.name,region)}}),{regions,regionsMap}}(firstGraphic.named),regions=_a.regions,regionsMap=_a.regionsMap;this._regions=regions,this._regionsMap=regionsMap}return{boundingRect:this._boundingRect,regions:this._regions,regionsMap:this._regionsMap}},GeoSVGResource.prototype._buildGraphic=function(svgXML){var result,rootFromParse;try{rootFromParse=(result=svgXML&&function parseSVG(xml,opt){return(new SVGParser).parse(xml,opt)}(svgXML,{ignoreViewBox:!0,ignoreRootClip:!0})||{}).root,(0,util.assert)(null!=rootFromParse)}catch(e){throw new Error("Invalid svg format\n"+e.message)}var root=new Group.A;root.add(rootFromParse),root.isGeoSVGGraphicRoot=!0;var svgWidth=result.width,svgHeight=result.height,viewBoxRect=result.viewBoxRect,boundingRect=this._boundingRect;if(!boundingRect){var bRectX=void 0,bRectY=void 0,bRectWidth=void 0,bRectHeight=void 0;if(null!=svgWidth?(bRectX=0,bRectWidth=svgWidth):viewBoxRect&&(bRectX=viewBoxRect.x,bRectWidth=viewBoxRect.width),null!=svgHeight?(bRectY=0,bRectHeight=svgHeight):viewBoxRect&&(bRectY=viewBoxRect.y,bRectHeight=viewBoxRect.height),null==bRectX||null==bRectY){var calculatedBoundingRect=rootFromParse.getBoundingRect();null==bRectX&&(bRectX=calculatedBoundingRect.x,bRectWidth=calculatedBoundingRect.width),null==bRectY&&(bRectY=calculatedBoundingRect.y,bRectHeight=calculatedBoundingRect.height)}boundingRect=this._boundingRect=new BoundingRect.A(bRectX,bRectY,bRectWidth,bRectHeight)}if(viewBoxRect){var viewBoxTransform=makeViewBoxTransform(viewBoxRect,boundingRect);rootFromParse.scaleX=rootFromParse.scaleY=viewBoxTransform.scale,rootFromParse.x=viewBoxTransform.x,rootFromParse.y=viewBoxTransform.y}root.setClipPath(new Rect.A({shape:boundingRect.plain()}));var named=[];return(0,util.each)(result.named,function(namedItem){null!=REGION_AVAILABLE_SVG_TAG_MAP.get(namedItem.svgNodeTagLower)&&(named.push(namedItem),function setSilent(el){el.silent=!1,el.isGroup&&el.traverse(function(child){child.silent=!1})}(namedItem.el))}),{root,boundingRect,named}},GeoSVGResource.prototype.useGraphic=function(hostKey){var usedRootMap=this._usedGraphicMap,svgGraphic=usedRootMap.get(hostKey);return svgGraphic||(svgGraphic=this._freedGraphics.pop()||this._buildGraphic(this._parsedXML),usedRootMap.set(hostKey,svgGraphic),svgGraphic)},GeoSVGResource.prototype.freeGraphic=function(hostKey){var usedRootMap=this._usedGraphicMap,svgGraphic=usedRootMap.get(hostKey);svgGraphic&&(usedRootMap.removeKey(hostKey),this._freedGraphics.push(svgGraphic))},GeoSVGResource}();for(var parseGeoJson=__webpack_require__("./node_modules/echarts/lib/coord/geo/parseGeoJson.js"),geoCoord=[126,25],points=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]],i=0;i<points.length;i++)for(var k=0;k<points[i].length;k++)points[i][k][0]/=10.5,points[i][k][1]/=-14,points[i][k][0]+=geoCoord[0],points[i][k][1]+=geoCoord[1];var coordsOffsetMap={:[32,80],:[0,-10],:[10,5],:[-10,10],:[5,5]};var diaoyuIsland_points=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]];var GeoJSONResource=function(){function GeoJSONResource(mapName,geoJSON,specialAreas){this.type="geoJSON",this._parsedMap=(0,util.createHashMap)(),this._mapName=mapName,this._specialAreas=specialAreas,this._geoJSON=function parseInput(source){return(0,util.isString)(source)?"undefined"!=typeof JSON&&JSON.parse?JSON.parse(source):new Function("return ("+source+");")():source}(geoJSON)}return GeoJSONResource.prototype.load=function(nameMap,nameProperty){nameProperty=nameProperty||"name";var parsed=this._parsedMap.get(nameProperty);if(!parsed){var rawRegions=this._parseToRegions(nameProperty);parsed=this._parsedMap.set(nameProperty,{regions:rawRegions,boundingRect:calculateBoundingRect(rawRegions)})}var regionsMap=(0,util.createHashMap)(),finalRegions=[];return(0,util.each)(parsed.regions,function(region){var regionName=region.name;nameMap&&(0,util.hasOwn)(nameMap,regionName)&&(region=region.cloneShallow(regionName=nameMap[regionName])),finalRegions.push(region),regionsMap.set(regionName,region)}),{regions:finalRegions,boundingRect:parsed.boundingRect||new BoundingRect.A(0,0,0,0),regionsMap}},GeoJSONResource.prototype._parseToRegions=function(nameProperty){var rawRegions,mapName=this._mapName,geoJSON=this._geoJSON;try{rawRegions=geoJSON?(0,parseGeoJson.A)(geoJSON,nameProperty):[]}catch(e){throw new Error("Invalid geoJson format\n"+e.message)}return function fixNanhai(mapType,regions){if("china"===mapType){for(var i=0;i<regions.length;i++)if(""===regions[i].name)return;regions.push(new Region.cn("",util.map(points,function(exterior){return{type:"polygon",exterior}}),geoCoord))}}(mapName,rawRegions),(0,util.each)(rawRegions,function(region){var regionName=region.name;!function fixTextCoords(mapType,region){if("china"===mapType){var coordFix=coordsOffsetMap[region.name];if(coordFix){var cp=region.getCenter();cp[0]+=coordFix[0]/10.5,cp[1]+=-coordFix[1]/14,region.setCenter(cp)}}}(mapName,region),function fixDiaoyuIsland(mapType,region){"china"===mapType&&""===region.name&&region.geometries.push({type:"polygon",exterior:diaoyuIsland_points[0]})}(mapName,region);var specialArea=this._specialAreas&&this._specialAreas[regionName];specialArea&&region.transformTo(specialArea.left,specialArea.top,specialArea.width,specialArea.height)},this),rawRegions},GeoJSONResource.prototype.getMapForUser=function(){return{geoJson:this._geoJSON,geoJSON:this._geoJSON,specialAreas:this._specialAreas}},GeoJSONResource}();function calculateBoundingRect(regions){for(var rect,i=0;i<regions.length;i++){var regionRect=regions[i].getBoundingRect();(rect=rect||regionRect.clone()).union(regionRect)}return rect}var storage=(0,util.createHashMap)();const geoSourceManager_registerMap=function(mapName,rawDef,rawSpecialAreas){if(rawDef.svg){var resource=new GeoSVGResource(mapName,rawDef.svg);storage.set(mapName,resource)}else{var geoJSON=rawDef.geoJson||rawDef.geoJSON;geoJSON&&!rawDef.features?rawSpecialAreas=rawDef.specialAreas:geoJSON=rawDef;resource=new GeoJSONResource(mapName,geoJSON,rawSpecialAreas);storage.set(mapName,resource)}},geoSourceManager_getGeoResource=function(mapName){return storage.get(mapName)},geoSourceManager_getMapForUser=function(mapName){var resource=storage.get(mapName);return resource&&"geoJSON"===resource.type&&resource.getMapForUser()},geoSourceManager_load=function(mapName,nameMap,nameProperty){var resource=storage.get(mapName);if(resource)return resource.load(nameMap,nameProperty)};var component=__webpack_require__("./node_modules/echarts/lib/util/component.js"),labelStyle=__webpack_require__("./node_modules/echarts/lib/label/labelStyle.js"),innerStore=__webpack_require__("./node_modules/echarts/lib/util/innerStore.js"),util_decal=__webpack_require__("./node_modules/echarts/lib/util/decal.js"),Displayable=__webpack_require__("./node_modules/zrender/lib/graphic/Displayable.js"),util_model=__webpack_require__("./node_modules/echarts/lib/util/model.js"),OPTION_STYLE_ENABLED_TAGS=["rect","circle","line","ellipse","polygon","polyline","path"],OPTION_STYLE_ENABLED_TAG_MAP=util.createHashMap(OPTION_STYLE_ENABLED_TAGS),STATE_TRIGGER_TAG_MAP=util.createHashMap(OPTION_STYLE_ENABLED_TAGS.concat(["g"])),LABEL_HOST_MAP=util.createHashMap(OPTION_STYLE_ENABLED_TAGS.concat(["g"])),mapLabelRaw=(0,util_model.$r)();function getFixedItemStyle(model){var itemStyle=model.getItemStyle(),areaColor=model.get("areaColor");return null!=areaColor&&(itemStyle.fill=areaColor),itemStyle}function fixLineStyle(styleHost){var style=styleHost.style;style&&(style.stroke=style.stroke||style.fill,style.fill=null)}var MapDraw=function(){function MapDraw(api){var group=new Group.A;this.uid=(0,component.$Q)("ec_map_draw"),this._controller=new RoamController.A(api.getZr()),this._controllerHost={target:group},this.group=group,group.add(this._regionsGroup=new Group.A),group.add(this._svgGroup=new Group.A)}return MapDraw.prototype.draw=function(mapOrGeoModel,ecModel,api,fromView,payload){var isGeo="geo"===mapOrGeoModel.mainType,data=mapOrGeoModel.getData&&mapOrGeoModel.getData();isGeo&&ecModel.eachComponent({mainType:"series",subType:"map"},function(mapSeries){data||mapSeries.getHostGeoModel()!==mapOrGeoModel||(data=mapSeries.getData())});var geo=mapOrGeoModel.coordinateSystem,regionsGroup=this._regionsGroup,group=this.group,transformInfo=geo.getTransformInfo(),transformInfoRaw=transformInfo.raw,transformInfoRoam=transformInfo.roam;!regionsGroup.childAt(0)||payload?(group.x=transformInfoRoam.x,group.y=transformInfoRoam.y,group.scaleX=transformInfoRoam.scaleX,group.scaleY=transformInfoRoam.scaleY,group.dirty()):basicTransition.oi(group,transformInfoRoam,mapOrGeoModel);var isVisualEncodedByVisualMap=data&&data.getVisual("visualMeta")&&data.getVisual("visualMeta").length>0,viewBuildCtx={api,geo,mapOrGeoModel,data,isVisualEncodedByVisualMap,isGeo,transformInfoRaw};"geoJSON"===geo.resourceType?this._buildGeoJSON(viewBuildCtx):"geoSVG"===geo.resourceType&&this._buildSVG(viewBuildCtx),this._updateController(mapOrGeoModel,ecModel,api),this._updateMapSelectHandler(mapOrGeoModel,regionsGroup,api,fromView)},MapDraw.prototype._buildGeoJSON=function(viewBuildCtx){var regionsGroupByName=this._regionsGroupByName=util.createHashMap(),regionsInfoByName=util.createHashMap(),regionsGroup=this._regionsGroup,transformInfoRaw=viewBuildCtx.transformInfoRaw,mapOrGeoModel=viewBuildCtx.mapOrGeoModel,data=viewBuildCtx.data,projection=viewBuildCtx.geo.projection,projectionStream=projection&&projection.stream;function transformPoint(point,project){return project&&(point=project(point)),point&&[point[0]*transformInfoRaw.scaleX+transformInfoRaw.x,point[1]*transformInfoRaw.scaleY+transformInfoRaw.y]}function transformPolygonPoints(inPoints){for(var outPoints=[],project=!projectionStream&&projection&&projection.project,i=0;i<inPoints.length;++i){var newPt=transformPoint(inPoints[i],project);newPt&&outPoints.push(newPt)}return outPoints}function getPolyShape(points){return{shape:{points:transformPolygonPoints(points)}}}regionsGroup.removeAll(),util.each(viewBuildCtx.geo.regions,function(region){var regionName=region.name,regionGroup=regionsGroupByName.get(regionName),_a=regionsInfoByName.get(regionName)||{},dataIdx=_a.dataIdx,regionModel=_a.regionModel;if(!regionGroup){regionGroup=regionsGroupByName.set(regionName,new Group.A),regionsGroup.add(regionGroup),dataIdx=data?data.indexOfName(regionName):null;var silent=(regionModel=viewBuildCtx.isGeo?mapOrGeoModel.getRegionModel(regionName):data?data.getItemModel(dataIdx):null).get("silent",!0);null!=silent&&(regionGroup.silent=silent),regionsInfoByName.set(regionName,{dataIdx,regionModel})}var polygonSubpaths=[],polylineSubpaths=[];util.each(region.geometries,function(geometry){if("polygon"===geometry.type){var polys=[geometry.exterior].concat(geometry.interiors||[]);projectionStream&&(polys=projectPolys(polys,projectionStream)),util.each(polys,function(poly){polygonSubpaths.push(new Polygon.A(getPolyShape(poly)))})}else{var points=geometry.points;projectionStream&&(points=projectPolys(points,projectionStream,!0)),util.each(points,function(points){polylineSubpaths.push(new shape_Polyline.A(getPolyShape(points)))})}});var centerPt=transformPoint(region.getCenter(),projection&&projection.project);function createCompoundPath(subpaths,isLine){if(subpaths.length){var compoundPath=new CompoundPath.A({culling:!0,segmentIgnoreThreshold:1,shape:{paths:subpaths}});regionGroup.add(compoundPath),applyOptionStyleForRegion(viewBuildCtx,compoundPath,dataIdx,regionModel),resetLabelForRegion(viewBuildCtx,compoundPath,regionName,regionModel,mapOrGeoModel,dataIdx,centerPt),isLine&&(fixLineStyle(compoundPath),util.each(compoundPath.states,fixLineStyle))}}createCompoundPath(polygonSubpaths),createCompoundPath(polylineSubpaths,!0)}),regionsGroupByName.each(function(regionGroup,regionName){var _a=regionsInfoByName.get(regionName),dataIdx=_a.dataIdx,regionModel=_a.regionModel;resetEventTriggerForRegion(viewBuildCtx,regionGroup,regionName,regionModel,mapOrGeoModel,dataIdx),resetTooltipForRegion(viewBuildCtx,regionGroup,regionName,regionModel,mapOrGeoModel),resetStateTriggerForRegion(viewBuildCtx,regionGroup,regionName,regionModel,mapOrGeoModel)},this)},MapDraw.prototype._buildSVG=function(viewBuildCtx){var mapName=viewBuildCtx.geo.map,transformInfoRaw=viewBuildCtx.transformInfoRaw;this._svgGroup.x=transformInfoRaw.x,this._svgGroup.y=transformInfoRaw.y,this._svgGroup.scaleX=transformInfoRaw.scaleX,this._svgGroup.scaleY=transformInfoRaw.scaleY,this._svgResourceChanged(mapName)&&(this._freeSVG(),this._useSVG(mapName));var svgDispatcherMap=this._svgDispatcherMap=util.createHashMap(),focusSelf=!1;util.each(this._svgGraphicRecord.named,function(namedItem){var regionName=namedItem.name,mapOrGeoModel=viewBuildCtx.mapOrGeoModel,data=viewBuildCtx.data,svgNodeTagLower=namedItem.svgNodeTagLower,el=namedItem.el,dataIdx=data?data.indexOfName(regionName):null,regionModel=mapOrGeoModel.getRegionModel(regionName);null!=OPTION_STYLE_ENABLED_TAG_MAP.get(svgNodeTagLower)&&el instanceof Displayable.Ay&&applyOptionStyleForRegion(viewBuildCtx,el,dataIdx,regionModel),el instanceof Displayable.Ay&&(el.culling=!0);var silent=regionModel.get("silent",!0);(null!=silent&&(el.silent=silent),el.z2EmphasisLift=0,namedItem.namedFrom)||(null!=LABEL_HOST_MAP.get(svgNodeTagLower)&&resetLabelForRegion(viewBuildCtx,el,regionName,regionModel,mapOrGeoModel,dataIdx,null),resetEventTriggerForRegion(viewBuildCtx,el,regionName,regionModel,mapOrGeoModel,dataIdx),resetTooltipForRegion(viewBuildCtx,el,regionName,regionModel,mapOrGeoModel),null!=STATE_TRIGGER_TAG_MAP.get(svgNodeTagLower)&&("self"===resetStateTriggerForRegion(viewBuildCtx,el,regionName,regionModel,mapOrGeoModel)&&(focusSelf=!0),(svgDispatcherMap.get(regionName)||svgDispatcherMap.set(regionName,[])).push(el)))},this),this._enableBlurEntireSVG(focusSelf,viewBuildCtx)},MapDraw.prototype._enableBlurEntireSVG=function(focusSelf,viewBuildCtx){if(focusSelf&&viewBuildCtx.isGeo){var opacity_1=viewBuildCtx.mapOrGeoModel.getModel(["blur","itemStyle"]).getItemStyle().opacity;this._svgGraphicRecord.root.traverse(function(el){if(!el.isGroup){(0,states.DW)(el);var style=el.ensureState("blur").style||{};null==style.opacity&&null!=opacity_1&&(style.opacity=opacity_1),el.ensureState("emphasis")}})}},MapDraw.prototype.remove=function(){this._regionsGroup.removeAll(),this._regionsGroupByName=null,this._svgGroup.removeAll(),this._freeSVG(),this._controller.dispose(),this._controllerHost=null},MapDraw.prototype.findHighDownDispatchers=function(name,geoModel){if(null==name)return[];var geo=geoModel.coordinateSystem;if("geoJSON"===geo.resourceType){var regionsGroupByName=this._regionsGroupByName;if(regionsGroupByName){var regionGroup=regionsGroupByName.get(name);return regionGroup?[regionGroup]:[]}}else if("geoSVG"===geo.resourceType)return this._svgDispatcherMap&&this._svgDispatcherMap.get(name)||[]},MapDraw.prototype._svgResourceChanged=function(mapName){return this._svgMapName!==mapName},MapDraw.prototype._useSVG=function(mapName){var resource=geoSourceManager_getGeoResource(mapName);if(resource&&"geoSVG"===resource.type){var svgGraphic=resource.useGraphic(this.uid);this._svgGroup.add(svgGraphic.root),this._svgGraphicRecord=svgGraphic,this._svgMapName=mapName}},MapDraw.prototype._freeSVG=function(){var mapName=this._svgMapName;if(null!=mapName){var resource=geoSourceManager_getGeoResource(mapName);resource&&"geoSVG"===resource.type&&resource.freeGraphic(this.uid),this._svgGraphicRecord=null,this._svgDispatcherMap=null,this._svgGroup.removeAll(),this._svgMapName=null}},MapDraw.prototype._updateController=function(mapOrGeoModel,ecModel,api){var geo=mapOrGeoModel.coordinateSystem,controller=this._controller,controllerHost=this._controllerHost;controllerHost.zoomLimit=mapOrGeoModel.get("scaleLimit"),controllerHost.zoom=geo.getZoom(),controller.enable(mapOrGeoModel.get("roam")||!1);var mainType=mapOrGeoModel.mainType;function makeActionBase(){var action={type:"geoRoam",componentType:mainType};return action[mainType+"Id"]=mapOrGeoModel.id,action}controller.off("pan").on("pan",function(e){this._mouseDownFlag=!1,updateViewOnPan(controllerHost,e.dx,e.dy),api.dispatchAction(util.extend(makeActionBase(),{dx:e.dx,dy:e.dy,animation:{duration:0}}))},this),controller.off("zoom").on("zoom",function(e){this._mouseDownFlag=!1,updateViewOnZoom(controllerHost,e.scale,e.originX,e.originY),api.dispatchAction(util.extend(makeActionBase(),{totalZoom:controllerHost.zoom,zoom:e.scale,originX:e.originX,originY:e.originY,animation:{duration:0}}))},this),controller.setPointerChecker(function(e,x,y){return geo.containPoint([x,y])&&!onIrrelevantElement(e,api,mapOrGeoModel)})},MapDraw.prototype.resetForLabelLayout=function(){this.group.traverse(function(el){var label=el.getTextContent();label&&(label.ignore=mapLabelRaw(label).ignore)})},MapDraw.prototype._updateMapSelectHandler=function(mapOrGeoModel,regionsGroup,api,fromView){var mapDraw=this;regionsGroup.off("mousedown"),regionsGroup.off("click"),mapOrGeoModel.get("selectedMode")&&(regionsGroup.on("mousedown",function(){mapDraw._mouseDownFlag=!0}),regionsGroup.on("click",function(e){mapDraw._mouseDownFlag&&(mapDraw._mouseDownFlag=!1)}))},MapDraw}();function applyOptionStyleForRegion(viewBuildCtx,el,dataIndex,regionModel){var normalStyleModel=regionModel.getModel("itemStyle"),emphasisStyleModel=regionModel.getModel(["emphasis","itemStyle"]),blurStyleModel=regionModel.getModel(["blur","itemStyle"]),selectStyleModel=regionModel.getModel(["select","itemStyle"]),normalStyle=getFixedItemStyle(normalStyleModel),emphasisStyle=getFixedItemStyle(emphasisStyleModel),selectStyle=getFixedItemStyle(selectStyleModel),blurStyle=getFixedItemStyle(blurStyleModel),data=viewBuildCtx.data;if(data){var style=data.getItemVisual(dataIndex,"style"),decal=data.getItemVisual(dataIndex,"decal");viewBuildCtx.isVisualEncodedByVisualMap&&style.fill&&(normalStyle.fill=style.fill),decal&&(normalStyle.decal=(0,util_decal.w)(decal,viewBuildCtx.api))}el.setStyle(normalStyle),el.style.strokeNoScale=!0,el.ensureState("emphasis").style=emphasisStyle,el.ensureState("select").style=selectStyle,el.ensureState("blur").style=blurStyle,(0,states.DW)(el)}function resetLabelForRegion(viewBuildCtx,el,regionName,regionModel,mapOrGeoModel,dataIdx,labelXY){var data=viewBuildCtx.data,isGeo=viewBuildCtx.isGeo,isDataNaN=data&&isNaN(data.get(data.mapDimension("value"),dataIdx)),itemLayout=data&&data.getItemLayout(dataIdx);if(isGeo||isDataNaN||itemLayout&&itemLayout.showLabel){var query=isGeo?regionName:dataIdx,labelFetcher=void 0;(!data||dataIdx>=0)&&(labelFetcher=mapOrGeoModel);var specifiedTextOpt=labelXY?{normal:{align:"center",verticalAlign:"middle"}}:null;(0,labelStyle.qM)(el,(0,labelStyle.lx)(regionModel),{labelFetcher,labelDataIndex:query,defaultText:regionName},specifiedTextOpt);var textEl=el.getTextContent();if(textEl&&(mapLabelRaw(textEl).ignore=textEl.ignore,el.textConfig&&labelXY)){var rect=el.getBoundingRect().clone();el.textConfig.layoutRect=rect,el.textConfig.position=[(labelXY[0]-rect.x)/rect.width*100+"%",(labelXY[1]-rect.y)/rect.height*100+"%"]}el.disableLabelAnimation=!0}else el.removeTextContent(),el.removeTextConfig(),el.disableLabelAnimation=null}function resetEventTriggerForRegion(viewBuildCtx,eventTrigger,regionName,regionModel,mapOrGeoModel,dataIdx){viewBuildCtx.data?viewBuildCtx.data.setItemGraphicEl(dataIdx,eventTrigger):(0,innerStore.z)(eventTrigger).eventData={componentType:"geo",componentIndex:mapOrGeoModel.componentIndex,geoIndex:mapOrGeoModel.componentIndex,name:regionName,region:regionModel&&regionModel.option||{}}}function resetTooltipForRegion(viewBuildCtx,el,regionName,regionModel,mapOrGeoModel){viewBuildCtx.data||graphic.setTooltipConfig({el,componentModel:mapOrGeoModel,itemName:regionName,itemTooltipOption:regionModel.get("tooltip")})}function resetStateTriggerForRegion(viewBuildCtx,el,regionName,regionModel,mapOrGeoModel){el.highDownSilentOnTouch=!!mapOrGeoModel.get("selectedMode");var emphasisModel=regionModel.getModel("emphasis"),focus=emphasisModel.get("focus");return(0,states.Lm)(el,focus,emphasisModel.get("blurScope"),emphasisModel.get("disabled")),viewBuildCtx.isGeo&&(0,states.ml)(el,mapOrGeoModel,regionName),focus}function projectPolys(rings,createStream,isLine){var curPoly,polygons=[];function startPolygon(){curPoly=[]}function endPolygon(){curPoly.length&&(polygons.push(curPoly),curPoly=[])}var stream=createStream({polygonStart:startPolygon,polygonEnd:endPolygon,lineStart:startPolygon,lineEnd:endPolygon,point:function(x,y){isFinite(x)&&isFinite(y)&&curPoly.push([x,y])},sphere:function(){}});return!isLine&&stream.polygonStart(),util.each(rings,function(ring){stream.lineStart();for(var i=0;i<ring.length;i++)stream.point(ring[i][0],ring[i][1]);stream.lineEnd()}),!isLine&&stream.polygonEnd(),polygons}const helper_MapDraw=MapDraw;var Chart=__webpack_require__("./node_modules/echarts/lib/view/Chart.js"),MapView=function(_super){function MapView(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=MapView.type,_this}return(0,tslib_es6.C6)(MapView,_super),MapView.prototype.render=function(mapModel,ecModel,api,payload){if(!payload||"mapToggleSelect"!==payload.type||payload.from!==this.uid){var group=this.group;if(group.removeAll(),!mapModel.getHostGeoModel()){if(this._mapDraw&&payload&&"geoRoam"===payload.type&&this._mapDraw.resetForLabelLayout(),payload&&"geoRoam"===payload.type&&"series"===payload.componentType&&payload.seriesId===mapModel.id)(mapDraw=this._mapDraw)&&group.add(mapDraw.group);else if(mapModel.needsDrawMap){var mapDraw=this._mapDraw||new helper_MapDraw(api);group.add(mapDraw.group),mapDraw.draw(mapModel,ecModel,api,this,payload),this._mapDraw=mapDraw}else this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;mapModel.get("showLegendSymbol")&&ecModel.getComponent("legend")&&this._renderSymbols(mapModel,ecModel,api)}}},MapView.prototype.remove=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},MapView.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null},MapView.prototype._renderSymbols=function(mapModel,ecModel,api){var originalData=mapModel.originalData,group=this.group;originalData.each(originalData.mapDimension("value"),function(value,originalDataIndex){if(!isNaN(value)){var layout=originalData.getItemLayout(originalDataIndex);if(layout&&layout.point){var point=layout.point,offset=layout.offset,circle=new Circle.A({style:{fill:mapModel.getData().getVisual("style").fill},shape:{cx:point[0]+9*offset,cy:point[1],r:3},silent:!0,z2:8+(offset?0:states.CA+1)});if(!offset){var fullData=mapModel.mainSeries.getData(),name_1=originalData.getName(originalDataIndex),fullIndex_1=fullData.indexOfName(name_1),itemModel=originalData.getItemModel(originalDataIndex),labelModel=itemModel.getModel("label"),regionGroup=fullData.getItemGraphicEl(fullIndex_1);(0,labelStyle.qM)(circle,(0,labelStyle.lx)(itemModel),{labelFetcher:{getFormattedLabel:function(idx,state){return mapModel.getFormattedLabel(fullIndex_1,state)}},defaultText:name_1}),circle.disableLabelAnimation=!0,labelModel.get("position")||circle.setTextConfig({position:"bottom"}),regionGroup.onHoverStateChange=function(toState){(0,states.Pk)(circle,toState)}}group.add(circle)}}})},MapView.type="map",MapView}(Chart.A);const map_MapView=MapView;var createSeriesDataSimply=__webpack_require__("./node_modules/echarts/lib/chart/helper/createSeriesDataSimply.js"),Series=__webpack_require__("./node_modules/echarts/lib/model/Series.js"),sourceHelper=__webpack_require__("./node_modules/echarts/lib/data/helper/sourceHelper.js"),tooltipMarkup=__webpack_require__("./node_modules/echarts/lib/component/tooltip/tooltipMarkup.js"),util_symbol=__webpack_require__("./node_modules/echarts/lib/util/symbol.js"),MapSeries=function(_super){function MapSeries(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=MapSeries.type,_this.needsDrawMap=!1,_this.seriesGroup=[],_this.getTooltipPosition=function(dataIndex){if(null!=dataIndex){var name_1=this.getData().getName(dataIndex),geo=this.coordinateSystem,region=geo.getRegion(name_1);return region&&geo.dataToPoint(region.getCenter())}},_this}return(0,tslib_es6.C6)(MapSeries,_super),MapSeries.prototype.getInitialData=function(option){for(var data=(0,createSeriesDataSimply.A)(this,{coordDimensions:["value"],encodeDefaulter:util.curry(sourceHelper.ln,this)}),dataNameIndexMap=util.createHashMap(),toAppendItems=[],i=0,len=data.count();i<len;i++){var name_2=data.getName(i);dataNameIndexMap.set(name_2,i)}var geoSource=geoSourceManager_load(this.getMapType(),this.option.nameMap,this.option.nameProperty);return util.each(geoSource.regions,function(region){var dataItem,name=region.name,dataNameIdx=dataNameIndexMap.get(name),specifiedGeoJSONRegionStyle=region.properties&&region.properties.echartsStyle;null==dataNameIdx?(dataItem={name},toAppendItems.push(dataItem)):dataItem=data.getRawDataItem(dataNameIdx),specifiedGeoJSONRegionStyle&&util.merge(dataItem,specifiedGeoJSONRegionStyle)}),data.appendData(toAppendItems),data},MapSeries.prototype.getHostGeoModel=function(){var geoIndex=this.option.geoIndex;return null!=geoIndex?this.ecModel.getComponent("geo",geoIndex):null},MapSeries.prototype.getMapType=function(){return(this.getHostGeoModel()||this).option.map},MapSeries.prototype.getRawValue=function(dataIndex){var data=this.getData();return data.get(data.mapDimension("value"),dataIndex)},MapSeries.prototype.getRegionModel=function(regionName){var data=this.getData();return data.getItemModel(data.indexOfName(regionName))},MapSeries.prototype.formatTooltip=function(dataIndex,multipleSeries,dataType){for(var data=this.getData(),value=this.getRawValue(dataIndex),name=data.getName(dataIndex),seriesGroup=this.seriesGroup,seriesNames=[],i=0;i<seriesGroup.length;i++){var otherIndex=seriesGroup[i].originalData.indexOfName(name),valueDim=data.mapDimension("value");isNaN(seriesGroup[i].originalData.get(valueDim,otherIndex))||seriesNames.push(seriesGroup[i].name)}return(0,tooltipMarkup.Qx)("section",{header:seriesNames.join(", "),noHeader:!seriesNames.length,blocks:[(0,tooltipMarkup.Qx)("nameValue",{name,value})]})},MapSeries.prototype.setZoom=function(zoom){this.option.zoom=zoom},MapSeries.prototype.setCenter=function(center){this.option.center=center},MapSeries.prototype.getLegendIcon=function(opt){var iconType=opt.icon||"roundRect",icon=(0,util_symbol.v5)(iconType,0,0,opt.itemWidth,opt.itemHeight,opt.itemStyle.fill);return icon.setStyle(opt.itemStyle),icon.style.stroke="none",iconType.indexOf("empty")>-1&&(icon.style.stroke=icon.style.fill,icon.style.fill="#fff",icon.style.lineWidth=2),icon},MapSeries.type="series.map",MapSeries.dependencies=["geo"],MapSeries.layoutMode="box",MapSeries.defaultOption={z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:null,showLegendSymbol:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,selectedMode:!0,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444",areaColor:"#eee"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{areaColor:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},nameProperty:"name"},MapSeries}(Series.A);const map_MapSeries=MapSeries;function mapDataStatistic(ecModel){var seriesGroups={};ecModel.eachSeriesByType("map",function(seriesModel){var hostGeoModel=seriesModel.getHostGeoModel(),key=hostGeoModel?"o"+hostGeoModel.id:"i"+seriesModel.getMapType();(seriesGroups[key]=seriesGroups[key]||[]).push(seriesModel)}),util.each(seriesGroups,function(seriesList,key){for(var data=function dataStatistics(datas,statisticType){var dataNameMap={};return util.each(datas,function(data){data.each(data.mapDimension("value"),function(value,idx){var mapKey="ec-"+data.getName(idx);dataNameMap[mapKey]=dataNameMap[mapKey]||[],isNaN(value)||dataNameMap[mapKey].push(value)})}),datas[0].map(datas[0].mapDimension("value"),function(value,idx){for(var mapKey="ec-"+datas[0].getName(idx),sum=0,min=1/0,max=-1/0,len=dataNameMap[mapKey].length,i=0;i<len;i++)min=Math.min(min,dataNameMap[mapKey][i]),max=Math.max(max,dataNameMap[mapKey][i]),sum+=dataNameMap[mapKey][i];return 0===len?NaN:"min"===statisticType?min:"max"===statisticType?max:"average"===statisticType?sum/len:sum})}(util.map(seriesList,function(seriesModel){return seriesModel.getData()}),seriesList[0].get("mapValueCalculation")),i=0;i<seriesList.length;i++)seriesList[i].originalData=seriesList[i].getData();for(i=0;i<seriesList.length;i++)seriesList[i].seriesGroup=seriesList,seriesList[i].needsDrawMap=0===i&&!seriesList[i].getHostGeoModel(),seriesList[i].setData(data.cloneShallow()),seriesList[i].mainSeries=seriesList[0]})}function mapSymbolLayout(ecModel){var processedMapType={};ecModel.eachSeriesByType("map",function(mapSeries){var mapType=mapSeries.getMapType();if(!mapSeries.getHostGeoModel()&&!processedMapType[mapType]){var mapSymbolOffsets={};util.each(mapSeries.seriesGroup,function(subMapSeries){var geo=subMapSeries.coordinateSystem,data=subMapSeries.originalData;subMapSeries.get("showLegendSymbol")&&ecModel.getComponent("legend")&&data.each(data.mapDimension("value"),function(value,idx){var name=data.getName(idx),region=geo.getRegion(name);if(region&&!isNaN(value)){var offset=mapSymbolOffsets[name]||0,point=geo.dataToPoint(region.getCenter());mapSymbolOffsets[name]=offset+1,data.setItemLayout(idx,{point,offset})}})});var data=mapSeries.getData();data.each(function(idx){var name=data.getName(idx),layout=data.getItemLayout(idx)||{};layout.showLabel=!mapSymbolOffsets[name],data.setItemLayout(idx,layout)}),processedMapType[mapType]=!0}})}var dataSelectAction=__webpack_require__("./node_modules/echarts/lib/legacy/dataSelectAction.js"),Component=__webpack_require__("./node_modules/echarts/lib/model/Component.js"),Model=__webpack_require__("./node_modules/echarts/lib/model/Model.js"),vector=__webpack_require__("./node_modules/zrender/lib/core/vector.js"),number=__webpack_require__("./node_modules/echarts/lib/util/number.js"),v2ApplyTransform=vector.applyTransform,View=function(_super){function View(name){var _this=_super.call(this)||this;return _this.type="view",_this.dimensions=["x","y"],_this._roamTransformable=new Transformable.Ay,_this._rawTransformable=new Transformable.Ay,_this.name=name,_this}return(0,tslib_es6.C6)(View,_super),View.prototype.setBoundingRect=function(x,y,width,height){return this._rect=new BoundingRect.A(x,y,width,height),this._rect},View.prototype.getBoundingRect=function(){return this._rect},View.prototype.setViewRect=function(x,y,width,height){this._transformTo(x,y,width,height),this._viewRect=new BoundingRect.A(x,y,width,height)},View.prototype._transformTo=function(x,y,width,height){var rect=this.getBoundingRect(),rawTransform=this._rawTransformable;rawTransform.transform=rect.calculateTransform(new BoundingRect.A(x,y,width,height));var rawParent=rawTransform.parent;rawTransform.parent=null,rawTransform.decomposeTransform(),rawTransform.parent=rawParent,this._updateTransform()},View.prototype.setCenter=function(centerCoord,api){centerCoord&&(this._center=[(0,number.lo)(centerCoord[0],api.getWidth()),(0,number.lo)(centerCoord[1],api.getHeight())],this._updateCenterAndZoom())},View.prototype.setZoom=function(zoom){zoom=zoom||1;var zoomLimit=this.zoomLimit;zoomLimit&&(null!=zoomLimit.max&&(zoom=Math.min(zoomLimit.max,zoom)),null!=zoomLimit.min&&(zoom=Math.max(zoomLimit.min,zoom))),this._zoom=zoom,this._updateCenterAndZoom()},View.prototype.getDefaultCenter=function(){var rawRect=this.getBoundingRect();return[rawRect.x+rawRect.width/2,rawRect.y+rawRect.height/2]},View.prototype.getCenter=function(){return this._center||this.getDefaultCenter()},View.prototype.getZoom=function(){return this._zoom||1},View.prototype.getRoamTransform=function(){return this._roamTransformable.getLocalTransform()},View.prototype._updateCenterAndZoom=function(){var rawTransformMatrix=this._rawTransformable.getLocalTransform(),roamTransform=this._roamTransformable,defaultCenter=this.getDefaultCenter(),center=this.getCenter(),zoom=this.getZoom();center=vector.applyTransform([],center,rawTransformMatrix),defaultCenter=vector.applyTransform([],defaultCenter,rawTransformMatrix),roamTransform.originX=center[0],roamTransform.originY=center[1],roamTransform.x=defaultCenter[0]-center[0],roamTransform.y=defaultCenter[1]-center[1],roamTransform.scaleX=roamTransform.scaleY=zoom,this._updateTransform()},View.prototype._updateTransform=function(){var roamTransformable=this._roamTransformable,rawTransformable=this._rawTransformable;rawTransformable.parent=roamTransformable,roamTransformable.updateTransform(),rawTransformable.updateTransform(),matrix.copy(this.transform||(this.transform=[]),rawTransformable.transform||matrix.create()),this._rawTransform=rawTransformable.getLocalTransform(),this.invTransform=this.invTransform||[],matrix.invert(this.invTransform,this.transform),this.decomposeTransform()},View.prototype.getTransformInfo=function(){var rawTransformable=this._rawTransformable,roamTransformable=this._roamTransformable,dummyTransformable=new Transformable.Ay;return dummyTransformable.transform=roamTransformable.transform,dummyTransformable.decomposeTransform(),{roam:{x:dummyTransformable.x,y:dummyTransformable.y,scaleX:dummyTransformable.scaleX,scaleY:dummyTransformable.scaleY},raw:{x:rawTransformable.x,y:rawTransformable.y,scaleX:rawTransformable.scaleX,scaleY:rawTransformable.scaleY}}},View.prototype.getViewRect=function(){return this._viewRect},View.prototype.getViewRectAfterRoam=function(){var rect=this.getBoundingRect().clone();return rect.applyTransform(this.transform),rect},View.prototype.dataToPoint=function(data,noRoam,out){var transform=noRoam?this._rawTransform:this.transform;return out=out||[],transform?v2ApplyTransform(out,data,transform):vector.copy(out,data)},View.prototype.pointToData=function(point){var invTransform=this.invTransform;return invTransform?v2ApplyTransform([],point,invTransform):[point[0],point[1]]},View.prototype.convertToPixel=function(ecModel,finder,value){var coordSys=getCoordSys(finder);return coordSys===this?coordSys.dataToPoint(value):null},View.prototype.convertFromPixel=function(ecModel,finder,pixel){var coordSys=getCoordSys(finder);return coordSys===this?coordSys.pointToData(pixel):null},View.prototype.containPoint=function(point){return this.getViewRectAfterRoam().contain(point[0],point[1])},View.dimensions=["x","y"],View}(Transformable.Ay);function getCoordSys(finder){var seriesModel=finder.seriesModel;return seriesModel?seriesModel.coordinateSystem:null}const coord_View=View;var GEO_DEFAULT_PARAMS={geoJSON:{aspectScale:.75,invertLongitute:!0},geoSVG:{aspectScale:1,invertLongitute:!1}},geo2DDimensions=["lng","lat"],Geo=function(_super){function Geo(name,map,opt){var _this=_super.call(this,name)||this;_this.dimensions=geo2DDimensions,_this.type="geo",_this._nameCoordMap=util.createHashMap(),_this.map=map;var boundingRect,projection=opt.projection,source=geoSourceManager_load(map,opt.nameMap,opt.nameProperty),resource=geoSourceManager_getGeoResource(map),regions=(_this.resourceType=resource?resource.type:null,_this.regions=source.regions),defaultParams=GEO_DEFAULT_PARAMS[resource.type];if(_this._regionsMap=source.regionsMap,_this.regions=source.regions,_this.projection=projection,projection)for(var i=0;i<regions.length;i++){var regionRect=regions[i].getBoundingRect(projection);(boundingRect=boundingRect||regionRect.clone()).union(regionRect)}else boundingRect=source.boundingRect;return _this.setBoundingRect(boundingRect.x,boundingRect.y,boundingRect.width,boundingRect.height),_this.aspectScale=projection?1:util.retrieve2(opt.aspectScale,defaultParams.aspectScale),_this._invertLongitute=!projection&&defaultParams.invertLongitute,_this}return(0,tslib_es6.C6)(Geo,_super),Geo.prototype._transformTo=function(x,y,width,height){var rect=this.getBoundingRect(),invertLongitute=this._invertLongitute;rect=rect.clone(),invertLongitute&&(rect.y=-rect.y-rect.height);var rawTransformable=this._rawTransformable;rawTransformable.transform=rect.calculateTransform(new BoundingRect.A(x,y,width,height));var rawParent=rawTransformable.parent;rawTransformable.parent=null,rawTransformable.decomposeTransform(),rawTransformable.parent=rawParent,invertLongitute&&(rawTransformable.scaleY=-rawTransformable.scaleY),this._updateTransform()},Geo.prototype.getRegion=function(name){return this._regionsMap.get(name)},Geo.prototype.getRegionByCoord=function(coord){for(var regions=this.regions,i=0;i<regions.length;i++){var region=regions[i];if("geoJSON"===region.type&&region.contain(coord))return regions[i]}},Geo.prototype.addGeoCoord=function(name,geoCoord){this._nameCoordMap.set(name,geoCoord)},Geo.prototype.getGeoCoord=function(name){var region=this._regionsMap.get(name);return this._nameCoordMap.get(name)||region&&region.getCenter()},Geo.prototype.dataToPoint=function(data,noRoam,out){if(util.isString(data)&&(data=this.getGeoCoord(data)),data){var projection=this.projection;return projection&&(data=projection.project(data)),data&&this.projectedToPoint(data,noRoam,out)}},Geo.prototype.pointToData=function(point){var projection=this.projection;return projection&&(point=projection.unproject(point)),point&&this.pointToProjected(point)},Geo.prototype.pointToProjected=function(point){return _super.prototype.pointToData.call(this,point)},Geo.prototype.projectedToPoint=function(projected,noRoam,out){return _super.prototype.dataToPoint.call(this,projected,noRoam,out)},Geo.prototype.convertToPixel=function(ecModel,finder,value){var coordSys=Geo_getCoordSys(finder);return coordSys===this?coordSys.dataToPoint(value):null},Geo.prototype.convertFromPixel=function(ecModel,finder,pixel){var coordSys=Geo_getCoordSys(finder);return coordSys===this?coordSys.pointToData(pixel):null},Geo}(coord_View);function Geo_getCoordSys(finder){var geoModel=finder.geoModel,seriesModel=finder.seriesModel;return geoModel?geoModel.coordinateSystem:seriesModel?seriesModel.coordinateSystem||(seriesModel.getReferringComponents("geo",util_model.US).models[0]||{}).coordinateSystem:null}util.mixin(Geo,coord_View);const geo_Geo=Geo;var layout=__webpack_require__("./node_modules/echarts/lib/util/layout.js");function resizeGeo(geoModel,api){var boundingCoords=geoModel.get("boundingCoords");if(null!=boundingCoords){var leftTop_1=boundingCoords[0],rightBottom_1=boundingCoords[1];if(isFinite(leftTop_1[0])&&isFinite(leftTop_1[1])&&isFinite(rightBottom_1[0])&&isFinite(rightBottom_1[1])){var projection_1=this.projection;if(projection_1){var xMin=leftTop_1[0],yMin=leftTop_1[1],xMax=rightBottom_1[0],yMax=rightBottom_1[1];leftTop_1=[1/0,1/0],rightBottom_1=[-1/0,-1/0];var sampleLine=function(x0,y0,x1,y1){for(var dx=x1-x0,dy=y1-y0,i=0;i<=100;i++){var p=i/100,pt=projection_1.project([x0+dx*p,y0+dy*p]);vector.min(leftTop_1,leftTop_1,pt),vector.max(rightBottom_1,rightBottom_1,pt)}};sampleLine(xMin,yMin,xMax,yMin),sampleLine(xMax,yMin,xMax,yMax),sampleLine(xMax,yMax,xMin,yMax),sampleLine(xMin,yMax,xMax,yMin)}this.setBoundingRect(leftTop_1[0],leftTop_1[1],rightBottom_1[0]-leftTop_1[0],rightBottom_1[1]-leftTop_1[1])}else 0}var center,size,viewRect,rect=this.getBoundingRect(),centerOption=geoModel.get("layoutCenter"),sizeOption=geoModel.get("layoutSize"),viewWidth=api.getWidth(),viewHeight=api.getHeight(),aspect=rect.width/rect.height*this.aspectScale,useCenterAndSize=!1;if(centerOption&&sizeOption&&(center=[number.lo(centerOption[0],viewWidth),number.lo(centerOption[1],viewHeight)],size=number.lo(sizeOption,Math.min(viewWidth,viewHeight)),isNaN(center[0])||isNaN(center[1])||isNaN(size)||(useCenterAndSize=!0)),useCenterAndSize)viewRect={},aspect>1?(viewRect.width=size,viewRect.height=size/aspect):(viewRect.height=size,viewRect.width=size*aspect),viewRect.y=center[1]-viewRect.height/2,viewRect.x=center[0]-viewRect.width/2;else{var boxLayoutOption=geoModel.getBoxLayoutParams();boxLayoutOption.aspect=aspect,viewRect=layout.dV(boxLayoutOption,{width:viewWidth,height:viewHeight})}this.setViewRect(viewRect.x,viewRect.y,viewRect.width,viewRect.height),this.setCenter(geoModel.get("center"),api),this.setZoom(geoModel.get("zoom"))}var GeoCreator=function(){function GeoCreator(){this.dimensions=geo2DDimensions}return GeoCreator.prototype.create=function(ecModel,api){var geoList=[];function getCommonGeoProperties(model){return{nameProperty:model.get("nameProperty"),aspectScale:model.get("aspectScale"),projection:model.get("projection")}}ecModel.eachComponent("geo",function(geoModel,idx){var mapName=geoModel.get("map"),geo=new geo_Geo(mapName+idx,mapName,util.extend({nameMap:geoModel.get("nameMap")},getCommonGeoProperties(geoModel)));geo.zoomLimit=geoModel.get("scaleLimit"),geoList.push(geo),geoModel.coordinateSystem=geo,geo.model=geoModel,geo.resize=resizeGeo,geo.resize(geoModel,api)}),ecModel.eachSeries(function(seriesModel){if("geo"===seriesModel.get("coordinateSystem")){var geoIndex=seriesModel.get("geoIndex")||0;seriesModel.coordinateSystem=geoList[geoIndex]}});var mapModelGroupBySeries={};return ecModel.eachSeriesByType("map",function(seriesModel){if(!seriesModel.getHostGeoModel()){var mapType=seriesModel.getMapType();mapModelGroupBySeries[mapType]=mapModelGroupBySeries[mapType]||[],mapModelGroupBySeries[mapType].push(seriesModel)}}),util.each(mapModelGroupBySeries,function(mapSeries,mapType){var nameMapList=util.map(mapSeries,function(singleMapSeries){return singleMapSeries.get("nameMap")}),geo=new geo_Geo(mapType,mapType,util.extend({nameMap:util.mergeAll(nameMapList)},getCommonGeoProperties(mapSeries[0])));geo.zoomLimit=util.retrieve.apply(null,util.map(mapSeries,function(singleMapSeries){return singleMapSeries.get("scaleLimit")})),geoList.push(geo),geo.resize=resizeGeo,geo.resize(mapSeries[0],api),util.each(mapSeries,function(singleMapSeries){singleMapSeries.coordinateSystem=geo,function setGeoCoords(geo,model){util.each(model.get("geoCoord"),function(geoCoord,name){geo.addGeoCoord(name,geoCoord)})}(geo,singleMapSeries)})}),geoList},GeoCreator.prototype.getFilledRegions=function(originRegionArr,mapName,nameMap,nameProperty){for(var regionsArr=(originRegionArr||[]).slice(),dataNameMap=util.createHashMap(),i=0;i<regionsArr.length;i++)dataNameMap.set(regionsArr[i].name,regionsArr[i]);var source=geoSourceManager_load(mapName,nameMap,nameProperty);return util.each(source.regions,function(region){var name=region.name,regionOption=dataNameMap.get(name),specifiedGeoJSONRegionStyle=region.properties&&region.properties.echartsStyle;regionOption||(regionOption={name},regionsArr.push(regionOption)),specifiedGeoJSONRegionStyle&&util.merge(regionOption,specifiedGeoJSONRegionStyle)}),regionsArr},GeoCreator}();const geo_geoCreator=new GeoCreator;var GeoModel=function(_super){function GeoModel(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=GeoModel.type,_this}return(0,tslib_es6.C6)(GeoModel,_super),GeoModel.prototype.init=function(option,parentModel,ecModel){var source=geoSourceManager_getGeoResource(option.map);if(source&&"geoJSON"===source.type){var itemStyle=option.itemStyle=option.itemStyle||{};"color"in itemStyle||(itemStyle.color="#eee")}this.mergeDefaultAndTheme(option,ecModel),util_model.M5(option,"label",["show"])},GeoModel.prototype.optionUpdated=function(){var _this=this,option=this.option;option.regions=geo_geoCreator.getFilledRegions(option.regions,option.map,option.nameMap,option.nameProperty);var selectedMap={};this._optionModelMap=util.reduce(option.regions||[],function(optionModelMap,regionOpt){var regionName=regionOpt.name;return regionName&&(optionModelMap.set(regionName,new Model.A(regionOpt,_this,_this.ecModel)),regionOpt.selected&&(selectedMap[regionName]=!0)),optionModelMap},util.createHashMap()),option.selectedMap||(option.selectedMap=selectedMap)},GeoModel.prototype.getRegionModel=function(name){return this._optionModelMap.get(name)||new Model.A(null,this,this.ecModel)},GeoModel.prototype.getFormattedLabel=function(name,status){var regionModel=this.getRegionModel(name),formatter="normal"===status?regionModel.get(["label","formatter"]):regionModel.get(["emphasis","label","formatter"]),params={name};return util.isFunction(formatter)?(params.status=status,formatter(params)):util.isString(formatter)?formatter.replace("{a}",null!=name?name:""):void 0},GeoModel.prototype.setZoom=function(zoom){this.option.zoom=zoom},GeoModel.prototype.setCenter=function(center){this.option.center=center},GeoModel.prototype.select=function(name){var option=this.option,selectedMode=option.selectedMode;selectedMode&&("multiple"!==selectedMode&&(option.selectedMap=null),(option.selectedMap||(option.selectedMap={}))[name]=!0)},GeoModel.prototype.unSelect=function(name){var selectedMap=this.option.selectedMap;selectedMap&&(selectedMap[name]=!1)},GeoModel.prototype.toggleSelected=function(name){this[this.isSelected(name)?"unSelect":"select"](name)},GeoModel.prototype.isSelected=function(name){var selectedMap=this.option.selectedMap;return!(!selectedMap||!selectedMap[name])},GeoModel.type="geo",GeoModel.layoutMode="box",GeoModel.defaultOption={z:0,show:!0,left:"center",top:"center",aspectScale:null,silent:!1,map:"",boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},regions:[]},GeoModel}(Component.A);const geo_GeoModel=GeoModel;function getCenterCoord(view,point){return view.pointToProjected?view.pointToProjected(point):view.pointToData(point)}function updateCenterAndZoom(view,payload,zoomLimit,api){var previousZoom=view.getZoom(),center=view.getCenter(),zoom=payload.zoom,point=view.projectedToPoint?view.projectedToPoint(center):view.dataToPoint(center);if(null!=payload.dx&&null!=payload.dy&&(point[0]-=payload.dx,point[1]-=payload.dy,view.setCenter(getCenterCoord(view,point),api)),null!=zoom){if(zoomLimit){var zoomMin=zoomLimit.min||0,zoomMax=zoomLimit.max||1/0;zoom=Math.max(Math.min(previousZoom*zoom,zoomMax),zoomMin)/previousZoom}view.scaleX*=zoom,view.scaleY*=zoom;var fixX=(payload.originX-view.x)*(zoom-1),fixY=(payload.originY-view.y)*(zoom-1);view.x-=fixX,view.y-=fixY,view.updateTransform(),view.setCenter(getCenterCoord(view,point),api),view.setZoom(zoom*previousZoom)}return{center:view.getCenter(),zoom:view.getZoom()}}var view_Component=__webpack_require__("./node_modules/echarts/lib/view/Component.js"),util_event=__webpack_require__("./node_modules/echarts/lib/util/event.js"),GeoView=function(_super){function GeoView(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=GeoView.type,_this.focusBlurEnabled=!0,_this}return(0,tslib_es6.C6)(GeoView,_super),GeoView.prototype.init=function(ecModel,api){this._api=api},GeoView.prototype.render=function(geoModel,ecModel,api,payload){if(this._model=geoModel,!geoModel.get("show"))return this._mapDraw&&this._mapDraw.remove(),void(this._mapDraw=null);this._mapDraw||(this._mapDraw=new helper_MapDraw(api));var mapDraw=this._mapDraw;mapDraw.draw(geoModel,ecModel,api,this,payload),mapDraw.group.on("click",this._handleRegionClick,this),mapDraw.group.silent=geoModel.get("silent"),this.group.add(mapDraw.group),this.updateSelectStatus(geoModel,ecModel,api)},GeoView.prototype._handleRegionClick=function(e){var eventData;(0,util_event.R)(e.target,function(current){return null!=(eventData=(0,innerStore.z)(current).eventData)},!0),eventData&&this._api.dispatchAction({type:"geoToggleSelect",geoId:this._model.id,name:eventData.name})},GeoView.prototype.updateSelectStatus=function(model,ecModel,api){var _this=this;this._mapDraw.group.traverse(function(node){var eventData=(0,innerStore.z)(node).eventData;if(eventData)return _this._model.isSelected(eventData.name)?api.enterSelect(node):api.leaveSelect(node),!0})},GeoView.prototype.findHighDownDispatchers=function(name){return this._mapDraw&&this._mapDraw.findHighDownDispatchers(name,this._model)},GeoView.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove()},GeoView.type="geo",GeoView}(view_Component.A);const geo_GeoView=GeoView;function registerMap(mapName,geoJson,specialAreas){geoSourceManager_registerMap(mapName,geoJson,specialAreas)}function install_install(registers){function makeAction(method,actionInfo){actionInfo.update="geo:updateSelectStatus",registers.registerAction(actionInfo,function(payload,ecModel){var selected={},allSelected=[];return ecModel.eachComponent({mainType:"geo",query:payload},function(geoModel){geoModel[method](payload.name);var geo=geoModel.coordinateSystem;(0,util.each)(geo.regions,function(region){selected[region.name]=geoModel.isSelected(region.name)||!1});var names=[];(0,util.each)(selected,function(v,name){selected[name]&&names.push(name)}),allSelected.push({geoIndex:geoModel.componentIndex,name:names})}),{selected,allSelected,name:payload.name}})}registers.registerCoordinateSystem("geo",geo_geoCreator),registers.registerComponentModel(geo_GeoModel),registers.registerComponentView(geo_GeoView),registers.registerImpl("registerMap",registerMap),registers.registerImpl("getMap",function(mapName){return geoSourceManager_getMapForUser(mapName)}),makeAction("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"}),makeAction("select",{type:"geoSelect",event:"geoselected"}),makeAction("unSelect",{type:"geoUnSelect",event:"geounselected"}),registers.registerAction({type:"geoRoam",event:"geoRoam",update:"updateTransform"},function(payload,ecModel,api){var componentType=payload.componentType||"series";ecModel.eachComponent({mainType:componentType,query:payload},function(componentModel){var geo=componentModel.coordinateSystem;if("geo"===geo.type){var res=updateCenterAndZoom(geo,payload,componentModel.get("scaleLimit"),api);componentModel.setCenter&&componentModel.setCenter(res.center),componentModel.setZoom&&componentModel.setZoom(res.zoom),"series"===componentType&&(0,util.each)(componentModel.seriesGroup,function(seriesModel){seriesModel.setCenter(res.center),seriesModel.setZoom(res.zoom)})}})})}var BezierCurve=__webpack_require__("./node_modules/zrender/lib/graphic/shape/BezierCurve.js"),helper_Symbol=__webpack_require__("./node_modules/echarts/lib/chart/helper/Symbol.js");function firstWalk(node,separation){var children=node.isExpand?node.children:[],siblings=node.parentNode.children,subtreeW=node.hierNode.i?siblings[node.hierNode.i-1]:null;if(children.length){!function executeShifts(node){var children=node.children,n=children.length,shift=0,change=0;for(;--n>=0;){var child=children[n];child.hierNode.prelim+=shift,child.hierNode.modifier+=shift,change+=child.hierNode.change,shift+=child.hierNode.shift+change}}(node);var midPoint=(children[0].hierNode.prelim+children[children.length-1].hierNode.prelim)/2;subtreeW?(node.hierNode.prelim=subtreeW.hierNode.prelim+separation(node,subtreeW),node.hierNode.modifier=node.hierNode.prelim-midPoint):node.hierNode.prelim=midPoint}else subtreeW&&(node.hierNode.prelim=subtreeW.hierNode.prelim+separation(node,subtreeW));node.parentNode.hierNode.defaultAncestor=function apportion(subtreeV,subtreeW,ancestor,separation){if(subtreeW){for(var nodeOutRight=subtreeV,nodeInRight=subtreeV,nodeOutLeft=nodeInRight.parentNode.children[0],nodeInLeft=subtreeW,sumOutRight=nodeOutRight.hierNode.modifier,sumInRight=nodeInRight.hierNode.modifier,sumOutLeft=nodeOutLeft.hierNode.modifier,sumInLeft=nodeInLeft.hierNode.modifier;nodeInLeft=nextRight(nodeInLeft),nodeInRight=nextLeft(nodeInRight),nodeInLeft&&nodeInRight;){nodeOutRight=nextRight(nodeOutRight),nodeOutLeft=nextLeft(nodeOutLeft),nodeOutRight.hierNode.ancestor=subtreeV;var shift=nodeInLeft.hierNode.prelim+sumInLeft-nodeInRight.hierNode.prelim-sumInRight+separation(nodeInLeft,nodeInRight);shift>0&&(moveSubtree(nextAncestor(nodeInLeft,subtreeV,ancestor),subtreeV,shift),sumInRight+=shift,sumOutRight+=shift),sumInLeft+=nodeInLeft.hierNode.modifier,sumInRight+=nodeInRight.hierNode.modifier,sumOutRight+=nodeOutRight.hierNode.modifier,sumOutLeft+=nodeOutLeft.hierNode.modifier}nodeInLeft&&!nextRight(nodeOutRight)&&(nodeOutRight.hierNode.thread=nodeInLeft,nodeOutRight.hierNode.modifier+=sumInLeft-sumOutRight),nodeInRight&&!nextLeft(nodeOutLeft)&&(nodeOutLeft.hierNode.thread=nodeInRight,nodeOutLeft.hierNode.modifier+=sumInRight-sumOutLeft,ancestor=subtreeV)}return ancestor}(node,subtreeW,node.parentNode.hierNode.defaultAncestor||siblings[0],separation)}function secondWalk(node){var nodeX=node.hierNode.prelim+node.parentNode.hierNode.modifier;node.setLayout({x:nodeX},!0),node.hierNode.modifier+=node.parentNode.hierNode.modifier}function layoutHelper_separation(cb){return arguments.length?cb:defaultSeparation}function radialCoordinate(rad,r){return rad-=Math.PI/2,{x:r*Math.cos(rad),y:r*Math.sin(rad)}}function getViewRect(seriesModel,api){return layout.dV(seriesModel.getBoxLayoutParams(),{width:api.getWidth(),height:api.getHeight()})}function nextRight(node){var children=node.children;return children.length&&node.isExpand?children[children.length-1]:node.hierNode.thread}function nextLeft(node){var children=node.children;return children.length&&node.isExpand?children[0]:node.hierNode.thread}function nextAncestor(nodeInLeft,node,ancestor){return nodeInLeft.hierNode.ancestor.parentNode===node.parentNode?nodeInLeft.hierNode.ancestor:ancestor}function moveSubtree(wl,wr,shift){var change=shift/(wr.hierNode.i-wl.hierNode.i);wr.hierNode.change-=change,wr.hierNode.shift+=shift,wr.hierNode.modifier+=shift,wr.hierNode.prelim+=shift,wl.hierNode.change+=change}function defaultSeparation(node1,node2){return node1.parentNode===node2.parentNode?1:2}var bbox=__webpack_require__("./node_modules/zrender/lib/core/bbox.js"),TreeEdgeShape=function TreeEdgeShape(){this.parentPoint=[],this.childPoints=[]},TreePath=function(_super){function TreePath(opts){return _super.call(this,opts)||this}return(0,tslib_es6.C6)(TreePath,_super),TreePath.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},TreePath.prototype.getDefaultShape=function(){return new TreeEdgeShape},TreePath.prototype.buildPath=function(ctx,shape){var childPoints=shape.childPoints,childLen=childPoints.length,parentPoint=shape.parentPoint,firstChildPos=childPoints[0],lastChildPos=childPoints[childLen-1];if(1===childLen)return ctx.moveTo(parentPoint[0],parentPoint[1]),void ctx.lineTo(firstChildPos[0],firstChildPos[1]);var orient=shape.orient,forkDim="TB"===orient||"BT"===orient?0:1,otherDim=1-forkDim,forkPosition=(0,number.lo)(shape.forkPosition,1),tmpPoint=[];tmpPoint[forkDim]=parentPoint[forkDim],tmpPoint[otherDim]=parentPoint[otherDim]+(lastChildPos[otherDim]-parentPoint[otherDim])*forkPosition,ctx.moveTo(parentPoint[0],parentPoint[1]),ctx.lineTo(tmpPoint[0],tmpPoint[1]),ctx.moveTo(firstChildPos[0],firstChildPos[1]),tmpPoint[forkDim]=firstChildPos[forkDim],ctx.lineTo(tmpPoint[0],tmpPoint[1]),tmpPoint[forkDim]=lastChildPos[forkDim],ctx.lineTo(tmpPoint[0],tmpPoint[1]),ctx.lineTo(lastChildPos[0],lastChildPos[1]);for(var i=1;i<childLen-1;i++){var point=childPoints[i];ctx.moveTo(point[0],point[1]),tmpPoint[forkDim]=point[forkDim],ctx.lineTo(tmpPoint[0],tmpPoint[1])}},TreePath}(Path.Ay),TreeView=function(_super){function TreeView(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=TreeView.type,_this._mainGroup=new Group.A,_this}return(0,tslib_es6.C6)(TreeView,_super),TreeView.prototype.init=function(ecModel,api){this._controller=new RoamController.A(api.getZr()),this._controllerHost={target:this.group},this.group.add(this._mainGroup)},TreeView.prototype.render=function(seriesModel,ecModel,api){var data=seriesModel.getData(),layoutInfo=seriesModel.layoutInfo,group=this._mainGroup;"radial"===seriesModel.get("layout")?(group.x=layoutInfo.x+layoutInfo.width/2,group.y=layoutInfo.y+layoutInfo.height/2):(group.x=layoutInfo.x,group.y=layoutInfo.y),this._updateViewCoordSys(seriesModel,api),this._updateController(seriesModel,ecModel,api);var oldData=this._data;data.diff(oldData).add(function(newIdx){symbolNeedsDraw(data,newIdx)&&updateNode(data,newIdx,null,group,seriesModel)}).update(function(newIdx,oldIdx){var symbolEl=oldData.getItemGraphicEl(oldIdx);symbolNeedsDraw(data,newIdx)?updateNode(data,newIdx,symbolEl,group,seriesModel):symbolEl&&removeNode(oldData,oldIdx,symbolEl,group,seriesModel)}).remove(function(oldIdx){var symbolEl=oldData.getItemGraphicEl(oldIdx);symbolEl&&removeNode(oldData,oldIdx,symbolEl,group,seriesModel)}).execute(),this._nodeScaleRatio=seriesModel.get("nodeScaleRatio"),this._updateNodeAndLinkScale(seriesModel),!0===seriesModel.get("expandAndCollapse")&&data.eachItemGraphicEl(function(el,dataIndex){el.off("click").on("click",function(){api.dispatchAction({type:"treeExpandAndCollapse",seriesId:seriesModel.id,dataIndex})})}),this._data=data},TreeView.prototype._updateViewCoordSys=function(seriesModel,api){var data=seriesModel.getData(),points=[];data.each(function(idx){var layout=data.getItemLayout(idx);!layout||isNaN(layout.x)||isNaN(layout.y)||points.push([+layout.x,+layout.y])});var min=[],max=[];bbox.Cr(points,min,max);var oldMin=this._min,oldMax=this._max;max[0]-min[0]===0&&(min[0]=oldMin?oldMin[0]:min[0]-1,max[0]=oldMax?oldMax[0]:max[0]+1),max[1]-min[1]===0&&(min[1]=oldMin?oldMin[1]:min[1]-1,max[1]=oldMax?oldMax[1]:max[1]+1);var viewCoordSys=seriesModel.coordinateSystem=new coord_View;viewCoordSys.zoomLimit=seriesModel.get("scaleLimit"),viewCoordSys.setBoundingRect(min[0],min[1],max[0]-min[0],max[1]-min[1]),viewCoordSys.setCenter(seriesModel.get("center"),api),viewCoordSys.setZoom(seriesModel.get("zoom")),this.group.attr({x:viewCoordSys.x,y:viewCoordSys.y,scaleX:viewCoordSys.scaleX,scaleY:viewCoordSys.scaleY}),this._min=min,this._max=max},TreeView.prototype._updateController=function(seriesModel,ecModel,api){var _this=this,controller=this._controller,controllerHost=this._controllerHost,group=this.group;controller.setPointerChecker(function(e,x,y){var rect=group.getBoundingRect();return rect.applyTransform(group.transform),rect.contain(x,y)&&!onIrrelevantElement(e,api,seriesModel)}),controller.enable(seriesModel.get("roam")),controllerHost.zoomLimit=seriesModel.get("scaleLimit"),controllerHost.zoom=seriesModel.coordinateSystem.getZoom(),controller.off("pan").off("zoom").on("pan",function(e){updateViewOnPan(controllerHost,e.dx,e.dy),api.dispatchAction({seriesId:seriesModel.id,type:"treeRoam",dx:e.dx,dy:e.dy})}).on("zoom",function(e){updateViewOnZoom(controllerHost,e.scale,e.originX,e.originY),api.dispatchAction({seriesId:seriesModel.id,type:"treeRoam",zoom:e.scale,originX:e.originX,originY:e.originY}),_this._updateNodeAndLinkScale(seriesModel),api.updateLabelLayout()})},TreeView.prototype._updateNodeAndLinkScale=function(seriesModel){var data=seriesModel.getData(),nodeScale=this._getNodeGlobalScale(seriesModel);data.eachItemGraphicEl(function(el,idx){el.setSymbolScale(nodeScale)})},TreeView.prototype._getNodeGlobalScale=function(seriesModel){var coordSys=seriesModel.coordinateSystem;if("view"!==coordSys.type)return 1;var nodeScaleRatio=this._nodeScaleRatio,groupZoom=coordSys.scaleX||1;return((coordSys.getZoom()-1)*nodeScaleRatio+1)/groupZoom},TreeView.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},TreeView.prototype.remove=function(){this._mainGroup.removeAll(),this._data=null},TreeView.type="tree",TreeView}(Chart.A);function symbolNeedsDraw(data,dataIndex){var layout=data.getItemLayout(dataIndex);return layout&&!isNaN(layout.x)&&!isNaN(layout.y)}function updateNode(data,dataIndex,symbolEl,group,seriesModel){var isInit=!symbolEl,node=data.tree.getNodeByDataIndex(dataIndex),itemModel=node.getModel(),visualColor=node.getVisual("style").fill,symbolInnerColor=!1===node.isExpand&&0!==node.children.length?visualColor:"#fff",virtualRoot=data.tree.root,source=node.parentNode===virtualRoot?node:node.parentNode||node,sourceSymbolEl=data.getItemGraphicEl(source.dataIndex),sourceLayout=source.getLayout(),sourceOldLayout=sourceSymbolEl?{x:sourceSymbolEl.__oldX,y:sourceSymbolEl.__oldY,rawX:sourceSymbolEl.__radialOldRawX,rawY:sourceSymbolEl.__radialOldRawY}:sourceLayout,targetLayout=node.getLayout();isInit?((symbolEl=new helper_Symbol.A(data,dataIndex,null,{symbolInnerColor,useNameLabel:!0})).x=sourceOldLayout.x,symbolEl.y=sourceOldLayout.y):symbolEl.updateData(data,dataIndex,null,{symbolInnerColor,useNameLabel:!0}),symbolEl.__radialOldRawX=symbolEl.__radialRawX,symbolEl.__radialOldRawY=symbolEl.__radialRawY,symbolEl.__radialRawX=targetLayout.rawX,symbolEl.__radialRawY=targetLayout.rawY,group.add(symbolEl),data.setItemGraphicEl(dataIndex,symbolEl),symbolEl.__oldX=symbolEl.x,symbolEl.__oldY=symbolEl.y,basicTransition.oi(symbolEl,{x:targetLayout.x,y:targetLayout.y},seriesModel);var symbolPath=symbolEl.getSymbolPath();if("radial"===seriesModel.get("layout")){var realRoot=virtualRoot.children[0],rootLayout=realRoot.getLayout(),length_1=realRoot.children.length,rad=void 0,isLeft=void 0;if(targetLayout.x===rootLayout.x&&!0===node.isExpand&&realRoot.children.length){var center={x:(realRoot.children[0].getLayout().x+realRoot.children[length_1-1].getLayout().x)/2,y:(realRoot.children[0].getLayout().y+realRoot.children[length_1-1].getLayout().y)/2};(rad=Math.atan2(center.y-rootLayout.y,center.x-rootLayout.x))<0&&(rad=2*Math.PI+rad),(isLeft=center.x<rootLayout.x)&&(rad-=Math.PI)}else(rad=Math.atan2(targetLayout.y-rootLayout.y,targetLayout.x-rootLayout.x))<0&&(rad=2*Math.PI+rad),0===node.children.length||0!==node.children.length&&!1===node.isExpand?(isLeft=targetLayout.x<rootLayout.x)&&(rad-=Math.PI):(isLeft=targetLayout.x>rootLayout.x)||(rad-=Math.PI);var textPosition=isLeft?"left":"right",normalLabelModel=itemModel.getModel("label"),rotate=normalLabelModel.get("rotate"),labelRotateRadian=rotate*(Math.PI/180),textContent=symbolPath.getTextContent();textContent&&(symbolPath.setTextConfig({position:normalLabelModel.get("position")||textPosition,rotation:null==rotate?-rad:labelRotateRadian,origin:"center"}),textContent.setStyle("verticalAlign","middle"))}var focus=itemModel.get(["emphasis","focus"]),focusDataIndices="relative"===focus?util.concatArray(node.getAncestorsIndices(),node.getDescendantIndices()):"ancestor"===focus?node.getAncestorsIndices():"descendant"===focus?node.getDescendantIndices():null;focusDataIndices&&((0,innerStore.z)(symbolEl).focus=focusDataIndices),function drawEdge(seriesModel,node,virtualRoot,symbolEl,sourceOldLayout,sourceLayout,targetLayout,group){var itemModel=node.getModel(),edgeShape=seriesModel.get("edgeShape"),layout=seriesModel.get("layout"),orient=seriesModel.getOrient(),curvature=seriesModel.get(["lineStyle","curveness"]),edgeForkPosition=seriesModel.get("edgeForkPosition"),lineStyle=itemModel.getModel("lineStyle").getLineStyle(),edge=symbolEl.__edge;if("curve"===edgeShape)node.parentNode&&node.parentNode!==virtualRoot&&(edge||(edge=symbolEl.__edge=new BezierCurve.A({shape:getEdgeShape(layout,orient,curvature,sourceOldLayout,sourceOldLayout)})),basicTransition.oi(edge,{shape:getEdgeShape(layout,orient,curvature,sourceLayout,targetLayout)},seriesModel));else if("polyline"===edgeShape)if("orthogonal"===layout){if(node!==virtualRoot&&node.children&&0!==node.children.length&&!0===node.isExpand){for(var children=node.children,childPoints=[],i=0;i<children.length;i++){var childLayout=children[i].getLayout();childPoints.push([childLayout.x,childLayout.y])}edge||(edge=symbolEl.__edge=new TreePath({shape:{parentPoint:[targetLayout.x,targetLayout.y],childPoints:[[targetLayout.x,targetLayout.y]],orient,forkPosition:edgeForkPosition}})),basicTransition.oi(edge,{shape:{parentPoint:[targetLayout.x,targetLayout.y],childPoints}},seriesModel)}}else 0;edge&&("polyline"!==edgeShape||node.isExpand)&&(edge.useStyle(util.defaults({strokeNoScale:!0,fill:null},lineStyle)),(0,states.Mx)(edge,itemModel,"lineStyle"),(0,states.DW)(edge),group.add(edge))}(seriesModel,node,virtualRoot,symbolEl,sourceOldLayout,sourceLayout,targetLayout,group),symbolEl.__edge&&(symbolEl.onHoverStateChange=function(toState){if("blur"!==toState){var parentEl=node.parentNode&&data.getItemGraphicEl(node.parentNode.dataIndex);parentEl&&parentEl.hoverState===states.zX||(0,states.Pk)(symbolEl.__edge,toState)}})}function removeNodeEdge(node,data,group,seriesModel,removeAnimationOpt){var _a=getSourceNode(data.tree.root,node),source=_a.source,sourceLayout=_a.sourceLayout,symbolEl=data.getItemGraphicEl(node.dataIndex);if(symbolEl){var sourceEdge=data.getItemGraphicEl(source.dataIndex).__edge,edge=symbolEl.__edge||(!1===source.isExpand||1===source.children.length?sourceEdge:void 0),edgeShape=seriesModel.get("edgeShape"),layoutOpt=seriesModel.get("layout"),orient=seriesModel.get("orient"),curvature=seriesModel.get(["lineStyle","curveness"]);edge&&("curve"===edgeShape?basicTransition.Nz(edge,{shape:getEdgeShape(layoutOpt,orient,curvature,sourceLayout,sourceLayout),style:{opacity:0}},seriesModel,{cb:function(){group.remove(edge)},removeOpt:removeAnimationOpt}):"polyline"===edgeShape&&"orthogonal"===seriesModel.get("layout")&&basicTransition.Nz(edge,{shape:{parentPoint:[sourceLayout.x,sourceLayout.y],childPoints:[[sourceLayout.x,sourceLayout.y]]},style:{opacity:0}},seriesModel,{cb:function(){group.remove(edge)},removeOpt:removeAnimationOpt}))}}function getSourceNode(virtualRoot,node){for(var sourceLayout,source=node.parentNode===virtualRoot?node:node.parentNode||node;null==(sourceLayout=source.getLayout());)source=source.parentNode===virtualRoot?source:source.parentNode||source;return{source,sourceLayout}}function removeNode(data,dataIndex,symbolEl,group,seriesModel){var node=data.tree.getNodeByDataIndex(dataIndex),sourceLayout=getSourceNode(data.tree.root,node).sourceLayout,removeAnimationOpt={duration:seriesModel.get("animationDurationUpdate"),easing:seriesModel.get("animationEasingUpdate")};basicTransition.Nz(symbolEl,{x:sourceLayout.x+1,y:sourceLayout.y+1},seriesModel,{cb:function(){group.remove(symbolEl),data.setItemGraphicEl(dataIndex,null)},removeOpt:removeAnimationOpt}),symbolEl.fadeOut(null,data.hostModel,{fadeLabel:!0,animation:removeAnimationOpt}),node.children.forEach(function(childNode){removeNodeEdge(childNode,data,group,seriesModel,removeAnimationOpt)}),removeNodeEdge(node,data,group,seriesModel,removeAnimationOpt)}function getEdgeShape(layoutOpt,orient,curvature,sourceLayout,targetLayout){var cpx1,cpy1,cpx2,cpy2,x1,x2,y1,y2;if("radial"===layoutOpt){x1=sourceLayout.rawX,y1=sourceLayout.rawY,x2=targetLayout.rawX,y2=targetLayout.rawY;var radialCoor1=radialCoordinate(x1,y1),radialCoor2=radialCoordinate(x1,y1+(y2-y1)*curvature),radialCoor3=radialCoordinate(x2,y2+(y1-y2)*curvature),radialCoor4=radialCoordinate(x2,y2);return{x1:radialCoor1.x||0,y1:radialCoor1.y||0,x2:radialCoor4.x||0,y2:radialCoor4.y||0,cpx1:radialCoor2.x||0,cpy1:radialCoor2.y||0,cpx2:radialCoor3.x||0,cpy2:radialCoor3.y||0}}return x1=sourceLayout.x,y1=sourceLayout.y,x2=targetLayout.x,y2=targetLayout.y,"LR"!==orient&&"RL"!==orient||(cpx1=x1+(x2-x1)*curvature,cpy1=y1,cpx2=x2+(x1-x2)*curvature,cpy2=y2),"TB"!==orient&&"BT"!==orient||(cpx1=x1,cpy1=y1+(y2-y1)*curvature,cpx2=x2,cpy2=y2+(y1-y2)*curvature),{x1,y1,x2,y2,cpx1,cpy1,cpx2,cpy2}}const tree_TreeView=TreeView;var inner=(0,util_model.$r)();function transferInjection(opt,res){if(function isMainData(data){return inner(data).mainData===data}(this)){var datas=(0,util.extend)({},inner(this).datas);datas[this.dataType]=res,linkAll(res,datas,opt)}else linkSingle(res,this.dataType,inner(this).mainData,opt);return res}function changeInjection(opt,res){return opt.struct&&opt.struct.update(),res}function cloneShallowInjection(opt,res){return(0,util.each)(inner(res).datas,function(data,dataType){data!==res&&linkSingle(data.cloneShallow(),dataType,res,opt)}),res}function getLinkedData(dataType){var mainData=inner(this).mainData;return null==dataType||null==mainData?mainData:inner(mainData).datas[dataType]}function getLinkedDataAll(){var mainData=inner(this).mainData;return null==mainData?[{data:mainData}]:(0,util.map)((0,util.keys)(inner(mainData).datas),function(type){return{type,data:inner(mainData).datas[type]}})}function linkAll(mainData,datas,opt){inner(mainData).datas={},(0,util.each)(datas,function(data,dataType){linkSingle(data,dataType,mainData,opt)})}function linkSingle(data,dataType,mainData,opt){inner(mainData).datas[dataType]=data,inner(data).mainData=mainData,data.dataType=dataType,opt.struct&&(data[opt.structAttr]=opt.struct,opt.struct[opt.datasAttr[dataType]]=data),data.getLinkedData=getLinkedData,data.getLinkedDataAll=getLinkedDataAll}const helper_linkSeriesData=function linkSeriesData(opt){var mainData=opt.mainData,datas=opt.datas;datas||(datas={main:mainData},opt.datasAttr={main:"data"}),opt.datas=opt.mainData=null,linkAll(mainData,datas,opt),(0,util.each)(datas,function(data){(0,util.each)(mainData.TRANSFERABLE_METHODS,function(methodName){data.wrapMethod(methodName,(0,util.curry)(transferInjection,opt))})}),mainData.wrapMethod("cloneShallow",(0,util.curry)(cloneShallowInjection,opt)),(0,util.each)(mainData.CHANGABLE_METHODS,function(methodName){mainData.wrapMethod(methodName,(0,util.curry)(changeInjection,opt))}),(0,util.assert)(datas[mainData.dataType]===mainData)};var SeriesData=__webpack_require__("./node_modules/echarts/lib/data/SeriesData.js"),createDimensions=__webpack_require__("./node_modules/echarts/lib/data/helper/createDimensions.js"),TreeNode=function(){function TreeNode(name,hostTree){this.depth=0,this.height=0,this.dataIndex=-1,this.children=[],this.viewChildren=[],this.isExpand=!1,this.name=name||"",this.hostTree=hostTree}return TreeNode.prototype.isRemoved=function(){return this.dataIndex<0},TreeNode.prototype.eachNode=function(options,cb,context){util.isFunction(options)&&(context=cb,cb=options,options=null),options=options||{},util.isString(options)&&(options={order:options});var suppressVisitSub,order=options.order||"preorder",children=this[options.attr||"children"];"preorder"===order&&(suppressVisitSub=cb.call(context,this));for(var i=0;!suppressVisitSub&&i<children.length;i++)children[i].eachNode(options,cb,context);"postorder"===order&&cb.call(context,this)},TreeNode.prototype.updateDepthAndHeight=function(depth){var height=0;this.depth=depth;for(var i=0;i<this.children.length;i++){var child=this.children[i];child.updateDepthAndHeight(depth+1),child.height>height&&(height=child.height)}this.height=height+1},TreeNode.prototype.getNodeById=function(id){if(this.getId()===id)return this;for(var i=0,children=this.children,len=children.length;i<len;i++){var res=children[i].getNodeById(id);if(res)return res}},TreeNode.prototype.contains=function(node){if(node===this)return!0;for(var i=0,children=this.children,len=children.length;i<len;i++){var res=children[i].contains(node);if(res)return res}},TreeNode.prototype.getAncestors=function(includeSelf){for(var ancestors=[],node=includeSelf?this:this.parentNode;node;)ancestors.push(node),node=node.parentNode;return ancestors.reverse(),ancestors},TreeNode.prototype.getAncestorsIndices=function(){for(var indices=[],currNode=this;currNode;)indices.push(currNode.dataIndex),currNode=currNode.parentNode;return indices.reverse(),indices},TreeNode.prototype.getDescendantIndices=function(){var indices=[];return this.eachNode(function(childNode){indices.push(childNode.dataIndex)}),indices},TreeNode.prototype.getValue=function(dimension){var data=this.hostTree.data;return data.getStore().get(data.getDimensionIndex(dimension||"value"),this.dataIndex)},TreeNode.prototype.setLayout=function(layout,merge){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,layout,merge)},TreeNode.prototype.getLayout=function(){return this.hostTree.data.getItemLayout(this.dataIndex)},TreeNode.prototype.getModel=function(path){if(!(this.dataIndex<0))return this.hostTree.data.getItemModel(this.dataIndex).getModel(path)},TreeNode.prototype.getLevelModel=function(){return(this.hostTree.levelModels||[])[this.depth]},TreeNode.prototype.setVisual=function(key,value){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,key,value)},TreeNode.prototype.getVisual=function(key){return this.hostTree.data.getItemVisual(this.dataIndex,key)},TreeNode.prototype.getRawIndex=function(){return this.hostTree.data.getRawIndex(this.dataIndex)},TreeNode.prototype.getId=function(){return this.hostTree.data.getId(this.dataIndex)},TreeNode.prototype.getChildIndex=function(){if(this.parentNode){for(var children=this.parentNode.children,i=0;i<children.length;++i)if(children[i]===this)return i;return-1}return-1},TreeNode.prototype.isAncestorOf=function(node){for(var parent=node.parentNode;parent;){if(parent===this)return!0;parent=parent.parentNode}return!1},TreeNode.prototype.isDescendantOf=function(node){return node!==this&&node.isAncestorOf(this)},TreeNode}(),Tree=function(){function Tree(hostModel){this.type="tree",this._nodes=[],this.hostModel=hostModel}return Tree.prototype.eachNode=function(options,cb,context){this.root.eachNode(options,cb,context)},Tree.prototype.getNodeByDataIndex=function(dataIndex){var rawIndex=this.data.getRawIndex(dataIndex);return this._nodes[rawIndex]},Tree.prototype.getNodeById=function(name){return this.root.getNodeById(name)},Tree.prototype.update=function(){for(var data=this.data,nodes=this._nodes,i=0,len=nodes.length;i<len;i++)nodes[i].dataIndex=-1;for(i=0,len=data.count();i<len;i++)nodes[data.getRawIndex(i)].dataIndex=i},Tree.prototype.clearLayouts=function(){this.data.clearItemLayouts()},Tree.createTree=function(dataRoot,hostModel,beforeLink){var tree=new Tree(hostModel),listData=[],dimMax=1;!function buildHierarchy(dataNode,parentNode){var value=dataNode.value;dimMax=Math.max(dimMax,util.isArray(value)?value.length:1),listData.push(dataNode);var node=new TreeNode((0,util_model.vS)(dataNode.name,""),tree);parentNode?function addChild(child,node){var children=node.children;if(child.parentNode===node)return;children.push(child),child.parentNode=node}(node,parentNode):tree.root=node,tree._nodes.push(node);var children=dataNode.children;if(children)for(var i=0;i<children.length;i++)buildHierarchy(children[i],node)}(dataRoot),tree.root.updateDepthAndHeight(0);var dimensions=(0,createDimensions.A)(listData,{coordDimensions:["value"],dimensionsCount:dimMax}).dimensions,list=new SeriesData.A(dimensions,hostModel);return list.initData(listData),beforeLink&&beforeLink(list),helper_linkSeriesData({mainData:list,struct:tree,structAttr:"tree"}),tree.update(),tree},Tree}();const data_Tree=Tree;function retrieveTargetInfo(payload,validPayloadTypes,seriesModel){if(payload&&util.indexOf(validPayloadTypes,payload.type)>=0){var root=seriesModel.getData().tree.root,targetNode=payload.targetNode;if(util.isString(targetNode)&&(targetNode=root.getNodeById(targetNode)),targetNode&&root.contains(targetNode))return{node:targetNode};var targetNodeId=payload.targetNodeId;if(null!=targetNodeId&&(targetNode=root.getNodeById(targetNodeId)))return{node:targetNode}}}function getPathToRoot(node){for(var path=[];node;)(node=node.parentNode)&&path.push(node);return path.reverse()}function aboveViewRoot(viewRoot,node){var viewPath=getPathToRoot(viewRoot);return util.indexOf(viewPath,node)>=0}function wrapTreePathInfo(node,seriesModel){for(var treePathInfo=[];node;){var nodeDataIndex=node.dataIndex;treePathInfo.push({name:node.name,dataIndex:nodeDataIndex,value:seriesModel.getRawValue(nodeDataIndex)}),node=node.parentNode}return treePathInfo.reverse(),treePathInfo}var TreeSeriesModel=function(_super){function TreeSeriesModel(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.hasSymbolVisual=!0,_this.ignoreStyleOnData=!0,_this}return(0,tslib_es6.C6)(TreeSeriesModel,_super),TreeSeriesModel.prototype.getInitialData=function(option){var root={name:option.name,children:option.data},leaves=option.leaves||{},leavesModel=new Model.A(leaves,this,this.ecModel),tree=data_Tree.createTree(root,this,function beforeLink(nodeData){nodeData.wrapMethod("getItemModel",function(model,idx){var node=tree.getNodeByDataIndex(idx);return node&&node.children.length&&node.isExpand||(model.parentModel=leavesModel),model})});var treeDepth=0;tree.eachNode("preorder",function(node){node.depth>treeDepth&&(treeDepth=node.depth)});var expandTreeDepth=option.expandAndCollapse&&option.initialTreeDepth>=0?option.initialTreeDepth:treeDepth;return tree.root.eachNode("preorder",function(node){var item=node.hostTree.data.getRawDataItem(node.dataIndex);node.isExpand=item&&null!=item.collapsed?!item.collapsed:node.depth<=expandTreeDepth}),tree.data},TreeSeriesModel.prototype.getOrient=function(){var orient=this.get("orient");return"horizontal"===orient?orient="LR":"vertical"===orient&&(orient="TB"),orient},TreeSeriesModel.prototype.setZoom=function(zoom){this.option.zoom=zoom},TreeSeriesModel.prototype.setCenter=function(center){this.option.center=center},TreeSeriesModel.prototype.formatTooltip=function(dataIndex,multipleSeries,dataType){for(var tree=this.getData().tree,realRoot=tree.root.children[0],node=tree.getNodeByDataIndex(dataIndex),value=node.getValue(),name=node.name;node&&node!==realRoot;)name=node.parentNode.name+"."+name,node=node.parentNode;return(0,tooltipMarkup.Qx)("nameValue",{name,value,noValue:isNaN(value)||null==value})},TreeSeriesModel.prototype.getDataParams=function(dataIndex){var params=_super.prototype.getDataParams.apply(this,arguments),node=this.getData().tree.getNodeByDataIndex(dataIndex);return params.treeAncestors=wrapTreePathInfo(node,this),params.collapsed=!node.isExpand,params},TreeSeriesModel.type="series.tree",TreeSeriesModel.layoutMode="box",TreeSeriesModel.defaultOption={z:2,coordinateSystem:"view",left:"12%",top:"12%",right:"12%",bottom:"12%",layout:"orthogonal",edgeShape:"curve",edgeForkPosition:"50%",roam:!1,nodeScaleRatio:.4,center:null,zoom:1,orient:"LR",symbol:"emptyCircle",symbolSize:7,expandAndCollapse:!0,initialTreeDepth:2,lineStyle:{color:"#ccc",width:1.5,curveness:.5},itemStyle:{color:"lightsteelblue",borderWidth:1.5},label:{show:!0},animationEasing:"linear",animationDuration:700,animationDurationUpdate:500},TreeSeriesModel}(Series.A);const TreeSeries=TreeSeriesModel;function eachBefore(root,callback){for(var node,nodes=[root];node=nodes.pop();)if(callback(node),node.isExpand){var children=node.children;if(children.length)for(var i=children.length-1;i>=0;i--)nodes.push(children[i])}}function treeLayout(ecModel,api){ecModel.eachSeriesByType("tree",function(seriesModel){!function commonLayout(seriesModel,api){var layoutInfo=getViewRect(seriesModel,api);seriesModel.layoutInfo=layoutInfo;var layout=seriesModel.get("layout"),width=0,height=0,separation=null;"radial"===layout?(width=2*Math.PI,height=Math.min(layoutInfo.height,layoutInfo.width)/2,separation=layoutHelper_separation(function(node1,node2){return(node1.parentNode===node2.parentNode?1:2)/node1.depth})):(width=layoutInfo.width,height=layoutInfo.height,separation=layoutHelper_separation());var virtualRoot=seriesModel.getData().tree.root,realRoot=virtualRoot.children[0];if(realRoot){!function init(inRoot){var root=inRoot;root.hierNode={defaultAncestor:null,ancestor:root,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};for(var node,children,nodes=[root];node=nodes.pop();)if(children=node.children,node.isExpand&&children.length)for(var i=children.length-1;i>=0;i--){var child=children[i];child.hierNode={defaultAncestor:null,ancestor:child,prelim:0,modifier:0,change:0,shift:0,i,thread:null},nodes.push(child)}}(virtualRoot),function eachAfter(root,callback,separation){for(var node,nodes=[root],next=[];node=nodes.pop();)if(next.push(node),node.isExpand){var children=node.children;if(children.length)for(var i=0;i<children.length;i++)nodes.push(children[i])}for(;node=next.pop();)callback(node,separation)}(realRoot,firstWalk,separation),virtualRoot.hierNode.modifier=-realRoot.hierNode.prelim,eachBefore(realRoot,secondWalk);var left_1=realRoot,right_1=realRoot,bottom_1=realRoot;eachBefore(realRoot,function(node){var x=node.getLayout().x;x<left_1.getLayout().x&&(left_1=node),x>right_1.getLayout().x&&(right_1=node),node.depth>bottom_1.depth&&(bottom_1=node)});var delta=left_1===right_1?1:separation(left_1,right_1)/2,tx_1=delta-left_1.getLayout().x,kx_1=0,ky_1=0,coorX_1=0,coorY_1=0;if("radial"===layout)kx_1=width/(right_1.getLayout().x+delta+tx_1),ky_1=height/(bottom_1.depth-1||1),eachBefore(realRoot,function(node){coorX_1=(node.getLayout().x+tx_1)*kx_1,coorY_1=(node.depth-1)*ky_1;var finalCoor=radialCoordinate(coorX_1,coorY_1);node.setLayout({x:finalCoor.x,y:finalCoor.y,rawX:coorX_1,rawY:coorY_1},!0)});else{var orient_1=seriesModel.getOrient();"RL"===orient_1||"LR"===orient_1?(ky_1=height/(right_1.getLayout().x+delta+tx_1),kx_1=width/(bottom_1.depth-1||1),eachBefore(realRoot,function(node){coorY_1=(node.getLayout().x+tx_1)*ky_1,coorX_1="LR"===orient_1?(node.depth-1)*kx_1:width-(node.depth-1)*kx_1,node.setLayout({x:coorX_1,y:coorY_1},!0)})):"TB"!==orient_1&&"BT"!==orient_1||(kx_1=width/(right_1.getLayout().x+delta+tx_1),ky_1=height/(bottom_1.depth-1||1),eachBefore(realRoot,function(node){coorX_1=(node.getLayout().x+tx_1)*kx_1,coorY_1="TB"===orient_1?(node.depth-1)*ky_1:height-(node.depth-1)*ky_1,node.setLayout({x:coorX_1,y:coorY_1},!0)}))}}}(seriesModel,api)})}function treeVisual(ecModel){ecModel.eachSeriesByType("tree",function(seriesModel){var data=seriesModel.getData();data.tree.eachNode(function(node){var style=node.getModel().getModel("itemStyle").getItemStyle(),existsStyle=data.ensureUniqueItemVisual(node.dataIndex,"style");(0,util.extend)(existsStyle,style)})})}var actionTypes=["treemapZoomToNode","treemapRender","treemapMove"];var palette=__webpack_require__("./node_modules/echarts/lib/model/mixin/palette.js");function enableAriaDecalForTree(seriesModel){var tree=seriesModel.getData().tree,decalPaletteScope={};tree.eachNode(function(node){for(var current=node;current&&current.depth>1;)current=current.parentNode;var decal=(0,palette.x)(seriesModel.ecModel,current.name||current.dataIndex+"",decalPaletteScope);node.setVisual("decal",decal)})}var TreemapSeriesModel=function(_super){function TreemapSeriesModel(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=TreemapSeriesModel.type,_this.preventUsingHoverLayer=!0,_this}return(0,tslib_es6.C6)(TreemapSeriesModel,_super),TreemapSeriesModel.prototype.getInitialData=function(option,ecModel){var root={name:option.name,children:option.data};completeTreeValue(root);var levels=option.levels||[],designatedVisualItemStyle=this.designatedVisualItemStyle={},designatedVisualModel=new Model.A({itemStyle:designatedVisualItemStyle},this,ecModel);levels=option.levels=function setDefault(levels,ecModel){var hasColorDefine,hasDecalDefine,globalColorList=(0,util_model.qB)(ecModel.get("color")),globalDecalList=(0,util_model.qB)(ecModel.get(["aria","decal","decals"]));if(!globalColorList)return;levels=levels||[],util.each(levels,function(levelDefine){var model=new Model.A(levelDefine),modelColor=model.get("color"),modelDecal=model.get("decal");(model.get(["itemStyle","color"])||modelColor&&"none"!==modelColor)&&(hasColorDefine=!0),(model.get(["itemStyle","decal"])||modelDecal&&"none"!==modelDecal)&&(hasDecalDefine=!0)});var level0=levels[0]||(levels[0]={});hasColorDefine||(level0.color=globalColorList.slice());!hasDecalDefine&&globalDecalList&&(level0.decal=globalDecalList.slice());return levels}(levels,ecModel);var levelModels=util.map(levels||[],function(levelDefine){return new Model.A(levelDefine,designatedVisualModel,ecModel)},this),tree=data_Tree.createTree(root,this,function beforeLink(nodeData){nodeData.wrapMethod("getItemModel",function(model,idx){var node=tree.getNodeByDataIndex(idx),levelModel=node?levelModels[node.depth]:null;return model.parentModel=levelModel||designatedVisualModel,model})});return tree.data},TreemapSeriesModel.prototype.optionUpdated=function(){this.resetViewRoot()},TreemapSeriesModel.prototype.formatTooltip=function(dataIndex,multipleSeries,dataType){var data=this.getData(),value=this.getRawValue(dataIndex),name=data.getName(dataIndex);return(0,tooltipMarkup.Qx)("nameValue",{name,value})},TreemapSeriesModel.prototype.getDataParams=function(dataIndex){var params=_super.prototype.getDataParams.apply(this,arguments),node=this.getData().tree.getNodeByDataIndex(dataIndex);return params.treeAncestors=wrapTreePathInfo(node,this),params.treePathInfo=params.treeAncestors,params},TreemapSeriesModel.prototype.setLayoutInfo=function(layoutInfo){this.layoutInfo=this.layoutInfo||{},util.extend(this.layoutInfo,layoutInfo)},TreemapSeriesModel.prototype.mapIdToIndex=function(id){var idIndexMap=this._idIndexMap;idIndexMap||(idIndexMap=this._idIndexMap=util.createHashMap(),this._idIndexMapCount=0);var index=idIndexMap.get(id);return null==index&&idIndexMap.set(id,index=this._idIndexMapCount++),index},TreemapSeriesModel.prototype.getViewRoot=function(){return this._viewRoot},TreemapSeriesModel.prototype.resetViewRoot=function(viewRoot){viewRoot?this._viewRoot=viewRoot:viewRoot=this._viewRoot;var root=this.getRawData().tree.root;viewRoot&&(viewRoot===root||root.contains(viewRoot))||(this._viewRoot=root)},TreemapSeriesModel.prototype.enableAriaDecal=function(){enableAriaDecalForTree(this)},TreemapSeriesModel.type="series.treemap",TreemapSeriesModel.layoutMode="box",TreemapSeriesModel.defaultOption={progressive:0,left:"center",top:"middle",width:"80%",height:"80%",sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"",zoomToNodeRatio:.1024,scaleLimit:null,roam:!0,nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{color:"rgba(0,0,0,0.7)",textStyle:{color:"#fff"}},emphasis:{itemStyle:{color:"rgba(0,0,0,0.9)"}}},label:{show:!0,distance:0,padding:5,position:"inside",color:"#fff",overflow:"truncate"},upperLabel:{show:!1,position:[0,"50%"],height:20,overflow:"truncate",verticalAlign:"middle"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{upperLabel:{show:!0,position:[0,"50%"],overflow:"truncate",verticalAlign:"middle"}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},TreemapSeriesModel}(Series.A);function completeTreeValue(dataNode){var sum=0;util.each(dataNode.children,function(child){completeTreeValue(child);var childValue=child.value;util.isArray(childValue)&&(childValue=childValue[0]),sum+=childValue});var thisValue=dataNode.value;util.isArray(thisValue)&&(thisValue=thisValue[0]),(null==thisValue||isNaN(thisValue))&&(thisValue=sum),thisValue<0&&(thisValue=0),util.isArray(dataNode.value)?dataNode.value[0]=thisValue:dataNode.value=thisValue}const TreemapSeries=TreemapSeriesModel;var DataDiffer=__webpack_require__("./node_modules/echarts/lib/data/DataDiffer.js"),Breadcrumb=function(){function Breadcrumb(containerGroup){this.group=new Group.A,containerGroup.add(this.group)}return Breadcrumb.prototype.render=function(seriesModel,api,targetNode,onSelect){var model=seriesModel.getModel("breadcrumb"),thisGroup=this.group;if(thisGroup.removeAll(),model.get("show")&&targetNode){var normalStyleModel=model.getModel("itemStyle"),emphasisModel=model.getModel("emphasis"),textStyleModel=normalStyleModel.getModel("textStyle"),emphasisTextStyleModel=emphasisModel.getModel(["itemStyle","textStyle"]),layoutParam={pos:{left:model.get("left"),right:model.get("right"),top:model.get("top"),bottom:model.get("bottom")},box:{width:api.getWidth(),height:api.getHeight()},emptyItemWidth:model.get("emptyItemWidth"),totalWidth:0,renderList:[]};this._prepare(targetNode,layoutParam,textStyleModel),this._renderContent(seriesModel,layoutParam,normalStyleModel,emphasisModel,textStyleModel,emphasisTextStyleModel,onSelect),layout.m$(thisGroup,layoutParam.pos,layoutParam.box)}},Breadcrumb.prototype._prepare=function(targetNode,layoutParam,textStyleModel){for(var node=targetNode;node;node=node.parentNode){var text=(0,util_model.vS)(node.getModel().get("name"),""),textRect=textStyleModel.getTextRect(text),itemWidth=Math.max(textRect.width+16,layoutParam.emptyItemWidth);layoutParam.totalWidth+=itemWidth+8,layoutParam.renderList.push({node,text,width:itemWidth})}},Breadcrumb.prototype._renderContent=function(seriesModel,layoutParam,normalStyleModel,emphasisModel,textStyleModel,emphasisTextStyleModel,onSelect){for(var lastX=0,emptyItemWidth=layoutParam.emptyItemWidth,height=seriesModel.get(["breadcrumb","height"]),availableSize=layout.HU(layoutParam.pos,layoutParam.box),totalWidth=layoutParam.totalWidth,renderList=layoutParam.renderList,emphasisItemStyle=emphasisModel.getModel("itemStyle").getItemStyle(),i=renderList.length-1;i>=0;i--){var item=renderList[i],itemNode=item.node,itemWidth=item.width,text=item.text;totalWidth>availableSize.width&&(totalWidth-=itemWidth-emptyItemWidth,itemWidth=emptyItemWidth,text=null);var el=new Polygon.A({shape:{points:makeItemPoints(lastX,0,itemWidth,height,i===renderList.length-1,0===i)},style:(0,util.defaults)(normalStyleModel.getItemStyle(),{lineJoin:"bevel"}),textContent:new Text.Ay({style:(0,labelStyle.VB)(textStyleModel,{text})}),textConfig:{position:"inside"},z2:1e4*states.CA,onclick:(0,util.curry)(onSelect,itemNode)});el.disableLabelAnimation=!0,el.getTextContent().ensureState("emphasis").style=(0,labelStyle.VB)(emphasisTextStyleModel,{text}),el.ensureState("emphasis").style=emphasisItemStyle,(0,states.Lm)(el,emphasisModel.get("focus"),emphasisModel.get("blurScope"),emphasisModel.get("disabled")),this.group.add(el),packEventData(el,seriesModel,itemNode),lastX+=itemWidth+8}},Breadcrumb.prototype.remove=function(){this.group.removeAll()},Breadcrumb}();function makeItemPoints(x,y,itemWidth,itemHeight,head,tail){var points=[[head?x:x-5,y],[x+itemWidth,y],[x+itemWidth,y+itemHeight],[head?x:x-5,y+itemHeight]];return!tail&&points.splice(2,0,[x+itemWidth+5,y+itemHeight/2]),!head&&points.push([x,y+itemHeight/2]),points}function packEventData(el,seriesModel,itemNode){(0,innerStore.z)(el).eventData={componentType:"series",componentSubType:"treemap",componentIndex:seriesModel.componentIndex,seriesIndex:seriesModel.seriesIndex,seriesName:seriesModel.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:itemNode&&itemNode.dataIndex,name:itemNode&&itemNode.name},treePathInfo:itemNode&&wrapTreePathInfo(itemNode,seriesModel)}}const treemap_Breadcrumb=Breadcrumb;var AnimationWrap=function(){function AnimationWrap(){this._storage=[],this._elExistsMap={}}return AnimationWrap.prototype.add=function(el,target,duration,delay,easing){return!this._elExistsMap[el.id]&&(this._elExistsMap[el.id]=!0,this._storage.push({el,target,duration,delay,easing}),!0)},AnimationWrap.prototype.finished=function(callback){return this._finishedCallback=callback,this},AnimationWrap.prototype.start=function(){for(var _this=this,count=this._storage.length,checkTerminate=function(){--count<=0&&(_this._storage.length=0,_this._elExistsMap={},_this._finishedCallback&&_this._finishedCallback())},i=0,len=this._storage.length;i<len;i++){var item=this._storage[i];item.el.animateTo(item.target,{duration:item.duration,delay:item.delay,easing:item.easing,setToFinal:!0,done:checkTerminate,aborted:checkTerminate})}return this},AnimationWrap}();var makeStyleMapper=__webpack_require__("./node_modules/echarts/lib/model/mixin/makeStyleMapper.js"),format=__webpack_require__("./node_modules/echarts/lib/util/format.js"),TreemapView_Group=Group.A,TreemapView_Rect=Rect.A,Z2_BASE=10*states.CA,Z2_BG=2*states.CA,Z2_CONTENT=3*states.CA,getStateItemStyle=(0,makeStyleMapper.A)([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),getItemStyleNormal=function(model){var itemStyle=getStateItemStyle(model);return itemStyle.stroke=itemStyle.fill=itemStyle.lineWidth=null,itemStyle},TreemapView_inner=(0,util_model.$r)(),TreemapView=function(_super){function TreemapView(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=TreemapView.type,_this._state="ready",_this._storage={nodeGroup:[],background:[],content:[]},_this}return(0,tslib_es6.C6)(TreemapView,_super),TreemapView.prototype.render=function(seriesModel,ecModel,api,payload){var models=ecModel.findComponents({mainType:"series",subType:"treemap",query:payload});if(!((0,util.indexOf)(models,seriesModel)<0)){this.seriesModel=seriesModel,this.api=api,this.ecModel=ecModel;var targetInfo=retrieveTargetInfo(payload,["treemapZoomToNode","treemapRootToNode"],seriesModel),payloadType=payload&&payload.type,layoutInfo=seriesModel.layoutInfo,isInit=!this._oldTree,thisStorage=this._storage,reRoot="treemapRootToNode"===payloadType&&targetInfo&&thisStorage?{rootNodeGroup:thisStorage.nodeGroup[targetInfo.node.getRawIndex()],direction:payload.direction}:null,containerGroup=this._giveContainerGroup(layoutInfo),hasAnimation=seriesModel.get("animation"),renderResult=this._doRender(containerGroup,seriesModel,reRoot);!hasAnimation||isInit||payloadType&&"treemapZoomToNode"!==payloadType&&"treemapRootToNode"!==payloadType?renderResult.renderFinally():this._doAnimation(containerGroup,renderResult,seriesModel,reRoot),this._resetController(api),this._renderBreadcrumb(seriesModel,api,targetInfo)}},TreemapView.prototype._giveContainerGroup=function(layoutInfo){var containerGroup=this._containerGroup;return containerGroup||(containerGroup=this._containerGroup=new TreemapView_Group,this._initEvents(containerGroup),this.group.add(containerGroup)),containerGroup.x=layoutInfo.x,containerGroup.y=layoutInfo.y,containerGroup},TreemapView.prototype._doRender=function(containerGroup,seriesModel,reRoot){var thisTree=seriesModel.getData().tree,oldTree=this._oldTree,lastsForAnimation={nodeGroup:[],background:[],content:[]},thisStorage={nodeGroup:[],background:[],content:[]},oldStorage=this._storage,willInvisibleEls=[];function doRenderNode(thisNode,oldNode,parentGroup,depth){return function renderNode(seriesModel,thisStorage,oldStorage,reRoot,lastsForAnimation,willInvisibleEls,thisNode,oldNode,parentGroup,depth){if(!thisNode)return;var thisLayout=thisNode.getLayout(),data=seriesModel.getData(),nodeModel=thisNode.getModel();if(data.setItemGraphicEl(thisNode.dataIndex,null),!thisLayout||!thisLayout.isInView)return;var thisWidth=thisLayout.width,thisHeight=thisLayout.height,borderWidth=thisLayout.borderWidth,thisInvisible=thisLayout.invisible,thisRawIndex=thisNode.getRawIndex(),oldRawIndex=oldNode&&oldNode.getRawIndex(),thisViewChildren=thisNode.viewChildren,upperHeight=thisLayout.upperHeight,isParent=thisViewChildren&&thisViewChildren.length,itemStyleNormalModel=nodeModel.getModel("itemStyle"),itemStyleEmphasisModel=nodeModel.getModel(["emphasis","itemStyle"]),itemStyleBlurModel=nodeModel.getModel(["blur","itemStyle"]),itemStyleSelectModel=nodeModel.getModel(["select","itemStyle"]),borderRadius=itemStyleNormalModel.get("borderRadius")||0,group=giveGraphic("nodeGroup",TreemapView_Group);if(!group)return;if(parentGroup.add(group),group.x=thisLayout.x||0,group.y=thisLayout.y||0,group.markRedraw(),TreemapView_inner(group).nodeWidth=thisWidth,TreemapView_inner(group).nodeHeight=thisHeight,thisLayout.isAboveViewRoot)return group;var bg=giveGraphic("background",TreemapView_Rect,depth,Z2_BG);bg&&renderBackground(group,bg,isParent&&thisLayout.upperLabelHeight);var emphasisModel=nodeModel.getModel("emphasis"),focus=emphasisModel.get("focus"),blurScope=emphasisModel.get("blurScope"),isDisabled=emphasisModel.get("disabled"),focusOrIndices="ancestor"===focus?thisNode.getAncestorsIndices():"descendant"===focus?thisNode.getDescendantIndices():focus;if(isParent)(0,states.u6)(group)&&(0,states.ix)(group,!1),bg&&((0,states.ix)(bg,!isDisabled),data.setItemGraphicEl(thisNode.dataIndex,bg),(0,states.gR)(bg,focusOrIndices,blurScope));else{var content=giveGraphic("content",TreemapView_Rect,depth,Z2_CONTENT);content&&renderContent(group,content),bg.disableMorphing=!0,bg&&(0,states.u6)(bg)&&(0,states.ix)(bg,!1),(0,states.ix)(group,!isDisabled),data.setItemGraphicEl(thisNode.dataIndex,group);var cursorStyle=nodeModel.getShallow("cursor");cursorStyle&&content.attr("cursor",cursorStyle),(0,states.gR)(group,focusOrIndices,blurScope)}return group;function renderBackground(group,bg,useUpperLabel){var ecData=(0,innerStore.z)(bg);if(ecData.dataIndex=thisNode.dataIndex,ecData.seriesIndex=seriesModel.seriesIndex,bg.setShape({x:0,y:0,width:thisWidth,height:thisHeight,r:borderRadius}),thisInvisible)processInvisible(bg);else{bg.invisible=!1;var style=thisNode.getVisual("style"),visualBorderColor=style.stroke,normalStyle=getItemStyleNormal(itemStyleNormalModel);normalStyle.fill=visualBorderColor;var emphasisStyle=getStateItemStyle(itemStyleEmphasisModel);emphasisStyle.fill=itemStyleEmphasisModel.get("borderColor");var blurStyle=getStateItemStyle(itemStyleBlurModel);blurStyle.fill=itemStyleBlurModel.get("borderColor");var selectStyle=getStateItemStyle(itemStyleSelectModel);if(selectStyle.fill=itemStyleSelectModel.get("borderColor"),useUpperLabel){var upperLabelWidth=thisWidth-2*borderWidth;prepareText(bg,visualBorderColor,style.opacity,{x:borderWidth,y:0,width:upperLabelWidth,height:upperHeight})}else bg.removeTextContent();bg.setStyle(normalStyle),bg.ensureState("emphasis").style=emphasisStyle,bg.ensureState("blur").style=blurStyle,bg.ensureState("select").style=selectStyle,(0,states.DW)(bg)}group.add(bg)}function renderContent(group,content){var ecData=(0,innerStore.z)(content);ecData.dataIndex=thisNode.dataIndex,ecData.seriesIndex=seriesModel.seriesIndex;var contentWidth=Math.max(thisWidth-2*borderWidth,0),contentHeight=Math.max(thisHeight-2*borderWidth,0);if(content.culling=!0,content.setShape({x:borderWidth,y:borderWidth,width:contentWidth,height:contentHeight,r:borderRadius}),thisInvisible)processInvisible(content);else{content.invisible=!1;var nodeStyle=thisNode.getVisual("style"),visualColor=nodeStyle.fill,normalStyle=getItemStyleNormal(itemStyleNormalModel);normalStyle.fill=visualColor,normalStyle.decal=nodeStyle.decal;var emphasisStyle=getStateItemStyle(itemStyleEmphasisModel),blurStyle=getStateItemStyle(itemStyleBlurModel),selectStyle=getStateItemStyle(itemStyleSelectModel);prepareText(content,visualColor,nodeStyle.opacity,null),content.setStyle(normalStyle),content.ensureState("emphasis").style=emphasisStyle,content.ensureState("blur").style=blurStyle,content.ensureState("select").style=selectStyle,(0,states.DW)(content)}group.add(content)}function processInvisible(element){!element.invisible&&willInvisibleEls.push(element)}function prepareText(rectEl,visualColor,visualOpacity,upperLabelRect){var normalLabelModel=nodeModel.getModel(upperLabelRect?"upperLabel":"label"),defaultText=(0,util_model.vS)(nodeModel.get("name"),null),isShow=normalLabelModel.getShallow("show");(0,labelStyle.qM)(rectEl,(0,labelStyle.lx)(nodeModel,upperLabelRect?"upperLabel":"label"),{defaultText:isShow?defaultText:null,inheritColor:visualColor,defaultOpacity:visualOpacity,labelFetcher:seriesModel,labelDataIndex:thisNode.dataIndex});var textEl=rectEl.getTextContent();if(textEl){var textStyle=textEl.style,textPadding=(0,util.normalizeCssArray)(textStyle.padding||0);upperLabelRect&&(rectEl.setTextConfig({layoutRect:upperLabelRect}),textEl.disableLabelLayout=!0),textEl.beforeUpdate=function(){var width=Math.max((upperLabelRect?upperLabelRect.width:rectEl.shape.width)-textPadding[1]-textPadding[3],0),height=Math.max((upperLabelRect?upperLabelRect.height:rectEl.shape.height)-textPadding[0]-textPadding[2],0);textStyle.width===width&&textStyle.height===height||textEl.setStyle({width,height})},textStyle.truncateMinChar=2,textStyle.lineOverflow="truncate",addDrillDownIcon(textStyle,upperLabelRect,thisLayout);var textEmphasisState=textEl.getState("emphasis");addDrillDownIcon(textEmphasisState?textEmphasisState.style:null,upperLabelRect,thisLayout)}}function addDrillDownIcon(style,upperLabelRect,thisLayout){var text=style?style.text:null;if(!upperLabelRect&&thisLayout.isLeafRoot&&null!=text){var iconChar=seriesModel.get("drillDownIcon",!0);style.text=iconChar?iconChar+" "+text:text}}function giveGraphic(storageName,Ctor,depth,z){var element=null!=oldRawIndex&&oldStorage[storageName][oldRawIndex],lasts=lastsForAnimation[storageName];return element?(oldStorage[storageName][oldRawIndex]=null,prepareAnimationWhenHasOld(lasts,element)):thisInvisible||((element=new Ctor)instanceof Displayable.Ay&&(element.z2=function calculateZ2(depth,z2InLevel){return depth*Z2_BASE+z2InLevel}(depth,z)),prepareAnimationWhenNoOld(lasts,element)),thisStorage[storageName][thisRawIndex]=element}function prepareAnimationWhenHasOld(lasts,element){var lastCfg=lasts[thisRawIndex]={};element instanceof TreemapView_Group?(lastCfg.oldX=element.x,lastCfg.oldY=element.y):lastCfg.oldShape=(0,util.extend)({},element.shape)}function prepareAnimationWhenNoOld(lasts,element){var lastCfg=lasts[thisRawIndex]={},parentNode=thisNode.parentNode,isGroup=element instanceof Group.A;if(parentNode&&(!reRoot||"drillDown"===reRoot.direction)){var parentOldX=0,parentOldY=0,parentOldBg=lastsForAnimation.background[parentNode.getRawIndex()];!reRoot&&parentOldBg&&parentOldBg.oldShape&&(parentOldX=parentOldBg.oldShape.width,parentOldY=parentOldBg.oldShape.height),isGroup?(lastCfg.oldX=0,lastCfg.oldY=parentOldY):lastCfg.oldShape={x:parentOldX,y:parentOldY,width:0,height:0}}lastCfg.fadein=!isGroup}}(seriesModel,thisStorage,oldStorage,reRoot,lastsForAnimation,willInvisibleEls,thisNode,oldNode,parentGroup,depth)}!function dualTravel(thisViewChildren,oldViewChildren,parentGroup,sameTree,depth){sameTree?(oldViewChildren=thisViewChildren,(0,util.each)(thisViewChildren,function(child,index){!child.isRemoved()&&processNode(index,index)})):new DataDiffer.A(oldViewChildren,thisViewChildren,getKey,getKey).add(processNode).update(processNode).remove((0,util.curry)(processNode,null)).execute();function getKey(node){return node.getId()}function processNode(newIndex,oldIndex){var thisNode=null!=newIndex?thisViewChildren[newIndex]:null,oldNode=null!=oldIndex?oldViewChildren[oldIndex]:null,group=doRenderNode(thisNode,oldNode,parentGroup,depth);group&&dualTravel(thisNode&&thisNode.viewChildren||[],oldNode&&oldNode.viewChildren||[],group,sameTree,depth+1)}}(thisTree.root?[thisTree.root]:[],oldTree&&oldTree.root?[oldTree.root]:[],containerGroup,thisTree===oldTree||!oldTree,0);var willDeleteEls=function clearStorage(storage){var willDeleteEls={nodeGroup:[],background:[],content:[]};return storage&&(0,util.each)(storage,function(store,storageName){var delEls=willDeleteEls[storageName];(0,util.each)(store,function(el){el&&(delEls.push(el),TreemapView_inner(el).willDelete=!0)})}),willDeleteEls}(oldStorage);if(this._oldTree=thisTree,this._storage=thisStorage,this._controllerHost){var _oldRootLayout=this.seriesModel.layoutInfo,rootLayout=thisTree.root.getLayout();rootLayout.width===_oldRootLayout.width&&rootLayout.height===_oldRootLayout.height&&(this._controllerHost.zoom=1)}return{lastsForAnimation,willDeleteEls,renderFinally:function renderFinally(){(0,util.each)(willDeleteEls,function(els){(0,util.each)(els,function(el){el.parent&&el.parent.remove(el)})}),(0,util.each)(willInvisibleEls,function(el){el.invisible=!0,el.dirty()})}}},TreemapView.prototype._doAnimation=function(containerGroup,renderResult,seriesModel,reRoot){var durationOption=seriesModel.get("animationDurationUpdate"),easingOption=seriesModel.get("animationEasing"),duration=((0,util.isFunction)(durationOption)?0:durationOption)||0,easing=((0,util.isFunction)(easingOption)?null:easingOption)||"cubicOut",animationWrap=function createWrap(){return new AnimationWrap}();(0,util.each)(renderResult.willDeleteEls,function(store,storageName){(0,util.each)(store,function(el,rawIndex){if(!el.invisible){var target,parent=el.parent,innerStore=TreemapView_inner(parent);if(reRoot&&"drillDown"===reRoot.direction)target=parent===reRoot.rootNodeGroup?{shape:{x:0,y:0,width:innerStore.nodeWidth,height:innerStore.nodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var targetX=0,targetY=0;innerStore.willDelete||(targetX=innerStore.nodeWidth/2,targetY=innerStore.nodeHeight/2),target="nodeGroup"===storageName?{x:targetX,y:targetY,style:{opacity:0}}:{shape:{x:targetX,y:targetY,width:0,height:0},style:{opacity:0}}}target&&animationWrap.add(el,target,duration,0,easing)}})}),(0,util.each)(this._storage,function(store,storageName){(0,util.each)(store,function(el,rawIndex){var last=renderResult.lastsForAnimation[storageName][rawIndex],target={};last&&(el instanceof Group.A?null!=last.oldX&&(target.x=el.x,target.y=el.y,el.x=last.oldX,el.y=last.oldY):(last.oldShape&&(target.shape=(0,util.extend)({},el.shape),el.setShape(last.oldShape)),last.fadein?(el.setStyle("opacity",0),target.style={opacity:1}):1!==el.style.opacity&&(target.style={opacity:1})),animationWrap.add(el,target,duration,0,easing))})},this),this._state="animating",animationWrap.finished((0,util.bind)(function(){this._state="ready",renderResult.renderFinally()},this)).start()},TreemapView.prototype._resetController=function(api){var controller=this._controller,controllerHost=this._controllerHost;controllerHost||(this._controllerHost={target:this.group},controllerHost=this._controllerHost),controller||((controller=this._controller=new RoamController.A(api.getZr())).enable(this.seriesModel.get("roam")),controllerHost.zoomLimit=this.seriesModel.get("scaleLimit"),controllerHost.zoom=this.seriesModel.get("zoom"),controller.on("pan",(0,util.bind)(this._onPan,this)),controller.on("zoom",(0,util.bind)(this._onZoom,this)));var rect=new BoundingRect.A(0,0,api.getWidth(),api.getHeight());controller.setPointerChecker(function(e,x,y){return rect.contain(x,y)})},TreemapView.prototype._clearController=function(){var controller=this._controller;this._controllerHost=null,controller&&(controller.dispose(),controller=null)},TreemapView.prototype._onPan=function(e){if("animating"!==this._state&&(Math.abs(e.dx)>3||Math.abs(e.dy)>3)){var root=this.seriesModel.getData().tree.root;if(!root)return;var rootLayout=root.getLayout();if(!rootLayout)return;this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:rootLayout.x+e.dx,y:rootLayout.y+e.dy,width:rootLayout.width,height:rootLayout.height}})}},TreemapView.prototype._onZoom=function(e){var mouseX=e.originX,mouseY=e.originY,zoomDelta=e.scale;if("animating"!==this._state){var root=this.seriesModel.getData().tree.root;if(!root)return;var rootLayout=root.getLayout();if(!rootLayout)return;var zoomLimit,rect=new BoundingRect.A(rootLayout.x,rootLayout.y,rootLayout.width,rootLayout.height),_controllerHost=this._controllerHost;zoomLimit=_controllerHost.zoomLimit;var newZoom=_controllerHost.zoom=_controllerHost.zoom||1;if(newZoom*=zoomDelta,zoomLimit){var zoomMin=zoomLimit.min||0,zoomMax=zoomLimit.max||1/0;newZoom=Math.max(Math.min(zoomMax,newZoom),zoomMin)}var zoomScale=newZoom/_controllerHost.zoom;_controllerHost.zoom=newZoom;var layoutInfo=this.seriesModel.layoutInfo;mouseX-=layoutInfo.x,mouseY-=layoutInfo.y;var m=matrix.create();matrix.translate(m,m,[-mouseX,-mouseY]),matrix.scale(m,m,[zoomScale,zoomScale]),matrix.translate(m,m,[mouseX,mouseY]),rect.applyTransform(m),this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:rect.x,y:rect.y,width:rect.width,height:rect.height}})}},TreemapView.prototype._initEvents=function(containerGroup){var _this=this;containerGroup.on("click",function(e){if("ready"===_this._state){var nodeClick=_this.seriesModel.get("nodeClick",!0);if(nodeClick){var targetInfo=_this.findTarget(e.offsetX,e.offsetY);if(targetInfo){var node=targetInfo.node;if(node.getLayout().isLeafRoot)_this._rootToNode(targetInfo);else if("zoomToNode"===nodeClick)_this._zoomToNode(targetInfo);else if("link"===nodeClick){var itemModel=node.hostTree.data.getItemModel(node.dataIndex),link=itemModel.get("link",!0),linkTarget=itemModel.get("target",!0)||"blank";link&&(0,format.JW)(link,linkTarget)}}}}},this)},TreemapView.prototype._renderBreadcrumb=function(seriesModel,api,targetInfo){var _this=this;targetInfo||(targetInfo=null!=seriesModel.get("leafDepth",!0)?{node:seriesModel.getViewRoot()}:this.findTarget(api.getWidth()/2,api.getHeight()/2))||(targetInfo={node:seriesModel.getData().tree.root}),(this._breadcrumb||(this._breadcrumb=new treemap_Breadcrumb(this.group))).render(seriesModel,api,targetInfo.node,function(node){"animating"!==_this._state&&(aboveViewRoot(seriesModel.getViewRoot(),node)?_this._rootToNode({node}):_this._zoomToNode({node}))})},TreemapView.prototype.remove=function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage={nodeGroup:[],background:[],content:[]},this._state="ready",this._breadcrumb&&this._breadcrumb.remove()},TreemapView.prototype.dispose=function(){this._clearController()},TreemapView.prototype._zoomToNode=function(targetInfo){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:targetInfo.node})},TreemapView.prototype._rootToNode=function(targetInfo){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:targetInfo.node})},TreemapView.prototype.findTarget=function(x,y){var targetInfo;return this.seriesModel.getViewRoot().eachNode({attr:"viewChildren",order:"preorder"},function(node){var bgEl=this._storage.background[node.getRawIndex()];if(bgEl){var point=bgEl.transformCoordToLocal(x,y),shape=bgEl.shape;if(!(shape.x<=point[0]&&point[0]<=shape.x+shape.width&&shape.y<=point[1]&&point[1]<=shape.y+shape.height))return!1;targetInfo={node,offsetX:point[0],offsetY:point[1]}}},this),targetInfo},TreemapView.type="treemap",TreemapView}(Chart.A);const treemap_TreemapView=TreemapView;var VisualMapping=__webpack_require__("./node_modules/echarts/lib/visual/VisualMapping.js"),treemapVisual_inner=(0,util_model.$r)();const treemapVisual={seriesType:"treemap",reset:function(seriesModel){var root=seriesModel.getData().tree.root;root.isRemoved()||travelTree(root,{},seriesModel.getViewRoot().getAncestors(),seriesModel)}};function travelTree(node,designatedVisual,viewRootAncestors,seriesModel){var nodeModel=node.getModel(),nodeLayout=node.getLayout(),data=node.hostTree.data;if(nodeLayout&&!nodeLayout.invisible&&nodeLayout.isInView){var thisNodeColor,nodeItemStyleModel=nodeModel.getModel("itemStyle"),visuals=function buildVisuals(nodeItemStyleModel,designatedVisual,seriesModel){var visuals=(0,util.extend)({},designatedVisual),designatedVisualItemStyle=seriesModel.designatedVisualItemStyle;return(0,util.each)(["color","colorAlpha","colorSaturation"],function(visualName){designatedVisualItemStyle[visualName]=designatedVisual[visualName];var val=nodeItemStyleModel.get(visualName);designatedVisualItemStyle[visualName]=null,null!=val&&(visuals[visualName]=val)}),visuals}(nodeItemStyleModel,designatedVisual,seriesModel),existsStyle=data.ensureUniqueItemVisual(node.dataIndex,"style"),borderColor=nodeItemStyleModel.get("borderColor"),borderColorSaturation=nodeItemStyleModel.get("borderColorSaturation");null!=borderColorSaturation&&(borderColor=function calculateBorderColor(borderColorSaturation,thisNodeColor){return null!=thisNodeColor?(0,tool_color.modifyHSL)(thisNodeColor,null,null,borderColorSaturation):null}(borderColorSaturation,thisNodeColor=calculateColor(visuals))),existsStyle.stroke=borderColor;var viewChildren=node.viewChildren;if(viewChildren&&viewChildren.length){var mapping_1=function buildVisualMapping(node,nodeModel,nodeLayout,nodeItemStyleModel,visuals,viewChildren){if(!viewChildren||!viewChildren.length)return;var rangeVisual=getRangeVisual(nodeModel,"color")||null!=visuals.color&&"none"!==visuals.color&&(getRangeVisual(nodeModel,"colorAlpha")||getRangeVisual(nodeModel,"colorSaturation"));if(!rangeVisual)return;var visualMin=nodeModel.get("visualMin"),visualMax=nodeModel.get("visualMax"),dataExtent=nodeLayout.dataExtent.slice();null!=visualMin&&visualMin<dataExtent[0]&&(dataExtent[0]=visualMin),null!=visualMax&&visualMax>dataExtent[1]&&(dataExtent[1]=visualMax);var colorMappingBy=nodeModel.get("colorMappingBy"),opt={type:rangeVisual.name,dataExtent,visual:rangeVisual.range};"color"!==opt.type||"index"!==colorMappingBy&&"id"!==colorMappingBy?opt.mappingMethod="linear":(opt.mappingMethod="category",opt.loop=!0);var mapping=new VisualMapping.A(opt);return treemapVisual_inner(mapping).drColorMappingBy=colorMappingBy,mapping}(0,nodeModel,nodeLayout,0,visuals,viewChildren);(0,util.each)(viewChildren,function(child,index){if(child.depth>=viewRootAncestors.length||child===viewRootAncestors[child.depth]){var childVisual=function mapVisual(nodeModel,visuals,child,index,mapping,seriesModel){var childVisuals=(0,util.extend)({},visuals);if(mapping){var mappingType=mapping.type,colorMappingBy="color"===mappingType&&treemapVisual_inner(mapping).drColorMappingBy,value="index"===colorMappingBy?index:"id"===colorMappingBy?seriesModel.mapIdToIndex(child.getId()):child.getValue(nodeModel.get("visualDimension"));childVisuals[mappingType]=mapping.mapValueToVisual(value)}return childVisuals}(nodeModel,visuals,child,index,mapping_1,seriesModel);travelTree(child,childVisual,viewRootAncestors,seriesModel)}})}else thisNodeColor=calculateColor(visuals),existsStyle.fill=thisNodeColor}}function calculateColor(visuals){var color=getValueVisualDefine(visuals,"color");if(color){var colorAlpha=getValueVisualDefine(visuals,"colorAlpha"),colorSaturation=getValueVisualDefine(visuals,"colorSaturation");return colorSaturation&&(color=(0,tool_color.modifyHSL)(color,null,null,colorSaturation)),colorAlpha&&(color=(0,tool_color.modifyAlpha)(color,colorAlpha)),color}}function getValueVisualDefine(visuals,name){var value=visuals[name];if(null!=value&&"none"!==value)return value}function getRangeVisual(nodeModel,name){var range=nodeModel.get(name);return(0,util.isArray)(range)&&range.length?{name,range}:null}var mathMax=Math.max,mathMin=Math.min,retrieveValue=util.retrieve,each=util.each,PATH_BORDER_WIDTH=["itemStyle","borderWidth"],PATH_GAP_WIDTH=["itemStyle","gapWidth"],PATH_UPPER_LABEL_SHOW=["upperLabel","show"],PATH_UPPER_LABEL_HEIGHT=["upperLabel","height"];const treemapLayout={seriesType:"treemap",reset:function(seriesModel,ecModel,api,payload){var ecWidth=api.getWidth(),ecHeight=api.getHeight(),seriesOption=seriesModel.option,layoutInfo=layout.dV(seriesModel.getBoxLayoutParams(),{width:api.getWidth(),height:api.getHeight()}),size=seriesOption.size||[],containerWidth=(0,number.lo)(retrieveValue(layoutInfo.width,size[0]),ecWidth),containerHeight=(0,number.lo)(retrieveValue(layoutInfo.height,size[1]),ecHeight),payloadType=payload&&payload.type,targetInfo=retrieveTargetInfo(payload,["treemapZoomToNode","treemapRootToNode"],seriesModel),rootRect="treemapRender"===payloadType||"treemapMove"===payloadType?payload.rootRect:null,viewRoot=seriesModel.getViewRoot(),viewAbovePath=getPathToRoot(viewRoot);if("treemapMove"!==payloadType){var rootSize="treemapZoomToNode"===payloadType?function estimateRootSize(seriesModel,targetInfo,viewRoot,containerWidth,containerHeight){var parent,currNode=(targetInfo||{}).node,defaultSize=[containerWidth,containerHeight];if(!currNode||currNode===viewRoot)return defaultSize;var viewArea=containerWidth*containerHeight,area=viewArea*seriesModel.option.zoomToNodeRatio;for(;parent=currNode.parentNode;){for(var sum=0,siblings=parent.children,i=0,len=siblings.length;i<len;i++)sum+=siblings[i].getValue();var currNodeValue=currNode.getValue();if(0===currNodeValue)return defaultSize;area*=sum/currNodeValue;var parentModel=parent.getModel(),borderWidth=parentModel.get(PATH_BORDER_WIDTH);(area+=4*borderWidth*borderWidth+(3*borderWidth+Math.max(borderWidth,getUpperLabelHeight(parentModel)))*Math.pow(area,.5))>number.Is&&(area=number.Is),currNode=parent}area<viewArea&&(area=viewArea);var scale=Math.pow(area/viewArea,.5);return[containerWidth*scale,containerHeight*scale]}(seriesModel,targetInfo,viewRoot,containerWidth,containerHeight):rootRect?[rootRect.width,rootRect.height]:[containerWidth,containerHeight],sort_1=seriesOption.sort;sort_1&&"asc"!==sort_1&&"desc"!==sort_1&&(sort_1="desc");var options={squareRatio:seriesOption.squareRatio,sort:sort_1,leafDepth:seriesOption.leafDepth};viewRoot.hostTree.clearLayouts();var viewRootLayout_1={x:0,y:0,width:rootSize[0],height:rootSize[1],area:rootSize[0]*rootSize[1]};viewRoot.setLayout(viewRootLayout_1),squarify(viewRoot,options,!1,0),viewRootLayout_1=viewRoot.getLayout(),each(viewAbovePath,function(node,index){var childValue=(viewAbovePath[index+1]||viewRoot).getValue();node.setLayout(util.extend({dataExtent:[childValue,childValue],borderWidth:0,upperHeight:0},viewRootLayout_1))})}var treeRoot=seriesModel.getData().tree.root;treeRoot.setLayout(function calculateRootPosition(layoutInfo,rootRect,targetInfo){if(rootRect)return{x:rootRect.x,y:rootRect.y};var defaultPosition={x:0,y:0};if(!targetInfo)return defaultPosition;var targetNode=targetInfo.node,layout=targetNode.getLayout();if(!layout)return defaultPosition;var targetCenter=[layout.width/2,layout.height/2],node=targetNode;for(;node;){var nodeLayout=node.getLayout();targetCenter[0]+=nodeLayout.x,targetCenter[1]+=nodeLayout.y,node=node.parentNode}return{x:layoutInfo.width/2-targetCenter[0],y:layoutInfo.height/2-targetCenter[1]}}(layoutInfo,rootRect,targetInfo),!0),seriesModel.setLayoutInfo(layoutInfo),prunning(treeRoot,new BoundingRect.A(-layoutInfo.x,-layoutInfo.y,ecWidth,ecHeight),viewAbovePath,viewRoot,0)}};function squarify(node,options,hideChildren,depth){var width,height;if(!node.isRemoved()){var thisLayout=node.getLayout();width=thisLayout.width,height=thisLayout.height;var nodeModel=node.getModel(),borderWidth=nodeModel.get(PATH_BORDER_WIDTH),halfGapWidth=nodeModel.get(PATH_GAP_WIDTH)/2,upperLabelHeight=getUpperLabelHeight(nodeModel),upperHeight=Math.max(borderWidth,upperLabelHeight),layoutOffset=borderWidth-halfGapWidth,layoutOffsetUpper=upperHeight-halfGapWidth;node.setLayout({borderWidth,upperHeight,upperLabelHeight},!0);var totalArea=(width=mathMax(width-2*layoutOffset,0))*(height=mathMax(height-layoutOffset-layoutOffsetUpper,0)),viewChildren=function initChildren(node,nodeModel,totalArea,options,hideChildren,depth){var viewChildren=node.children||[],orderBy=options.sort;"asc"!==orderBy&&"desc"!==orderBy&&(orderBy=null);var overLeafDepth=null!=options.leafDepth&&options.leafDepth<=depth;if(hideChildren&&!overLeafDepth)return node.viewChildren=[];viewChildren=util.filter(viewChildren,function(child){return!child.isRemoved()}),function sort(viewChildren,orderBy){orderBy&&viewChildren.sort(function(a,b){var diff="asc"===orderBy?a.getValue()-b.getValue():b.getValue()-a.getValue();return 0===diff?"asc"===orderBy?a.dataIndex-b.dataIndex:b.dataIndex-a.dataIndex:diff});return viewChildren}(viewChildren,orderBy);var info=function statistic(nodeModel,children,orderBy){for(var sum=0,i=0,len=children.length;i<len;i++)sum+=children[i].getValue();var dataExtent,dimension=nodeModel.get("visualDimension");children&&children.length?"value"===dimension&&orderBy?(dataExtent=[children[children.length-1].getValue(),children[0].getValue()],"asc"===orderBy&&dataExtent.reverse()):(dataExtent=[1/0,-1/0],each(children,function(child){var value=child.getValue(dimension);value<dataExtent[0]&&(dataExtent[0]=value),value>dataExtent[1]&&(dataExtent[1]=value)})):dataExtent=[NaN,NaN];return{sum,dataExtent}}(nodeModel,viewChildren,orderBy);if(0===info.sum)return node.viewChildren=[];if(info.sum=function filterByThreshold(nodeModel,totalArea,sum,orderBy,orderedChildren){if(!orderBy)return sum;for(var visibleMin=nodeModel.get("visibleMin"),len=orderedChildren.length,deletePoint=len,i=len-1;i>=0;i--){var value=orderedChildren["asc"===orderBy?len-i-1:i].getValue();value/sum*totalArea<visibleMin&&(deletePoint=i,sum-=value)}return"asc"===orderBy?orderedChildren.splice(0,len-deletePoint):orderedChildren.splice(deletePoint,len-deletePoint),sum}(nodeModel,totalArea,info.sum,orderBy,viewChildren),0===info.sum)return node.viewChildren=[];for(var i=0,len=viewChildren.length;i<len;i++){var area=viewChildren[i].getValue()/info.sum*totalArea;viewChildren[i].setLayout({area})}overLeafDepth&&(viewChildren.length&&node.setLayout({isLeafRoot:!0},!0),viewChildren.length=0);return node.viewChildren=viewChildren,node.setLayout({dataExtent:info.dataExtent},!0),viewChildren}(node,nodeModel,totalArea,options,hideChildren,depth);if(viewChildren.length){var rect={x:layoutOffset,y:layoutOffsetUpper,width,height},rowFixedLength=mathMin(width,height),best=1/0,row=[];row.area=0;for(var i=0,len=viewChildren.length;i<len;){var child=viewChildren[i];row.push(child),row.area+=child.getLayout().area;var score=worst(row,rowFixedLength,options.squareRatio);score<=best?(i++,best=score):(row.area-=row.pop().getLayout().area,position(row,rowFixedLength,rect,halfGapWidth,!1),rowFixedLength=mathMin(rect.width,rect.height),row.length=row.area=0,best=1/0)}if(row.length&&position(row,rowFixedLength,rect,halfGapWidth,!0),!hideChildren){var childrenVisibleMin=nodeModel.get("childrenVisibleMin");null!=childrenVisibleMin&&totalArea<childrenVisibleMin&&(hideChildren=!0)}for(i=0,len=viewChildren.length;i<len;i++)squarify(viewChildren[i],options,hideChildren,depth+1)}}}function worst(row,rowFixedLength,ratio){for(var areaMax=0,areaMin=1/0,i=0,area=void 0,len=row.length;i<len;i++)(area=row[i].getLayout().area)&&(area<areaMin&&(areaMin=area),area>areaMax&&(areaMax=area));var squareArea=row.area*row.area,f=rowFixedLength*rowFixedLength*ratio;return squareArea?mathMax(f*areaMax/squareArea,squareArea/(f*areaMin)):1/0}function position(row,rowFixedLength,rect,halfGapWidth,flush){var idx0WhenH=rowFixedLength===rect.width?0:1,idx1WhenH=1-idx0WhenH,xy=["x","y"],wh=["width","height"],last=rect[xy[idx0WhenH]],rowOtherLength=rowFixedLength?row.area/rowFixedLength:0;(flush||rowOtherLength>rect[wh[idx1WhenH]])&&(rowOtherLength=rect[wh[idx1WhenH]]);for(var i=0,rowLen=row.length;i<rowLen;i++){var node=row[i],nodeLayout={},step=rowOtherLength?node.getLayout().area/rowOtherLength:0,wh1=nodeLayout[wh[idx1WhenH]]=mathMax(rowOtherLength-2*halfGapWidth,0),remain=rect[xy[idx0WhenH]]+rect[wh[idx0WhenH]]-last,modWH=i===rowLen-1||remain<step?remain:step,wh0=nodeLayout[wh[idx0WhenH]]=mathMax(modWH-2*halfGapWidth,0);nodeLayout[xy[idx1WhenH]]=rect[xy[idx1WhenH]]+mathMin(halfGapWidth,wh1/2),nodeLayout[xy[idx0WhenH]]=last+mathMin(halfGapWidth,wh0/2),last+=modWH,node.setLayout(nodeLayout,!0)}rect[xy[idx1WhenH]]+=rowOtherLength,rect[wh[idx1WhenH]]-=rowOtherLength}function prunning(node,clipRect,viewAbovePath,viewRoot,depth){var nodeLayout=node.getLayout(),nodeInViewAbovePath=viewAbovePath[depth],isAboveViewRoot=nodeInViewAbovePath&&nodeInViewAbovePath===node;if(!(nodeInViewAbovePath&&!isAboveViewRoot||depth===viewAbovePath.length&&node!==viewRoot)){node.setLayout({isInView:!0,invisible:!isAboveViewRoot&&!clipRect.intersect(nodeLayout),isAboveViewRoot},!0);var childClipRect=new BoundingRect.A(clipRect.x-nodeLayout.x,clipRect.y-nodeLayout.y,clipRect.width,clipRect.height);each(node.viewChildren||[],function(child){prunning(child,childClipRect,viewAbovePath,viewRoot,depth+1)})}}function getUpperLabelHeight(model){return model.get(PATH_UPPER_LABEL_SHOW)?model.get(PATH_UPPER_LABEL_HEIGHT):0}function categoryFilter(ecModel){var legendModels=ecModel.findComponents({mainType:"legend"});legendModels&&legendModels.length&&ecModel.eachSeriesByType("graph",function(graphSeries){var categoriesData=graphSeries.getCategoriesData(),data=graphSeries.getGraph().data,categoryNames=categoriesData.mapArray(categoriesData.getName);data.filterSelf(function(idx){var category=data.getItemModel(idx).getShallow("category");if(null!=category){(0,util.isNumber)(category)&&(category=categoryNames[category]);for(var i=0;i<legendModels.length;i++)if(!legendModels[i].isSelected(category))return!1}return!0})})}function categoryVisual(ecModel){var paletteScope={};ecModel.eachSeriesByType("graph",function(seriesModel){var categoriesData=seriesModel.getCategoriesData(),data=seriesModel.getData(),categoryNameIdxMap={};categoriesData.each(function(idx){var name=categoriesData.getName(idx);categoryNameIdxMap["ec-"+name]=idx;var itemModel=categoriesData.getItemModel(idx),style=itemModel.getModel("itemStyle").getItemStyle();style.fill||(style.fill=seriesModel.getColorFromPalette(name,paletteScope)),categoriesData.setItemVisual(idx,"style",style);for(var symbolVisualList=["symbol","symbolSize","symbolKeepAspect"],i=0;i<symbolVisualList.length;i++){var symbolVisual=itemModel.getShallow(symbolVisualList[i],!0);null!=symbolVisual&&categoriesData.setItemVisual(idx,symbolVisualList[i],symbolVisual)}}),categoriesData.count()&&data.each(function(idx){var categoryIdx=data.getItemModel(idx).getShallow("category");if(null!=categoryIdx){(0,util.isString)(categoryIdx)&&(categoryIdx=categoryNameIdxMap["ec-"+categoryIdx]);var categoryStyle=categoriesData.getItemVisual(categoryIdx,"style"),style=data.ensureUniqueItemVisual(idx,"style");(0,util.extend)(style,categoryStyle);for(var visualList=["symbol","symbolSize","symbolKeepAspect"],i=0;i<visualList.length;i++)data.setItemVisual(idx,visualList[i],categoriesData.getItemVisual(categoryIdx,visualList[i]))}})})}function normalize(a){return a instanceof Array||(a=[a,a]),a}function graphEdgeVisual(ecModel){ecModel.eachSeriesByType("graph",function(seriesModel){var graph=seriesModel.getGraph(),edgeData=seriesModel.getEdgeData(),symbolType=normalize(seriesModel.get("edgeSymbol")),symbolSize=normalize(seriesModel.get("edgeSymbolSize"));edgeData.setVisual("fromSymbol",symbolType&&symbolType[0]),edgeData.setVisual("toSymbol",symbolType&&symbolType[1]),edgeData.setVisual("fromSymbolSize",symbolSize&&symbolSize[0]),edgeData.setVisual("toSymbolSize",symbolSize&&symbolSize[1]),edgeData.setVisual("style",seriesModel.getModel("lineStyle").getLineStyle()),edgeData.each(function(idx){var itemModel=edgeData.getItemModel(idx),edge=graph.getEdgeByIndex(idx),symbolType=normalize(itemModel.getShallow("symbol",!0)),symbolSize=normalize(itemModel.getShallow("symbolSize",!0)),style=itemModel.getModel("lineStyle").getLineStyle(),existsStyle=edgeData.ensureUniqueItemVisual(idx,"style");switch((0,util.extend)(existsStyle,style),existsStyle.stroke){case"source":var nodeStyle=edge.node1.getVisual("style");existsStyle.stroke=nodeStyle&&nodeStyle.fill;break;case"target":nodeStyle=edge.node2.getVisual("style");existsStyle.stroke=nodeStyle&&nodeStyle.fill}symbolType[0]&&edge.setVisual("fromSymbol",symbolType[0]),symbolType[1]&&edge.setVisual("toSymbol",symbolType[1]),symbolSize[0]&&edge.setVisual("fromSymbolSize",symbolSize[0]),symbolSize[1]&&edge.setVisual("toSymbolSize",symbolSize[1])})})}var getAutoCurvenessParams=function(seriesModel){return seriesModel.get("autoCurveness")||null},createCurveness=function(seriesModel,appendLength){var autoCurvenessParmas=getAutoCurvenessParams(seriesModel),length=20,curvenessList=[];if(util.isNumber(autoCurvenessParmas))length=autoCurvenessParmas;else if(util.isArray(autoCurvenessParmas))return void(seriesModel.__curvenessList=autoCurvenessParmas);appendLength>length&&(length=appendLength);var len=length%2?length+2:length+3;curvenessList=[];for(var i=0;i<len;i++)curvenessList.push((i%2?i+1:i)/10*(i%2?-1:1));seriesModel.__curvenessList=curvenessList},getKeyOfEdges=function(n1,n2,seriesModel){var source=[n1.id,n1.dataIndex].join("."),target=[n2.id,n2.dataIndex].join(".");return[seriesModel.uid,source,target].join("--\x3e")},getOppositeKey=function(key){var keys=key.split("--\x3e");return[keys[0],keys[2],keys[1]].join("--\x3e")},getEdgeMapLengthWithKey=function(key,seriesModel){var edgeMap=seriesModel.__edgeMap;return edgeMap[key]?edgeMap[key].length:0};function getCurvenessForEdge(edge,seriesModel,index,needReverse){var autoCurvenessParams=getAutoCurvenessParams(seriesModel),isArrayParam=util.isArray(autoCurvenessParams);if(!autoCurvenessParams)return null;var edgeArray=function(edge,seriesModel){var key=getKeyOfEdges(edge.node1,edge.node2,seriesModel);return seriesModel.__edgeMap[key]}(edge,seriesModel);if(!edgeArray)return null;for(var edgeIndex=-1,i=0;i<edgeArray.length;i++)if(edgeArray[i]===index){edgeIndex=i;break}var totalLen=function(edge,seriesModel){return getEdgeMapLengthWithKey(getKeyOfEdges(edge.node1,edge.node2,seriesModel),seriesModel)+getEdgeMapLengthWithKey(getKeyOfEdges(edge.node2,edge.node1,seriesModel),seriesModel)}(edge,seriesModel);createCurveness(seriesModel,totalLen),edge.lineStyle=edge.lineStyle||{};var curKey=getKeyOfEdges(edge.node1,edge.node2,seriesModel),curvenessList=seriesModel.__curvenessList,parityCorrection=isArrayParam||totalLen%2?0:1;if(edgeArray.isForward)return curvenessList[parityCorrection+edgeIndex];var oppositeKey=getOppositeKey(curKey),len=getEdgeMapLengthWithKey(oppositeKey,seriesModel),resValue=curvenessList[edgeIndex+len+parityCorrection];return needReverse?isArrayParam?autoCurvenessParams&&0===autoCurvenessParams[0]?(len+parityCorrection)%2?resValue:-resValue:((len%2?0:1)+parityCorrection)%2?resValue:-resValue:(len+parityCorrection)%2?resValue:-resValue:curvenessList[edgeIndex+len+parityCorrection]}function simpleLayout(seriesModel){var coordSys=seriesModel.coordinateSystem;if(!coordSys||"view"===coordSys.type){var graph=seriesModel.getGraph();graph.eachNode(function(node){var model=node.getModel();node.setLayout([+model.get("x"),+model.get("y")])}),simpleLayoutEdge(graph,seriesModel)}}function simpleLayoutEdge(graph,seriesModel){graph.eachEdge(function(edge,index){var curveness=util.retrieve3(edge.getModel().get(["lineStyle","curveness"]),-getCurvenessForEdge(edge,seriesModel,index,!0),0),p1=vector.clone(edge.node1.getLayout()),p2=vector.clone(edge.node2.getLayout()),points=[p1,p2];+curveness&&points.push([(p1[0]+p2[0])/2-(p1[1]-p2[1])*curveness,(p1[1]+p2[1])/2-(p2[0]-p1[0])*curveness]),edge.setLayout(points)})}function graphSimpleLayout(ecModel,api){ecModel.eachSeriesByType("graph",function(seriesModel){var layout=seriesModel.get("layout"),coordSys=seriesModel.coordinateSystem;if(coordSys&&"view"!==coordSys.type){var data_1=seriesModel.getData(),dimensions_1=[];(0,util.each)(coordSys.dimensions,function(coordDim){dimensions_1=dimensions_1.concat(data_1.mapDimensionsAll(coordDim))});for(var dataIndex=0;dataIndex<data_1.count();dataIndex++){for(var value=[],hasValue=!1,i=0;i<dimensions_1.length;i++){var val=data_1.get(dimensions_1[i],dataIndex);isNaN(val)||(hasValue=!0),value.push(val)}hasValue?data_1.setItemLayout(dataIndex,coordSys.dataToPoint(value)):data_1.setItemLayout(dataIndex,[NaN,NaN])}simpleLayoutEdge(data_1.graph,seriesModel)}else layout&&"none"!==layout||simpleLayout(seriesModel)})}function getNodeGlobalScale(seriesModel){var coordSys=seriesModel.coordinateSystem;if("view"!==coordSys.type)return 1;var nodeScaleRatio=seriesModel.option.nodeScaleRatio,groupZoom=coordSys.scaleX;return((coordSys.getZoom()-1)*nodeScaleRatio+1)/groupZoom}function getSymbolSize(node){var symbolSize=node.getVisual("symbolSize");return symbolSize instanceof Array&&(symbolSize=(symbolSize[0]+symbolSize[1])/2),+symbolSize}var circularLayoutHelper_PI=Math.PI,_symbolRadiansHalf=[];function circularLayout(seriesModel,basedOn,draggingNode,pointer){var coordSys=seriesModel.coordinateSystem;if(!coordSys||"view"===coordSys.type){var rect=coordSys.getBoundingRect(),nodeData=seriesModel.getData(),graph=nodeData.graph,cx=rect.width/2+rect.x,cy=rect.height/2+rect.y,r=Math.min(rect.width,rect.height)/2,count=nodeData.count();if(nodeData.setLayout({cx,cy}),count){if(draggingNode){var _a=coordSys.pointToData(pointer),tempX=_a[0],tempY=_a[1],v=[tempX-cx,tempY-cy];vector.normalize(v,v),vector.scale(v,v,r),draggingNode.setLayout([cx+v[0],cy+v[1]],!0),rotateNodeLabel(draggingNode,seriesModel.get(["circular","rotateLabel"]),cx,cy)}_layoutNodesBasedOn[basedOn](seriesModel,graph,nodeData,r,cx,cy,count),graph.eachEdge(function(edge,index){var cp1,curveness=util.retrieve3(edge.getModel().get(["lineStyle","curveness"]),getCurvenessForEdge(edge,seriesModel,index),0),p1=vector.clone(edge.node1.getLayout()),p2=vector.clone(edge.node2.getLayout()),x12=(p1[0]+p2[0])/2,y12=(p1[1]+p2[1])/2;+curveness&&(cp1=[cx*(curveness*=3)+x12*(1-curveness),cy*curveness+y12*(1-curveness)]),edge.setLayout([p1,p2,cp1])})}}}var _layoutNodesBasedOn={value:function(seriesModel,graph,nodeData,r,cx,cy,count){var angle=0,sum=nodeData.getSum("value"),unitAngle=2*Math.PI/(sum||count);graph.eachNode(function(node){var value=node.getValue("value"),radianHalf=unitAngle*(sum?value:1)/2;angle+=radianHalf,node.setLayout([r*Math.cos(angle)+cx,r*Math.sin(angle)+cy]),angle+=radianHalf})},symbolSize:function(seriesModel,graph,nodeData,r,cx,cy,count){var sumRadian=0;_symbolRadiansHalf.length=count;var nodeScale=getNodeGlobalScale(seriesModel);graph.eachNode(function(node){var symbolSize=getSymbolSize(node);isNaN(symbolSize)&&(symbolSize=2),symbolSize<0&&(symbolSize=0),symbolSize*=nodeScale;var symbolRadianHalf=Math.asin(symbolSize/2/r);isNaN(symbolRadianHalf)&&(symbolRadianHalf=circularLayoutHelper_PI/2),_symbolRadiansHalf[node.dataIndex]=symbolRadianHalf,sumRadian+=2*symbolRadianHalf});var halfRemainRadian=(2*circularLayoutHelper_PI-sumRadian)/count/2,angle=0;graph.eachNode(function(node){var radianHalf=halfRemainRadian+_symbolRadiansHalf[node.dataIndex];angle+=radianHalf,(!node.getLayout()||!node.getLayout().fixed)&&node.setLayout([r*Math.cos(angle)+cx,r*Math.sin(angle)+cy]),angle+=radianHalf})}};function rotateNodeLabel(node,circularRotateLabel,cx,cy){var el=node.getGraphicEl();if(el){var labelRotate=node.getModel().get(["label","rotate"])||0,symbolPath=el.getSymbolPath();if(circularRotateLabel){var pos=node.getLayout(),rad=Math.atan2(pos[1]-cy,pos[0]-cx);rad<0&&(rad=2*Math.PI+rad);var isLeft=pos[0]<cx;isLeft&&(rad-=Math.PI);var textPosition=isLeft?"left":"right";symbolPath.setTextConfig({rotation:-rad,position:textPosition,origin:"center"});var emphasisState=symbolPath.ensureState("emphasis");util.extend(emphasisState.textConfig||(emphasisState.textConfig={}),{position:textPosition})}else symbolPath.setTextConfig({rotation:labelRotate*=Math.PI/180})}}function graphCircularLayout(ecModel){ecModel.eachSeriesByType("graph",function(seriesModel){"circular"===seriesModel.get("layout")&&circularLayout(seriesModel,"symbolSize")})}var scaleAndAdd=vector.scaleAndAdd;function graphForceLayout(ecModel){ecModel.eachSeriesByType("graph",function(graphSeries){var coordSys=graphSeries.coordinateSystem;if(!coordSys||"view"===coordSys.type)if("force"===graphSeries.get("layout")){var preservedPoints_1=graphSeries.preservedPoints||{},graph_1=graphSeries.getGraph(),nodeData_1=graph_1.data,edgeData=graph_1.edgeData,forceModel=graphSeries.getModel("force"),initLayout=forceModel.get("initLayout");graphSeries.preservedPoints?nodeData_1.each(function(idx){var id=nodeData_1.getId(idx);nodeData_1.setItemLayout(idx,preservedPoints_1[id]||[NaN,NaN])}):initLayout&&"none"!==initLayout?"circular"===initLayout&&circularLayout(graphSeries,"value"):simpleLayout(graphSeries);var nodeDataExtent_1=nodeData_1.getDataExtent("value"),edgeDataExtent_1=edgeData.getDataExtent("value"),repulsion=forceModel.get("repulsion"),edgeLength=forceModel.get("edgeLength"),repulsionArr_1=util.isArray(repulsion)?repulsion:[repulsion,repulsion],edgeLengthArr_1=util.isArray(edgeLength)?edgeLength:[edgeLength,edgeLength];edgeLengthArr_1=[edgeLengthArr_1[1],edgeLengthArr_1[0]];var nodes_1=nodeData_1.mapArray("value",function(value,idx){var point=nodeData_1.getItemLayout(idx),rep=(0,number.Cb)(value,nodeDataExtent_1,repulsionArr_1);return isNaN(rep)&&(rep=(repulsionArr_1[0]+repulsionArr_1[1])/2),{w:rep,rep,fixed:nodeData_1.getItemModel(idx).get("fixed"),p:!point||isNaN(point[0])||isNaN(point[1])?null:point}}),edges=edgeData.mapArray("value",function(value,idx){var edge=graph_1.getEdgeByIndex(idx),d=(0,number.Cb)(value,edgeDataExtent_1,edgeLengthArr_1);isNaN(d)&&(d=(edgeLengthArr_1[0]+edgeLengthArr_1[1])/2);var edgeModel=edge.getModel(),curveness=util.retrieve3(edge.getModel().get(["lineStyle","curveness"]),-getCurvenessForEdge(edge,graphSeries,idx,!0),0);return{n1:nodes_1[edge.node1.dataIndex],n2:nodes_1[edge.node2.dataIndex],d,curveness,ignoreForceLayout:edgeModel.get("ignoreForceLayout")}}),rect=coordSys.getBoundingRect(),forceInstance=function forceLayout(inNodes,inEdges,opts){for(var nodes=inNodes,edges=inEdges,rect=opts.rect,width=rect.width,height=rect.height,center=[rect.x+width/2,rect.y+height/2],gravity=null==opts.gravity?.1:opts.gravity,i=0;i<nodes.length;i++){var n=nodes[i];n.p||(n.p=vector.create(width*(Math.random()-.5)+center[0],height*(Math.random()-.5)+center[1])),n.pp=vector.clone(n.p),n.edges=null}var beforeStepCallback,afterStepCallback,initialFriction=null==opts.friction?.6:opts.friction,friction=initialFriction;return{warmUp:function(){friction=.8*initialFriction},setFixed:function(idx){nodes[idx].fixed=!0},setUnfixed:function(idx){nodes[idx].fixed=!1},beforeStep:function(cb){beforeStepCallback=cb},afterStep:function(cb){afterStepCallback=cb},step:function(cb){beforeStepCallback&&beforeStepCallback(nodes,edges);for(var v12=[],nLen=nodes.length,i=0;i<edges.length;i++){var e=edges[i];if(!e.ignoreForceLayout){var n1=e.n1,n2=e.n2;vector.sub(v12,n2.p,n1.p);var d=vector.len(v12)-e.d,w=n2.w/(n1.w+n2.w);isNaN(w)&&(w=0),vector.normalize(v12,v12),!n1.fixed&&scaleAndAdd(n1.p,n1.p,v12,w*d*friction),!n2.fixed&&scaleAndAdd(n2.p,n2.p,v12,-(1-w)*d*friction)}}for(i=0;i<nLen;i++)(n=nodes[i]).fixed||(vector.sub(v12,center,n.p),scaleAndAdd(n.p,n.p,v12,gravity*friction));for(i=0;i<nLen;i++){n1=nodes[i];for(var j=i+1;j<nLen;j++){n2=nodes[j],vector.sub(v12,n2.p,n1.p),0===(d=vector.len(v12))&&(vector.set(v12,Math.random()-.5,Math.random()-.5),d=1);var repFact=(n1.rep+n2.rep)/d/d;!n1.fixed&&scaleAndAdd(n1.pp,n1.pp,v12,repFact),!n2.fixed&&scaleAndAdd(n2.pp,n2.pp,v12,-repFact)}}var v=[];for(i=0;i<nLen;i++){var n;(n=nodes[i]).fixed||(vector.sub(v,n.p,n.pp),scaleAndAdd(n.p,n.p,v,friction),vector.copy(n.pp,n.p))}var finished=(friction*=.992)<.01;afterStepCallback&&afterStepCallback(nodes,edges,finished),cb&&cb(finished)}}}(nodes_1,edges,{rect,gravity:forceModel.get("gravity"),friction:forceModel.get("friction")});forceInstance.beforeStep(function(nodes,edges){for(var i=0,l=nodes.length;i<l;i++)nodes[i].fixed&&vector.copy(nodes[i].p,graph_1.getNodeByIndex(i).getLayout())}),forceInstance.afterStep(function(nodes,edges,stopped){for(var i=0,l=nodes.length;i<l;i++)nodes[i].fixed||graph_1.getNodeByIndex(i).setLayout(nodes[i].p),preservedPoints_1[nodeData_1.getId(i)]=nodes[i].p;for(i=0,l=edges.length;i<l;i++){var e=edges[i],edge=graph_1.getEdgeByIndex(i),p1=e.n1.p,p2=e.n2.p,points=edge.getLayout();(points=points?points.slice():[])[0]=points[0]||[],points[1]=points[1]||[],vector.copy(points[0],p1),vector.copy(points[1],p2),+e.curveness&&(points[2]=[(p1[0]+p2[0])/2-(p1[1]-p2[1])*e.curveness,(p1[1]+p2[1])/2-(p2[0]-p1[0])*e.curveness]),edge.setLayout(points)}}),graphSeries.forceLayout=forceInstance,graphSeries.preservedPoints=preservedPoints_1,forceInstance.step()}else graphSeries.forceLayout=null})}function createViewCoordSys(ecModel,api){var viewList=[];return ecModel.eachSeriesByType("graph",function(seriesModel){var coordSysType=seriesModel.get("coordinateSystem");if(!coordSysType||"view"===coordSysType){var data_1=seriesModel.getData(),positions=data_1.mapArray(function(idx){var itemModel=data_1.getItemModel(idx);return[+itemModel.get("x"),+itemModel.get("y")]}),min=[],max=[];bbox.Cr(positions,min,max),max[0]-min[0]===0&&(max[0]+=1,min[0]-=1),max[1]-min[1]===0&&(max[1]+=1,min[1]-=1);var aspect=(max[0]-min[0])/(max[1]-min[1]),viewRect=function createView_getViewRect(seriesModel,api,aspect){var option=(0,util.extend)(seriesModel.getBoxLayoutParams(),{aspect});return(0,layout.dV)(option,{width:api.getWidth(),height:api.getHeight()})}(seriesModel,api,aspect);isNaN(aspect)&&(min=[viewRect.x,viewRect.y],max=[viewRect.x+viewRect.width,viewRect.y+viewRect.height]);var bbWidth=max[0]-min[0],bbHeight=max[1]-min[1],viewWidth=viewRect.width,viewHeight=viewRect.height,viewCoordSys=seriesModel.coordinateSystem=new coord_View;viewCoordSys.zoomLimit=seriesModel.get("scaleLimit"),viewCoordSys.setBoundingRect(min[0],min[1],bbWidth,bbHeight),viewCoordSys.setViewRect(viewRect.x,viewRect.y,viewWidth,viewHeight),viewCoordSys.setCenter(seriesModel.get("center"),api),viewCoordSys.setZoom(seriesModel.get("zoom")),viewList.push(viewCoordSys)}}),viewList}var SymbolDraw=__webpack_require__("./node_modules/echarts/lib/chart/helper/SymbolDraw.js"),straightLineProto=Line.A.prototype,bezierCurveProto=BezierCurve.A.prototype,StraightLineShape=function StraightLineShape(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1};!function(_super){function CurveShape(){return null!==_super&&_super.apply(this,arguments)||this}(0,tslib_es6.C6)(CurveShape,_super)}(StraightLineShape);function isStraightLine(shape){return isNaN(+shape.cpx1)||isNaN(+shape.cpy1)}const LinePath=function(_super){function ECLinePath(opts){var _this=_super.call(this,opts)||this;return _this.type="ec-line",_this}return(0,tslib_es6.C6)(ECLinePath,_super),ECLinePath.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},ECLinePath.prototype.getDefaultShape=function(){return new StraightLineShape},ECLinePath.prototype.buildPath=function(ctx,shape){isStraightLine(shape)?straightLineProto.buildPath.call(this,ctx,shape):bezierCurveProto.buildPath.call(this,ctx,shape)},ECLinePath.prototype.pointAt=function(t){return isStraightLine(this.shape)?straightLineProto.pointAt.call(this,t):bezierCurveProto.pointAt.call(this,t)},ECLinePath.prototype.tangentAt=function(t){var shape=this.shape,p=isStraightLine(shape)?[shape.x2-shape.x1,shape.y2-shape.y1]:bezierCurveProto.tangentAt.call(this,t);return vector.normalize(p,p)},ECLinePath}(Path.Ay);var SYMBOL_CATEGORIES=["fromSymbol","toSymbol"];function makeSymbolTypeKey(symbolCategory){return"_"+symbolCategory+"Type"}function makeSymbolTypeValue(name,lineData,idx){var symbolType=lineData.getItemVisual(idx,name);if(!symbolType||"none"===symbolType)return symbolType;var symbolSize=lineData.getItemVisual(idx,name+"Size"),symbolRotate=lineData.getItemVisual(idx,name+"Rotate"),symbolOffset=lineData.getItemVisual(idx,name+"Offset"),symbolKeepAspect=lineData.getItemVisual(idx,name+"KeepAspect"),symbolSizeArr=util_symbol.xU(symbolSize);return symbolType+symbolSizeArr+util_symbol.hV(symbolOffset||0,symbolSizeArr)+(symbolRotate||"")+(symbolKeepAspect||"")}function createSymbol(name,lineData,idx){var symbolType=lineData.getItemVisual(idx,name);if(symbolType&&"none"!==symbolType){var symbolSize=lineData.getItemVisual(idx,name+"Size"),symbolRotate=lineData.getItemVisual(idx,name+"Rotate"),symbolOffset=lineData.getItemVisual(idx,name+"Offset"),symbolKeepAspect=lineData.getItemVisual(idx,name+"KeepAspect"),symbolSizeArr=util_symbol.xU(symbolSize),symbolOffsetArr=util_symbol.hV(symbolOffset||0,symbolSizeArr),symbolPath=util_symbol.v5(symbolType,-symbolSizeArr[0]/2+symbolOffsetArr[0],-symbolSizeArr[1]/2+symbolOffsetArr[1],symbolSizeArr[0],symbolSizeArr[1],null,symbolKeepAspect);return symbolPath.__specifiedRotation=null==symbolRotate||isNaN(symbolRotate)?void 0:+symbolRotate*Math.PI/180||0,symbolPath.name=name,symbolPath}}function setLinePoints(targetShape,points){targetShape.x1=points[0][0],targetShape.y1=points[0][1],targetShape.x2=points[1][0],targetShape.y2=points[1][1],targetShape.percent=1;var cp1=points[2];cp1?(targetShape.cpx1=cp1[0],targetShape.cpy1=cp1[1]):(targetShape.cpx1=NaN,targetShape.cpy1=NaN)}var Line_Line=function(_super){function Line(lineData,idx,seriesScope){var _this=_super.call(this)||this;return _this._createLine(lineData,idx,seriesScope),_this}return(0,tslib_es6.C6)(Line,_super),Line.prototype._createLine=function(lineData,idx,seriesScope){var seriesModel=lineData.hostModel,line=function createLine(points){var line=new LinePath({name:"line",subPixelOptimize:!0});return setLinePoints(line.shape,points),line}(lineData.getItemLayout(idx));line.shape.percent=0,basicTransition.LW(line,{shape:{percent:1}},seriesModel,idx),this.add(line),(0,util.each)(SYMBOL_CATEGORIES,function(symbolCategory){var symbol=createSymbol(symbolCategory,lineData,idx);this.add(symbol),this[makeSymbolTypeKey(symbolCategory)]=makeSymbolTypeValue(symbolCategory,lineData,idx)},this),this._updateCommonStl(lineData,idx,seriesScope)},Line.prototype.updateData=function(lineData,idx,seriesScope){var seriesModel=lineData.hostModel,line=this.childOfName("line"),linePoints=lineData.getItemLayout(idx),target={shape:{}};setLinePoints(target.shape,linePoints),basicTransition.oi(line,target,seriesModel,idx),(0,util.each)(SYMBOL_CATEGORIES,function(symbolCategory){var symbolType=makeSymbolTypeValue(symbolCategory,lineData,idx),key=makeSymbolTypeKey(symbolCategory);if(this[key]!==symbolType){this.remove(this.childOfName(symbolCategory));var symbol=createSymbol(symbolCategory,lineData,idx);this.add(symbol)}this[key]=symbolType},this),this._updateCommonStl(lineData,idx,seriesScope)},Line.prototype.getLinePath=function(){return this.childAt(0)},Line.prototype._updateCommonStl=function(lineData,idx,seriesScope){var seriesModel=lineData.hostModel,line=this.childOfName("line"),emphasisLineStyle=seriesScope&&seriesScope.emphasisLineStyle,blurLineStyle=seriesScope&&seriesScope.blurLineStyle,selectLineStyle=seriesScope&&seriesScope.selectLineStyle,labelStatesModels=seriesScope&&seriesScope.labelStatesModels,emphasisDisabled=seriesScope&&seriesScope.emphasisDisabled,focus=seriesScope&&seriesScope.focus,blurScope=seriesScope&&seriesScope.blurScope;if(!seriesScope||lineData.hasItemOption){var itemModel=lineData.getItemModel(idx),emphasisModel=itemModel.getModel("emphasis");emphasisLineStyle=emphasisModel.getModel("lineStyle").getLineStyle(),blurLineStyle=itemModel.getModel(["blur","lineStyle"]).getLineStyle(),selectLineStyle=itemModel.getModel(["select","lineStyle"]).getLineStyle(),emphasisDisabled=emphasisModel.get("disabled"),focus=emphasisModel.get("focus"),blurScope=emphasisModel.get("blurScope"),labelStatesModels=(0,labelStyle.lx)(itemModel)}var lineStyle=lineData.getItemVisual(idx,"style"),visualColor=lineStyle.stroke;line.useStyle(lineStyle),line.style.fill=null,line.style.strokeNoScale=!0,line.ensureState("emphasis").style=emphasisLineStyle,line.ensureState("blur").style=blurLineStyle,line.ensureState("select").style=selectLineStyle,(0,util.each)(SYMBOL_CATEGORIES,function(symbolCategory){var symbol=this.childOfName(symbolCategory);if(symbol){symbol.setColor(visualColor),symbol.style.opacity=lineStyle.opacity;for(var i=0;i<states.BV.length;i++){var stateName=states.BV[i],lineState=line.getState(stateName);if(lineState){var lineStateStyle=lineState.style||{},state=symbol.ensureState(stateName),stateStyle=state.style||(state.style={});null!=lineStateStyle.stroke&&(stateStyle[symbol.__isEmptyBrush?"stroke":"fill"]=lineStateStyle.stroke),null!=lineStateStyle.opacity&&(stateStyle.opacity=lineStateStyle.opacity)}}symbol.markRedraw()}},this);var rawVal=seriesModel.getRawValue(idx);(0,labelStyle.qM)(this,labelStatesModels,{labelDataIndex:idx,labelFetcher:{getFormattedLabel:function(dataIndex,stateName){return seriesModel.getFormattedLabel(dataIndex,stateName,lineData.dataType)}},inheritColor:visualColor||"#000",defaultOpacity:lineStyle.opacity,defaultText:(null==rawVal?lineData.getName(idx):isFinite(rawVal)?(0,number.LI)(rawVal):rawVal)+""});var label=this.getTextContent();if(label){var labelNormalModel=labelStatesModels.normal;label.__align=label.style.align,label.__verticalAlign=label.style.verticalAlign,label.__position=labelNormalModel.get("position")||"middle";var distance=labelNormalModel.get("distance");(0,util.isArray)(distance)||(distance=[distance,distance]),label.__labelDistance=distance}this.setTextConfig({position:null,local:!0,inside:!1}),(0,states.Lm)(this,focus,blurScope,emphasisDisabled)},Line.prototype.highlight=function(){(0,states.HY)(this)},Line.prototype.downplay=function(){(0,states.SD)(this)},Line.prototype.updateLayout=function(lineData,idx){this.setLinePoints(lineData.getItemLayout(idx))},Line.prototype.setLinePoints=function(points){var linePath=this.childOfName("line");setLinePoints(linePath.shape,points),linePath.dirty()},Line.prototype.beforeUpdate=function(){var symbolFrom=this.childOfName("fromSymbol"),symbolTo=this.childOfName("toSymbol"),label=this.getTextContent();if(symbolFrom||symbolTo||label&&!label.ignore){for(var invScale=1,parentNode=this.parent;parentNode;)parentNode.scaleX&&(invScale/=parentNode.scaleX),parentNode=parentNode.parent;var line=this.childOfName("line");if(this.__dirty||line.__dirty){var percent=line.shape.percent,fromPos=line.pointAt(0),toPos=line.pointAt(percent),d=vector.sub([],toPos,fromPos);if(vector.normalize(d,d),symbolFrom&&(symbolFrom.setPosition(fromPos),setSymbolRotation(symbolFrom,0),symbolFrom.scaleX=symbolFrom.scaleY=invScale*percent,symbolFrom.markRedraw()),symbolTo&&(symbolTo.setPosition(toPos),setSymbolRotation(symbolTo,1),symbolTo.scaleX=symbolTo.scaleY=invScale*percent,symbolTo.markRedraw()),label&&!label.ignore){label.x=label.y=0,label.originX=label.originY=0;var textAlign=void 0,textVerticalAlign=void 0,distance=label.__labelDistance,distanceX=distance[0]*invScale,distanceY=distance[1]*invScale,halfPercent=percent/2,tangent=line.tangentAt(halfPercent),n=[tangent[1],-tangent[0]],cp=line.pointAt(halfPercent);n[1]>0&&(n[0]=-n[0],n[1]=-n[1]);var dir=tangent[0]<0?-1:1;if("start"!==label.__position&&"end"!==label.__position){var rotation=-Math.atan2(tangent[1],tangent[0]);toPos[0]<fromPos[0]&&(rotation=Math.PI+rotation),label.rotation=rotation}var dy=void 0;switch(label.__position){case"insideStartTop":case"insideMiddleTop":case"insideEndTop":case"middle":dy=-distanceY,textVerticalAlign="bottom";break;case"insideStartBottom":case"insideMiddleBottom":case"insideEndBottom":dy=distanceY,textVerticalAlign="top";break;default:dy=0,textVerticalAlign="middle"}switch(label.__position){case"end":label.x=d[0]*distanceX+toPos[0],label.y=d[1]*distanceY+toPos[1],textAlign=d[0]>.8?"left":d[0]<-.8?"right":"center",textVerticalAlign=d[1]>.8?"top":d[1]<-.8?"bottom":"middle";break;case"start":label.x=-d[0]*distanceX+fromPos[0],label.y=-d[1]*distanceY+fromPos[1],textAlign=d[0]>.8?"right":d[0]<-.8?"left":"center",textVerticalAlign=d[1]>.8?"bottom":d[1]<-.8?"top":"middle";break;case"insideStartTop":case"insideStart":case"insideStartBottom":label.x=distanceX*dir+fromPos[0],label.y=fromPos[1]+dy,textAlign=tangent[0]<0?"right":"left",label.originX=-distanceX*dir,label.originY=-dy;break;case"insideMiddleTop":case"insideMiddle":case"insideMiddleBottom":case"middle":label.x=cp[0],label.y=cp[1]+dy,textAlign="center",label.originY=-dy;break;case"insideEndTop":case"insideEnd":case"insideEndBottom":label.x=-distanceX*dir+toPos[0],label.y=toPos[1]+dy,textAlign=tangent[0]>=0?"right":"left",label.originX=distanceX*dir,label.originY=-dy}label.scaleX=label.scaleY=invScale,label.setStyle({verticalAlign:label.__verticalAlign||textVerticalAlign,align:label.__align||textAlign})}}}function setSymbolRotation(symbol,percent){var specifiedRotation=symbol.__specifiedRotation;if(null==specifiedRotation){var tangent=line.tangentAt(percent);symbol.attr("rotation",(1===percent?-1:1)*Math.PI/2-Math.atan2(tangent[1],tangent[0]))}else symbol.attr("rotation",specifiedRotation)}},Line}(Group.A);const helper_Line=Line_Line;function makeSeriesScope(lineData){var hostModel=lineData.hostModel,emphasisModel=hostModel.getModel("emphasis");return{lineStyle:hostModel.getModel("lineStyle").getLineStyle(),emphasisLineStyle:emphasisModel.getModel(["lineStyle"]).getLineStyle(),blurLineStyle:hostModel.getModel(["blur","lineStyle"]).getLineStyle(),selectLineStyle:hostModel.getModel(["select","lineStyle"]).getLineStyle(),emphasisDisabled:emphasisModel.get("disabled"),blurScope:emphasisModel.get("blurScope"),focus:emphasisModel.get("focus"),labelStatesModels:(0,labelStyle.lx)(hostModel)}}function isPointNaN(pt){return isNaN(pt[0])||isNaN(pt[1])}function lineNeedsDraw(pts){return pts&&!isPointNaN(pts[0])&&!isPointNaN(pts[1])}const helper_LineDraw=function(){function LineDraw(LineCtor){this.group=new Group.A,this._LineCtor=LineCtor||helper_Line}return LineDraw.prototype.updateData=function(lineData){var _this=this;this._progressiveEls=null;var group=this.group,oldLineData=this._lineData;this._lineData=lineData,oldLineData||group.removeAll();var seriesScope=makeSeriesScope(lineData);lineData.diff(oldLineData).add(function(idx){_this._doAdd(lineData,idx,seriesScope)}).update(function(newIdx,oldIdx){_this._doUpdate(oldLineData,lineData,oldIdx,newIdx,seriesScope)}).remove(function(idx){group.remove(oldLineData.getItemGraphicEl(idx))}).execute()},LineDraw.prototype.updateLayout=function(){var lineData=this._lineData;lineData&&lineData.eachItemGraphicEl(function(el,idx){el.updateLayout(lineData,idx)},this)},LineDraw.prototype.incrementalPrepareUpdate=function(lineData){this._seriesScope=makeSeriesScope(lineData),this._lineData=null,this.group.removeAll()},LineDraw.prototype.incrementalUpdate=function(taskParams,lineData){function updateIncrementalAndHover(el){el.isGroup||function isEffectObject(el){return el.animators&&el.animators.length>0}(el)||(el.incremental=!0,el.ensureState("emphasis").hoverLayer=!0)}this._progressiveEls=[];for(var idx=taskParams.start;idx<taskParams.end;idx++){if(lineNeedsDraw(lineData.getItemLayout(idx))){var el=new this._LineCtor(lineData,idx,this._seriesScope);el.traverse(updateIncrementalAndHover),this.group.add(el),lineData.setItemGraphicEl(idx,el),this._progressiveEls.push(el)}}},LineDraw.prototype.remove=function(){this.group.removeAll()},LineDraw.prototype.eachRendered=function(cb){graphic.traverseElements(this._progressiveEls||this.group,cb)},LineDraw.prototype._doAdd=function(lineData,idx,seriesScope){if(lineNeedsDraw(lineData.getItemLayout(idx))){var el=new this._LineCtor(lineData,idx,seriesScope);lineData.setItemGraphicEl(idx,el),this.group.add(el)}},LineDraw.prototype._doUpdate=function(oldLineData,newLineData,oldIdx,newIdx,seriesScope){var itemEl=oldLineData.getItemGraphicEl(oldIdx);lineNeedsDraw(newLineData.getItemLayout(newIdx))?(itemEl?itemEl.updateData(newLineData,newIdx,seriesScope):itemEl=new this._LineCtor(newLineData,newIdx,seriesScope),newLineData.setItemGraphicEl(newIdx,itemEl),this.group.add(itemEl)):this.group.remove(itemEl)},LineDraw}();var curve=__webpack_require__("./node_modules/zrender/lib/core/curve.js"),v1=[],v2=[],v3=[],quadraticAt=curve.k3,v2DistSquare=vector.distSquare,mathAbs=Math.abs;function intersectCurveCircle(curvePoints,center,radius){for(var t,p0=curvePoints[0],p1=curvePoints[1],p2=curvePoints[2],d=1/0,radiusSquare=radius*radius,interval=.1,_t=.1;_t<=.9;_t+=.1){v1[0]=quadraticAt(p0[0],p1[0],p2[0],_t),v1[1]=quadraticAt(p0[1],p1[1],p2[1],_t),(diff=mathAbs(v2DistSquare(v1,center)-radiusSquare))<d&&(d=diff,t=_t)}for(var i=0;i<32;i++){var next=t+interval;v2[0]=quadraticAt(p0[0],p1[0],p2[0],t),v2[1]=quadraticAt(p0[1],p1[1],p2[1],t),v3[0]=quadraticAt(p0[0],p1[0],p2[0],next),v3[1]=quadraticAt(p0[1],p1[1],p2[1],next);var diff=v2DistSquare(v2,center)-radiusSquare;if(mathAbs(diff)<.01)break;var nextDiff=v2DistSquare(v3,center)-radiusSquare;interval/=2,diff<0?nextDiff>=0?t+=interval:t-=interval:nextDiff>=0?t-=interval:t+=interval}return t}function adjustEdge(graph,scale){var tmp0=[],quadraticSubdivide=curve.kx,pts=[[],[],[]],pts2=[[],[]],v=[];scale/=2,graph.eachEdge(function(edge,idx){var linePoints=edge.getLayout(),fromSymbol=edge.getVisual("fromSymbol"),toSymbol=edge.getVisual("toSymbol");linePoints.__original||(linePoints.__original=[vector.clone(linePoints[0]),vector.clone(linePoints[1])],linePoints[2]&&linePoints.__original.push(vector.clone(linePoints[2])));var originalPoints=linePoints.__original;if(null!=linePoints[2]){if(vector.copy(pts[0],originalPoints[0]),vector.copy(pts[1],originalPoints[2]),vector.copy(pts[2],originalPoints[1]),fromSymbol&&"none"!==fromSymbol){var symbolSize=getSymbolSize(edge.node1),t=intersectCurveCircle(pts,originalPoints[0],symbolSize*scale);quadraticSubdivide(pts[0][0],pts[1][0],pts[2][0],t,tmp0),pts[0][0]=tmp0[3],pts[1][0]=tmp0[4],quadraticSubdivide(pts[0][1],pts[1][1],pts[2][1],t,tmp0),pts[0][1]=tmp0[3],pts[1][1]=tmp0[4]}if(toSymbol&&"none"!==toSymbol){symbolSize=getSymbolSize(edge.node2),t=intersectCurveCircle(pts,originalPoints[1],symbolSize*scale);quadraticSubdivide(pts[0][0],pts[1][0],pts[2][0],t,tmp0),pts[1][0]=tmp0[1],pts[2][0]=tmp0[2],quadraticSubdivide(pts[0][1],pts[1][1],pts[2][1],t,tmp0),pts[1][1]=tmp0[1],pts[2][1]=tmp0[2]}vector.copy(linePoints[0],pts[0]),vector.copy(linePoints[1],pts[2]),vector.copy(linePoints[2],pts[1])}else{if(vector.copy(pts2[0],originalPoints[0]),vector.copy(pts2[1],originalPoints[1]),vector.sub(v,pts2[1],pts2[0]),vector.normalize(v,v),fromSymbol&&"none"!==fromSymbol){symbolSize=getSymbolSize(edge.node1);vector.scaleAndAdd(pts2[0],pts2[0],v,symbolSize*scale)}if(toSymbol&&"none"!==toSymbol){symbolSize=getSymbolSize(edge.node2);vector.scaleAndAdd(pts2[1],pts2[1],v,-symbolSize*scale)}vector.copy(linePoints[0],pts2[0]),vector.copy(linePoints[1],pts2[1])}})}function isViewCoordSys(coordSys){return"view"===coordSys.type}var GraphView=function(_super){function GraphView(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=GraphView.type,_this}return(0,tslib_es6.C6)(GraphView,_super),GraphView.prototype.init=function(ecModel,api){var symbolDraw=new SymbolDraw.A,lineDraw=new helper_LineDraw,group=this.group;this._controller=new RoamController.A(api.getZr()),this._controllerHost={target:group},group.add(symbolDraw.group),group.add(lineDraw.group),this._symbolDraw=symbolDraw,this._lineDraw=lineDraw,this._firstRender=!0},GraphView.prototype.render=function(seriesModel,ecModel,api){var _this=this,coordSys=seriesModel.coordinateSystem;this._model=seriesModel;var symbolDraw=this._symbolDraw,lineDraw=this._lineDraw,group=this.group;if(isViewCoordSys(coordSys)){var groupNewProp={x:coordSys.x,y:coordSys.y,scaleX:coordSys.scaleX,scaleY:coordSys.scaleY};this._firstRender?group.attr(groupNewProp):basicTransition.oi(group,groupNewProp,seriesModel)}adjustEdge(seriesModel.getGraph(),getNodeGlobalScale(seriesModel));var data=seriesModel.getData();symbolDraw.updateData(data);var edgeData=seriesModel.getEdgeData();lineDraw.updateData(edgeData),this._updateNodeAndLinkScale(),this._updateController(seriesModel,ecModel,api),clearTimeout(this._layoutTimeout);var forceLayout=seriesModel.forceLayout,layoutAnimation=seriesModel.get(["force","layoutAnimation"]);forceLayout&&this._startForceLayoutIteration(forceLayout,layoutAnimation);var layout=seriesModel.get("layout");data.graph.eachNode(function(node){var idx=node.dataIndex,el=node.getGraphicEl(),itemModel=node.getModel();if(el){el.off("drag").off("dragend");var draggable=itemModel.get("draggable");draggable&&el.on("drag",function(e){switch(layout){case"force":forceLayout.warmUp(),!_this._layouting&&_this._startForceLayoutIteration(forceLayout,layoutAnimation),forceLayout.setFixed(idx),data.setItemLayout(idx,[el.x,el.y]);break;case"circular":data.setItemLayout(idx,[el.x,el.y]),node.setLayout({fixed:!0},!0),circularLayout(seriesModel,"symbolSize",node,[e.offsetX,e.offsetY]),_this.updateLayout(seriesModel);break;default:data.setItemLayout(idx,[el.x,el.y]),simpleLayoutEdge(seriesModel.getGraph(),seriesModel),_this.updateLayout(seriesModel)}}).on("dragend",function(){forceLayout&&forceLayout.setUnfixed(idx)}),el.setDraggable(draggable,!!itemModel.get("cursor")),"adjacency"===itemModel.get(["emphasis","focus"])&&((0,innerStore.z)(el).focus=node.getAdjacentDataIndices())}}),data.graph.eachEdge(function(edge){var el=edge.getGraphicEl(),focus=edge.getModel().get(["emphasis","focus"]);el&&"adjacency"===focus&&((0,innerStore.z)(el).focus={edge:[edge.dataIndex],node:[edge.node1.dataIndex,edge.node2.dataIndex]})});var circularRotateLabel="circular"===seriesModel.get("layout")&&seriesModel.get(["circular","rotateLabel"]),cx=data.getLayout("cx"),cy=data.getLayout("cy");data.graph.eachNode(function(node){rotateNodeLabel(node,circularRotateLabel,cx,cy)}),this._firstRender=!1},GraphView.prototype.dispose=function(){this.remove(),this._controller&&this._controller.dispose(),this._controllerHost=null},GraphView.prototype._startForceLayoutIteration=function(forceLayout,layoutAnimation){var self=this;!function step(){forceLayout.step(function(stopped){self.updateLayout(self._model),(self._layouting=!stopped)&&(layoutAnimation?self._layoutTimeout=setTimeout(step,16):step())})}()},GraphView.prototype._updateController=function(seriesModel,ecModel,api){var _this=this,controller=this._controller,controllerHost=this._controllerHost,group=this.group;controller.setPointerChecker(function(e,x,y){var rect=group.getBoundingRect();return rect.applyTransform(group.transform),rect.contain(x,y)&&!onIrrelevantElement(e,api,seriesModel)}),isViewCoordSys(seriesModel.coordinateSystem)?(controller.enable(seriesModel.get("roam")),controllerHost.zoomLimit=seriesModel.get("scaleLimit"),controllerHost.zoom=seriesModel.coordinateSystem.getZoom(),controller.off("pan").off("zoom").on("pan",function(e){updateViewOnPan(controllerHost,e.dx,e.dy),api.dispatchAction({seriesId:seriesModel.id,type:"graphRoam",dx:e.dx,dy:e.dy})}).on("zoom",function(e){updateViewOnZoom(controllerHost,e.scale,e.originX,e.originY),api.dispatchAction({seriesId:seriesModel.id,type:"graphRoam",zoom:e.scale,originX:e.originX,originY:e.originY}),_this._updateNodeAndLinkScale(),adjustEdge(seriesModel.getGraph(),getNodeGlobalScale(seriesModel)),_this._lineDraw.updateLayout(),api.updateLabelLayout()})):controller.disable()},GraphView.prototype._updateNodeAndLinkScale=function(){var seriesModel=this._model,data=seriesModel.getData(),nodeScale=getNodeGlobalScale(seriesModel);data.eachItemGraphicEl(function(el,idx){el&&el.setSymbolScale(nodeScale)})},GraphView.prototype.updateLayout=function(seriesModel){adjustEdge(seriesModel.getGraph(),getNodeGlobalScale(seriesModel)),this._symbolDraw.updateLayout(),this._lineDraw.updateLayout()},GraphView.prototype.remove=function(){clearTimeout(this._layoutTimeout),this._layouting=!1,this._layoutTimeout=null,this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove()},GraphView.type="graph",GraphView}(Chart.A);const graph_GraphView=GraphView;function generateNodeKey(id){return"_EC_"+id}var Graph=function(){function Graph(directed){this.type="graph",this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this._directed=directed||!1}return Graph.prototype.isDirected=function(){return this._directed},Graph.prototype.addNode=function(id,dataIndex){id=null==id?""+dataIndex:""+id;var nodesMap=this._nodesMap;if(!nodesMap[generateNodeKey(id)]){var node=new GraphNode(id,dataIndex);return node.hostGraph=this,this.nodes.push(node),nodesMap[generateNodeKey(id)]=node,node}},Graph.prototype.getNodeByIndex=function(dataIndex){var rawIdx=this.data.getRawIndex(dataIndex);return this.nodes[rawIdx]},Graph.prototype.getNodeById=function(id){return this._nodesMap[generateNodeKey(id)]},Graph.prototype.addEdge=function(n1,n2,dataIndex){var nodesMap=this._nodesMap,edgesMap=this._edgesMap;if(util.isNumber(n1)&&(n1=this.nodes[n1]),util.isNumber(n2)&&(n2=this.nodes[n2]),n1 instanceof GraphNode||(n1=nodesMap[generateNodeKey(n1)]),n2 instanceof GraphNode||(n2=nodesMap[generateNodeKey(n2)]),n1&&n2){var key=n1.id+"-"+n2.id,edge=new GraphEdge(n1,n2,dataIndex);return edge.hostGraph=this,this._directed&&(n1.outEdges.push(edge),n2.inEdges.push(edge)),n1.edges.push(edge),n1!==n2&&n2.edges.push(edge),this.edges.push(edge),edgesMap[key]=edge,edge}},Graph.prototype.getEdgeByIndex=function(dataIndex){var rawIdx=this.edgeData.getRawIndex(dataIndex);return this.edges[rawIdx]},Graph.prototype.getEdge=function(n1,n2){n1 instanceof GraphNode&&(n1=n1.id),n2 instanceof GraphNode&&(n2=n2.id);var edgesMap=this._edgesMap;return this._directed?edgesMap[n1+"-"+n2]:edgesMap[n1+"-"+n2]||edgesMap[n2+"-"+n1]},Graph.prototype.eachNode=function(cb,context){for(var nodes=this.nodes,len=nodes.length,i=0;i<len;i++)nodes[i].dataIndex>=0&&cb.call(context,nodes[i],i)},Graph.prototype.eachEdge=function(cb,context){for(var edges=this.edges,len=edges.length,i=0;i<len;i++)edges[i].dataIndex>=0&&edges[i].node1.dataIndex>=0&&edges[i].node2.dataIndex>=0&&cb.call(context,edges[i],i)},Graph.prototype.breadthFirstTraverse=function(cb,startNode,direction,context){if(startNode instanceof GraphNode||(startNode=this._nodesMap[generateNodeKey(startNode)]),startNode){for(var edgeType="out"===direction?"outEdges":"in"===direction?"inEdges":"edges",i=0;i<this.nodes.length;i++)this.nodes[i].__visited=!1;if(!cb.call(context,startNode,null))for(var queue=[startNode];queue.length;){var currentNode=queue.shift(),edges=currentNode[edgeType];for(i=0;i<edges.length;i++){var e=edges[i],otherNode=e.node1===currentNode?e.node2:e.node1;if(!otherNode.__visited){if(cb.call(context,otherNode,currentNode))return;queue.push(otherNode),otherNode.__visited=!0}}}}},Graph.prototype.update=function(){for(var data=this.data,edgeData=this.edgeData,nodes=this.nodes,edges=this.edges,i=0,len=nodes.length;i<len;i++)nodes[i].dataIndex=-1;for(i=0,len=data.count();i<len;i++)nodes[data.getRawIndex(i)].dataIndex=i;edgeData.filterSelf(function(idx){var edge=edges[edgeData.getRawIndex(idx)];return edge.node1.dataIndex>=0&&edge.node2.dataIndex>=0});for(i=0,len=edges.length;i<len;i++)edges[i].dataIndex=-1;for(i=0,len=edgeData.count();i<len;i++)edges[edgeData.getRawIndex(i)].dataIndex=i},Graph.prototype.clone=function(){for(var graph=new Graph(this._directed),nodes=this.nodes,edges=this.edges,i=0;i<nodes.length;i++)graph.addNode(nodes[i].id,nodes[i].dataIndex);for(i=0;i<edges.length;i++){var e=edges[i];graph.addEdge(e.node1.id,e.node2.id,e.dataIndex)}return graph},Graph}(),GraphNode=function(){function GraphNode(id,dataIndex){this.inEdges=[],this.outEdges=[],this.edges=[],this.dataIndex=-1,this.id=null==id?"":id,this.dataIndex=null==dataIndex?-1:dataIndex}return GraphNode.prototype.degree=function(){return this.edges.length},GraphNode.prototype.inDegree=function(){return this.inEdges.length},GraphNode.prototype.outDegree=function(){return this.outEdges.length},GraphNode.prototype.getModel=function(path){if(!(this.dataIndex<0))return this.hostGraph.data.getItemModel(this.dataIndex).getModel(path)},GraphNode.prototype.getAdjacentDataIndices=function(){for(var dataIndices={edge:[],node:[]},i=0;i<this.edges.length;i++){var adjacentEdge=this.edges[i];adjacentEdge.dataIndex<0||(dataIndices.edge.push(adjacentEdge.dataIndex),dataIndices.node.push(adjacentEdge.node1.dataIndex,adjacentEdge.node2.dataIndex))}return dataIndices},GraphNode.prototype.getTrajectoryDataIndices=function(){for(var connectedEdgesMap=util.createHashMap(),connectedNodesMap=util.createHashMap(),i=0;i<this.edges.length;i++){var adjacentEdge=this.edges[i];if(!(adjacentEdge.dataIndex<0)){connectedEdgesMap.set(adjacentEdge.dataIndex,!0);for(var sourceNodesQueue=[adjacentEdge.node1],targetNodesQueue=[adjacentEdge.node2],nodeIteratorIndex=0;nodeIteratorIndex<sourceNodesQueue.length;){var sourceNode=sourceNodesQueue[nodeIteratorIndex];nodeIteratorIndex++,connectedNodesMap.set(sourceNode.dataIndex,!0);for(var j=0;j<sourceNode.inEdges.length;j++)connectedEdgesMap.set(sourceNode.inEdges[j].dataIndex,!0),sourceNodesQueue.push(sourceNode.inEdges[j].node1)}for(nodeIteratorIndex=0;nodeIteratorIndex<targetNodesQueue.length;){var targetNode=targetNodesQueue[nodeIteratorIndex];nodeIteratorIndex++,connectedNodesMap.set(targetNode.dataIndex,!0);for(j=0;j<targetNode.outEdges.length;j++)connectedEdgesMap.set(targetNode.outEdges[j].dataIndex,!0),targetNodesQueue.push(targetNode.outEdges[j].node2)}}}return{edge:connectedEdgesMap.keys(),node:connectedNodesMap.keys()}},GraphNode}(),GraphEdge=function(){function GraphEdge(n1,n2,dataIndex){this.dataIndex=-1,this.node1=n1,this.node2=n2,this.dataIndex=null==dataIndex?-1:dataIndex}return GraphEdge.prototype.getModel=function(path){if(!(this.dataIndex<0))return this.hostGraph.edgeData.getItemModel(this.dataIndex).getModel(path)},GraphEdge.prototype.getAdjacentDataIndices=function(){return{edge:[this.dataIndex],node:[this.node1.dataIndex,this.node2.dataIndex]}},GraphEdge.prototype.getTrajectoryDataIndices=function(){var connectedEdgesMap=util.createHashMap(),connectedNodesMap=util.createHashMap();connectedEdgesMap.set(this.dataIndex,!0);for(var sourceNodes=[this.node1],targetNodes=[this.node2],nodeIteratorIndex=0;nodeIteratorIndex<sourceNodes.length;){var sourceNode=sourceNodes[nodeIteratorIndex];nodeIteratorIndex++,connectedNodesMap.set(sourceNode.dataIndex,!0);for(var j=0;j<sourceNode.inEdges.length;j++)connectedEdgesMap.set(sourceNode.inEdges[j].dataIndex,!0),sourceNodes.push(sourceNode.inEdges[j].node1)}for(nodeIteratorIndex=0;nodeIteratorIndex<targetNodes.length;){var targetNode=targetNodes[nodeIteratorIndex];nodeIteratorIndex++,connectedNodesMap.set(targetNode.dataIndex,!0);for(j=0;j<targetNode.outEdges.length;j++)connectedEdgesMap.set(targetNode.outEdges[j].dataIndex,!0),targetNodes.push(targetNode.outEdges[j].node2)}return{edge:connectedEdgesMap.keys(),node:connectedNodesMap.keys()}},GraphEdge}();function createGraphDataProxyMixin(hostName,dataName){return{getValue:function(dimension){var data=this[hostName][dataName];return data.getStore().get(data.getDimensionIndex(dimension||"value"),this.dataIndex)},setVisual:function(key,value){this.dataIndex>=0&&this[hostName][dataName].setItemVisual(this.dataIndex,key,value)},getVisual:function(key){return this[hostName][dataName].getItemVisual(this.dataIndex,key)},setLayout:function(layout,merge){this.dataIndex>=0&&this[hostName][dataName].setItemLayout(this.dataIndex,layout,merge)},getLayout:function(){return this[hostName][dataName].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[hostName][dataName].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[hostName][dataName].getRawIndex(this.dataIndex)}}}util.mixin(GraphNode,createGraphDataProxyMixin("hostGraph","data")),util.mixin(GraphEdge,createGraphDataProxyMixin("hostGraph","edgeData"));const data_Graph=Graph;var CoordinateSystem=__webpack_require__("./node_modules/echarts/lib/core/CoordinateSystem.js"),createSeriesData=__webpack_require__("./node_modules/echarts/lib/chart/helper/createSeriesData.js");function createGraphFromNodeEdge(nodes,edges,seriesModel,directed,beforeLink){for(var graph=new data_Graph(directed),i=0;i<nodes.length;i++)graph.addNode(util.retrieve(nodes[i].id,nodes[i].name,i),i);var linkNameList=[],validEdges=[],linkCount=0;for(i=0;i<edges.length;i++){var link=edges[i],source=link.source,target=link.target;graph.addEdge(source,target,linkCount)&&(validEdges.push(link),linkNameList.push(util.retrieve((0,util_model.vS)(link.id,null),source+" > "+target)),linkCount++)}var nodeData,coordSys=seriesModel.get("coordinateSystem");if("cartesian2d"===coordSys||"polar"===coordSys)nodeData=(0,createSeriesData.A)(nodes,seriesModel);else{var coordSysCtor=CoordinateSystem.A.get(coordSys),coordDimensions=coordSysCtor&&coordSysCtor.dimensions||[];util.indexOf(coordDimensions,"value")<0&&coordDimensions.concat(["value"]);var dimensions=(0,createDimensions.A)(nodes,{coordDimensions,encodeDefine:seriesModel.getEncode()}).dimensions;(nodeData=new SeriesData.A(dimensions,seriesModel)).initData(nodes)}var edgeData=new SeriesData.A(["value"],seriesModel);return edgeData.initData(validEdges,linkNameList),beforeLink&&beforeLink(nodeData,edgeData),helper_linkSeriesData({mainData:nodeData,struct:graph,structAttr:"graph",datas:{node:nodeData,edge:edgeData},datasAttr:{node:"data",edge:"edgeData"}}),graph.update(),graph}var LegendVisualProvider=__webpack_require__("./node_modules/echarts/lib/visual/LegendVisualProvider.js"),seriesFormatTooltip=__webpack_require__("./node_modules/echarts/lib/component/tooltip/seriesFormatTooltip.js"),GraphSeriesModel=function(_super){function GraphSeriesModel(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=GraphSeriesModel.type,_this.hasSymbolVisual=!0,_this}return(0,tslib_es6.C6)(GraphSeriesModel,_super),GraphSeriesModel.prototype.init=function(option){_super.prototype.init.apply(this,arguments);var self=this;function getCategoriesData(){return self._categoriesData}this.legendVisualProvider=new LegendVisualProvider.A(getCategoriesData,getCategoriesData),this.fillDataTextStyle(option.edges||option.links),this._updateCategoriesData()},GraphSeriesModel.prototype.mergeOption=function(option){_super.prototype.mergeOption.apply(this,arguments),this.fillDataTextStyle(option.edges||option.links),this._updateCategoriesData()},GraphSeriesModel.prototype.mergeDefaultAndTheme=function(option){_super.prototype.mergeDefaultAndTheme.apply(this,arguments),(0,util_model.M5)(option,"edgeLabel",["show"])},GraphSeriesModel.prototype.getInitialData=function(option,ecModel){var edges=option.edges||option.links||[],nodes=option.data||option.nodes||[],self=this;if(nodes&&edges){!function initCurvenessList(seriesModel){getAutoCurvenessParams(seriesModel)&&(seriesModel.__curvenessList=[],seriesModel.__edgeMap={},createCurveness(seriesModel))}(this);var graph=createGraphFromNodeEdge(nodes,edges,this,!0,function beforeLink(nodeData,edgeData){nodeData.wrapMethod("getItemModel",function(model){var categoryModel=self._categoriesModels[model.getShallow("category")];return categoryModel&&(categoryModel.parentModel=model.parentModel,model.parentModel=categoryModel),model});var oldGetModel=Model.A.prototype.getModel;function newGetModel(path,parentModel){var model=oldGetModel.call(this,path,parentModel);return model.resolveParentPath=resolveParentPath,model}function resolveParentPath(pathArr){if(pathArr&&("label"===pathArr[0]||"label"===pathArr[1])){var newPathArr=pathArr.slice();return"label"===pathArr[0]?newPathArr[0]="edgeLabel":"label"===pathArr[1]&&(newPathArr[1]="edgeLabel"),newPathArr}return pathArr}edgeData.wrapMethod("getItemModel",function(model){return model.resolveParentPath=resolveParentPath,model.getModel=newGetModel,model})});return util.each(graph.edges,function(edge){!function createEdgeMapForCurveness(n1,n2,seriesModel,index){if(getAutoCurvenessParams(seriesModel)){var key=getKeyOfEdges(n1,n2,seriesModel),edgeMap=seriesModel.__edgeMap,oppositeEdges=edgeMap[getOppositeKey(key)];edgeMap[key]&&!oppositeEdges?edgeMap[key].isForward=!0:oppositeEdges&&edgeMap[key]&&(oppositeEdges.isForward=!0,edgeMap[key].isForward=!1),edgeMap[key]=edgeMap[key]||[],edgeMap[key].push(index)}}(edge.node1,edge.node2,this,edge.dataIndex)},this),graph.data}},GraphSeriesModel.prototype.getGraph=function(){return this.getData().graph},GraphSeriesModel.prototype.getEdgeData=function(){return this.getGraph().edgeData},GraphSeriesModel.prototype.getCategoriesData=function(){return this._categoriesData},GraphSeriesModel.prototype.formatTooltip=function(dataIndex,multipleSeries,dataType){if("edge"===dataType){var nodeData=this.getData(),params=this.getDataParams(dataIndex,dataType),edge=nodeData.graph.getEdgeByIndex(dataIndex),sourceName=nodeData.getName(edge.node1.dataIndex),targetName=nodeData.getName(edge.node2.dataIndex),nameArr=[];return null!=sourceName&&nameArr.push(sourceName),null!=targetName&&nameArr.push(targetName),(0,tooltipMarkup.Qx)("nameValue",{name:nameArr.join(" > "),value:params.value,noValue:null==params.value})}return(0,seriesFormatTooltip.J)({series:this,dataIndex,multipleSeries})},GraphSeriesModel.prototype._updateCategoriesData=function(){var categories=util.map(this.option.categories||[],function(category){return null!=category.value?category:util.extend({value:0},category)}),categoriesData=new SeriesData.A(["value"],this);categoriesData.initData(categories),this._categoriesData=categoriesData,this._categoriesModels=categoriesData.mapArray(function(idx){return categoriesData.getItemModel(idx)})},GraphSeriesModel.prototype.setZoom=function(zoom){this.option.zoom=zoom},GraphSeriesModel.prototype.setCenter=function(center){this.option.center=center},GraphSeriesModel.prototype.isAnimationEnabled=function(){return _super.prototype.isAnimationEnabled.call(this)&&!("force"===this.get("layout")&&this.get(["force","layoutAnimation"]))},GraphSeriesModel.type="series.graph",GraphSeriesModel.dependencies=["grid","polar","geo","singleAxis","calendar"],GraphSeriesModel.defaultOption={z:2,coordinateSystem:"view",legendHoverLink:!0,layout:null,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:.1,friction:.6,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{position:"middle",distance:5},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{show:!1,formatter:"{b}"},itemStyle:{},lineStyle:{color:"#aaa",width:1,opacity:.5},emphasis:{scale:!0,label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},GraphSeriesModel}(Series.A);const GraphSeries=GraphSeriesModel;var actionInfo={type:"graphRoam",event:"graphRoam",update:"none"};var gauge_install=__webpack_require__("./node_modules/echarts/lib/chart/gauge/install.js"),Point=__webpack_require__("./node_modules/zrender/lib/core/Point.js"),labelGuideHelper=__webpack_require__("./node_modules/echarts/lib/label/labelGuideHelper.js"),opacityAccessPath=["itemStyle","opacity"],FunnelPiece=function(_super){function FunnelPiece(data,idx){var _this=_super.call(this)||this,polygon=_this,labelLine=new shape_Polyline.A,text=new Text.Ay;return polygon.setTextContent(text),_this.setTextGuideLine(labelLine),_this.updateData(data,idx,!0),_this}return(0,tslib_es6.C6)(FunnelPiece,_super),FunnelPiece.prototype.updateData=function(data,idx,firstCreate){var seriesModel=data.hostModel,itemModel=data.getItemModel(idx),layout=data.getItemLayout(idx),emphasisModel=itemModel.getModel("emphasis"),opacity=itemModel.get(opacityAccessPath);opacity=null==opacity?1:opacity,firstCreate||(0,basicTransition.ap)(this),this.useStyle(data.getItemVisual(idx,"style")),this.style.lineJoin="round",firstCreate?(this.setShape({points:layout.points}),this.style.opacity=0,basicTransition.LW(this,{style:{opacity}},seriesModel,idx)):basicTransition.oi(this,{style:{opacity},shape:{points:layout.points}},seriesModel,idx),(0,states.Mx)(this,itemModel),this._updateLabel(data,idx),(0,states.Lm)(this,emphasisModel.get("focus"),emphasisModel.get("blurScope"),emphasisModel.get("disabled"))},FunnelPiece.prototype._updateLabel=function(data,idx){var labelLine=this.getTextGuideLine(),labelText=this.getTextContent(),seriesModel=data.hostModel,itemModel=data.getItemModel(idx),labelLayout=data.getItemLayout(idx).label,style=data.getItemVisual(idx,"style"),visualColor=style.fill;(0,labelStyle.qM)(labelText,(0,labelStyle.lx)(itemModel),{labelFetcher:data.hostModel,labelDataIndex:idx,defaultOpacity:style.opacity,defaultText:data.getName(idx)},{normal:{align:labelLayout.textAlign,verticalAlign:labelLayout.verticalAlign}}),this.setTextConfig({local:!0,inside:!!labelLayout.inside,insideStroke:visualColor,outsideFill:visualColor});var linePoints=labelLayout.linePoints;labelLine.setShape({points:linePoints}),this.textGuideLineConfig={anchor:linePoints?new Point.A(linePoints[0][0],linePoints[0][1]):null},basicTransition.oi(labelText,{style:{x:labelLayout.x,y:labelLayout.y}},seriesModel,idx),labelText.attr({rotation:labelLayout.rotation,originX:labelLayout.x,originY:labelLayout.y,z2:10}),(0,labelGuideHelper.eR)(this,(0,labelGuideHelper.rv)(itemModel),{stroke:visualColor})},FunnelPiece}(Polygon.A),FunnelView=function(_super){function FunnelView(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=FunnelView.type,_this.ignoreLabelLineUpdate=!0,_this}return(0,tslib_es6.C6)(FunnelView,_super),FunnelView.prototype.render=function(seriesModel,ecModel,api){var data=seriesModel.getData(),oldData=this._data,group=this.group;data.diff(oldData).add(function(idx){var funnelPiece=new FunnelPiece(data,idx);data.setItemGraphicEl(idx,funnelPiece),group.add(funnelPiece)}).update(function(newIdx,oldIdx){var piece=oldData.getItemGraphicEl(oldIdx);piece.updateData(data,newIdx),group.add(piece),data.setItemGraphicEl(newIdx,piece)}).remove(function(idx){var piece=oldData.getItemGraphicEl(idx);basicTransition.t5(piece,seriesModel,idx)}).execute(),this._data=data},FunnelView.prototype.remove=function(){this.group.removeAll(),this._data=null},FunnelView.prototype.dispose=function(){},FunnelView.type="funnel",FunnelView}(Chart.A);const funnel_FunnelView=FunnelView;var FunnelSeriesModel=function(_super){function FunnelSeriesModel(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=FunnelSeriesModel.type,_this}return(0,tslib_es6.C6)(FunnelSeriesModel,_super),FunnelSeriesModel.prototype.init=function(option){_super.prototype.init.apply(this,arguments),this.legendVisualProvider=new LegendVisualProvider.A(util.bind(this.getData,this),util.bind(this.getRawData,this)),this._defaultLabelLine(option)},FunnelSeriesModel.prototype.getInitialData=function(option,ecModel){return(0,createSeriesDataSimply.A)(this,{coordDimensions:["value"],encodeDefaulter:util.curry(sourceHelper.ln,this)})},FunnelSeriesModel.prototype._defaultLabelLine=function(option){(0,util_model.M5)(option,"labelLine",["show"]);var labelLineNormalOpt=option.labelLine,labelLineEmphasisOpt=option.emphasis.labelLine;labelLineNormalOpt.show=labelLineNormalOpt.show&&option.label.show,labelLineEmphasisOpt.show=labelLineEmphasisOpt.show&&option.emphasis.label.show},FunnelSeriesModel.prototype.getDataParams=function(dataIndex){var data=this.getData(),params=_super.prototype.getDataParams.call(this,dataIndex),valueDim=data.mapDimension("value"),sum=data.getSum(valueDim);return params.percent=sum?+(data.get(valueDim,dataIndex)/sum*100).toFixed(2):0,params.$vars.push("percent"),params},FunnelSeriesModel.type="series.funnel",FunnelSeriesModel.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",left:80,top:60,right:80,bottom:60,minSize:"0%",maxSize:"100%",sort:"descending",orient:"vertical",gap:0,funnelAlign:"center",label:{show:!0,position:"outer"},labelLine:{show:!0,length:20,lineStyle:{width:1}},itemStyle:{borderColor:"#fff",borderWidth:1},emphasis:{label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},FunnelSeriesModel}(Series.A);const FunnelSeries=FunnelSeriesModel;function funnelLayout(ecModel,api){ecModel.eachSeriesByType("funnel",function(seriesModel){var data=seriesModel.getData(),valueDim=data.mapDimension("value"),sort=seriesModel.get("sort"),viewRect=function funnelLayout_getViewRect(seriesModel,api){return layout.dV(seriesModel.getBoxLayoutParams(),{width:api.getWidth(),height:api.getHeight()})}(seriesModel,api),orient=seriesModel.get("orient"),viewWidth=viewRect.width,viewHeight=viewRect.height,indices=function getSortedIndices(data,sort){for(var valueDim=data.mapDimension("value"),valueArr=data.mapArray(valueDim,function(val){return val}),indices=[],isAscending="ascending"===sort,i=0,len=data.count();i<len;i++)indices[i]=i;return(0,util.isFunction)(sort)?indices.sort(sort):"none"!==sort&&indices.sort(function(a,b){return isAscending?valueArr[a]-valueArr[b]:valueArr[b]-valueArr[a]}),indices}(data,sort),x=viewRect.x,y=viewRect.y,sizeExtent="horizontal"===orient?[(0,number.lo)(seriesModel.get("minSize"),viewHeight),(0,number.lo)(seriesModel.get("maxSize"),viewHeight)]:[(0,number.lo)(seriesModel.get("minSize"),viewWidth),(0,number.lo)(seriesModel.get("maxSize"),viewWidth)],dataExtent=data.getDataExtent(valueDim),min=seriesModel.get("min"),max=seriesModel.get("max");null==min&&(min=Math.min(dataExtent[0],0)),null==max&&(max=dataExtent[1]);var funnelAlign=seriesModel.get("funnelAlign"),gap=seriesModel.get("gap"),itemSize=(("horizontal"===orient?viewWidth:viewHeight)-gap*(data.count()-1))/data.count(),getLinePoints=function(idx,offset){if("horizontal"===orient){var val_1=data.get(valueDim,idx)||0,itemHeight=(0,number.Cb)(val_1,[min,max],sizeExtent,!0),y0=void 0;switch(funnelAlign){case"top":y0=y;break;case"center":y0=y+(viewHeight-itemHeight)/2;break;case"bottom":y0=y+(viewHeight-itemHeight)}return[[offset,y0],[offset,y0+itemHeight]]}var x0,val=data.get(valueDim,idx)||0,itemWidth=(0,number.Cb)(val,[min,max],sizeExtent,!0);switch(funnelAlign){case"left":x0=x;break;case"center":x0=x+(viewWidth-itemWidth)/2;break;case"right":x0=x+viewWidth-itemWidth}return[[x0,offset],[x0+itemWidth,offset]]};"ascending"===sort&&(itemSize=-itemSize,gap=-gap,"horizontal"===orient?x+=viewWidth:y+=viewHeight,indices=indices.reverse());for(var i=0;i<indices.length;i++){var idx=indices[i],nextIdx=indices[i+1],itemModel=data.getItemModel(idx);if("horizontal"===orient){var width=itemModel.get(["itemStyle","width"]);null==width?width=itemSize:(width=(0,number.lo)(width,viewWidth),"ascending"===sort&&(width=-width));var start=getLinePoints(idx,x),end=getLinePoints(nextIdx,x+width);x+=width+gap,data.setItemLayout(idx,{points:start.concat(end.slice().reverse())})}else{var height=itemModel.get(["itemStyle","height"]);null==height?height=itemSize:(height=(0,number.lo)(height,viewHeight),"ascending"===sort&&(height=-height));start=getLinePoints(idx,y),end=getLinePoints(nextIdx,y+height);y+=height+gap,data.setItemLayout(idx,{points:start.concat(end.slice().reverse())})}}!function labelLayout(data){var orient=data.hostModel.get("orient");data.each(function(idx){var textAlign,textX,textY,linePoints,itemModel=data.getItemModel(idx),labelPosition=itemModel.getModel("label").get("position"),labelLineModel=itemModel.getModel("labelLine"),layout=data.getItemLayout(idx),points=layout.points,isLabelInside="inner"===labelPosition||"inside"===labelPosition||"center"===labelPosition||"insideLeft"===labelPosition||"insideRight"===labelPosition;if(isLabelInside)"insideLeft"===labelPosition?(textX=(points[0][0]+points[3][0])/2+5,textY=(points[0][1]+points[3][1])/2,textAlign="left"):"insideRight"===labelPosition?(textX=(points[1][0]+points[2][0])/2-5,textY=(points[1][1]+points[2][1])/2,textAlign="right"):(textX=(points[0][0]+points[1][0]+points[2][0]+points[3][0])/4,textY=(points[0][1]+points[1][1]+points[2][1]+points[3][1])/4,textAlign="center"),linePoints=[[textX,textY],[textX,textY]];else{var x1=void 0,y1=void 0,x2=void 0,y2=void 0,labelLineLen=labelLineModel.get("length");"left"===labelPosition?(x1=(points[3][0]+points[0][0])/2,y1=(points[3][1]+points[0][1])/2,textX=(x2=x1-labelLineLen)-5,textAlign="right"):"right"===labelPosition?(x1=(points[1][0]+points[2][0])/2,y1=(points[1][1]+points[2][1])/2,textX=(x2=x1+labelLineLen)+5,textAlign="left"):"top"===labelPosition?(x1=(points[3][0]+points[0][0])/2,textY=(y2=(y1=(points[3][1]+points[0][1])/2)-labelLineLen)-5,textAlign="center"):"bottom"===labelPosition?(x1=(points[1][0]+points[2][0])/2,textY=(y2=(y1=(points[1][1]+points[2][1])/2)+labelLineLen)+5,textAlign="center"):"rightTop"===labelPosition?(x1="horizontal"===orient?points[3][0]:points[1][0],y1="horizontal"===orient?points[3][1]:points[1][1],"horizontal"===orient?(textY=(y2=y1-labelLineLen)-5,textAlign="center"):(textX=(x2=x1+labelLineLen)+5,textAlign="top")):"rightBottom"===labelPosition?(x1=points[2][0],y1=points[2][1],"horizontal"===orient?(textY=(y2=y1+labelLineLen)+5,textAlign="center"):(textX=(x2=x1+labelLineLen)+5,textAlign="bottom")):"leftTop"===labelPosition?(x1=points[0][0],y1="horizontal"===orient?points[0][1]:points[1][1],"horizontal"===orient?(textY=(y2=y1-labelLineLen)-5,textAlign="center"):(textX=(x2=x1-labelLineLen)-5,textAlign="right")):"leftBottom"===labelPosition?(x1="horizontal"===orient?points[1][0]:points[3][0],y1="horizontal"===orient?points[1][1]:points[2][1],"horizontal"===orient?(textY=(y2=y1+labelLineLen)+5,textAlign="center"):(textX=(x2=x1-labelLineLen)-5,textAlign="right")):(x1=(points[1][0]+points[2][0])/2,y1=(points[1][1]+points[2][1])/2,"horizontal"===orient?(textY=(y2=y1+labelLineLen)+5,textAlign="center"):(textX=(x2=x1+labelLineLen)+5,textAlign="left")),"horizontal"===orient?textX=x2=x1:textY=y2=y1,linePoints=[[x1,y1],[x2,y2]]}layout.label={linePoints,x:textX,y:textY,verticalAlign:"middle",textAlign,inside:isLabelInside}})}(data)})}var dataFilter=__webpack_require__("./node_modules/echarts/lib/processor/dataFilter.js");var ParallelView=function(_super){function ParallelView(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=ParallelView.type,_this._dataGroup=new Group.A,_this._initialized=!1,_this}return(0,tslib_es6.C6)(ParallelView,_super),ParallelView.prototype.init=function(){this.group.add(this._dataGroup)},ParallelView.prototype.render=function(seriesModel,ecModel,api,payload){this._progressiveEls=null;var dataGroup=this._dataGroup,data=seriesModel.getData(),oldData=this._data,coordSys=seriesModel.coordinateSystem,dimensions=coordSys.dimensions,seriesScope=ParallelView_makeSeriesScope(seriesModel);if(data.diff(oldData).add(function add(newDataIndex){var line=addEl(data,dataGroup,newDataIndex,dimensions,coordSys);updateElCommon(line,data,newDataIndex,seriesScope)}).update(function update(newDataIndex,oldDataIndex){var line=oldData.getItemGraphicEl(oldDataIndex),points=createLinePoints(data,newDataIndex,dimensions,coordSys);data.setItemGraphicEl(newDataIndex,line),basicTransition.oi(line,{shape:{points}},seriesModel,newDataIndex),(0,basicTransition.ap)(line),updateElCommon(line,data,newDataIndex,seriesScope)}).remove(function remove(oldDataIndex){var line=oldData.getItemGraphicEl(oldDataIndex);dataGroup.remove(line)}).execute(),!this._initialized){this._initialized=!0;var clipPath=function createGridClipShape(coordSys,seriesModel,cb){var parallelModel=coordSys.model,rect=coordSys.getRect(),rectEl=new Rect.A({shape:{x:rect.x,y:rect.y,width:rect.width,height:rect.height}}),dim="horizontal"===parallelModel.get("layout")?"width":"height";return rectEl.setShape(dim,0),basicTransition.LW(rectEl,{shape:{width:rect.width,height:rect.height}},seriesModel,cb),rectEl}(coordSys,seriesModel,function(){setTimeout(function(){dataGroup.removeClipPath()})});dataGroup.setClipPath(clipPath)}this._data=data},ParallelView.prototype.incrementalPrepareRender=function(seriesModel,ecModel,api){this._initialized=!0,this._data=null,this._dataGroup.removeAll()},ParallelView.prototype.incrementalRender=function(taskParams,seriesModel,ecModel){for(var data=seriesModel.getData(),coordSys=seriesModel.coordinateSystem,dimensions=coordSys.dimensions,seriesScope=ParallelView_makeSeriesScope(seriesModel),progressiveEls=this._progressiveEls=[],dataIndex=taskParams.start;dataIndex<taskParams.end;dataIndex++){var line=addEl(data,this._dataGroup,dataIndex,dimensions,coordSys);line.incremental=!0,updateElCommon(line,data,dataIndex,seriesScope),progressiveEls.push(line)}},ParallelView.prototype.remove=function(){this._dataGroup&&this._dataGroup.removeAll(),this._data=null},ParallelView.type="parallel",ParallelView}(Chart.A);function createLinePoints(data,dataIndex,dimensions,coordSys){for(var points=[],i=0;i<dimensions.length;i++){var dimName=dimensions[i],value=data.get(data.mapDimension(dimName),dataIndex);isEmptyValue(value,coordSys.getAxis(dimName).type)||points.push(coordSys.dataToPoint(value,dimName))}return points}function addEl(data,dataGroup,dataIndex,dimensions,coordSys){var points=createLinePoints(data,dataIndex,dimensions,coordSys),line=new shape_Polyline.A({shape:{points},z2:10});return dataGroup.add(line),data.setItemGraphicEl(dataIndex,line),line}function ParallelView_makeSeriesScope(seriesModel){var smooth=seriesModel.get("smooth",!0);return!0===smooth&&(smooth=.3),smooth=(0,number.Sm)(smooth),(0,util.eqNaN)(smooth)&&(smooth=0),{smooth}}function updateElCommon(el,data,dataIndex,seriesScope){el.useStyle(data.getItemVisual(dataIndex,"style")),el.style.fill=null,el.setShape("smooth",seriesScope.smooth);var itemModel=data.getItemModel(dataIndex),emphasisModel=itemModel.getModel("emphasis");(0,states.Mx)(el,itemModel,"lineStyle"),(0,states.Lm)(el,emphasisModel.get("focus"),emphasisModel.get("blurScope"),emphasisModel.get("disabled"))}function isEmptyValue(val,axisType){return"category"===axisType?null==val:null==val||isNaN(val)}const parallel_ParallelView=ParallelView;var ParallelSeriesModel=function(_super){function ParallelSeriesModel(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=ParallelSeriesModel.type,_this.visualStyleAccessPath="lineStyle",_this.visualDrawType="stroke",_this}return(0,tslib_es6.C6)(ParallelSeriesModel,_super),ParallelSeriesModel.prototype.getInitialData=function(option,ecModel){return(0,createSeriesData.A)(null,this,{useEncodeDefaulter:(0,util.bind)(makeDefaultEncode,null,this)})},ParallelSeriesModel.prototype.getRawIndicesByActiveState=function(activeState){var coordSys=this.coordinateSystem,data=this.getData(),indices=[];return coordSys.eachActiveState(data,function(theActiveState,dataIndex){activeState===theActiveState&&indices.push(data.getRawIndex(dataIndex))}),indices},ParallelSeriesModel.type="series.parallel",ParallelSeriesModel.dependencies=["parallel"],ParallelSeriesModel.defaultOption={z:2,coordinateSystem:"parallel",parallelIndex:0,label:{show:!1},inactiveOpacity:.05,activeOpacity:1,lineStyle:{width:1,opacity:.45,type:"solid"},emphasis:{label:{show:!1}},progressive:500,smooth:!1,animationEasing:"linear"},ParallelSeriesModel}(Series.A);function makeDefaultEncode(seriesModel){var parallelModel=seriesModel.ecModel.getComponent("parallel",seriesModel.get("parallelIndex"));if(parallelModel){var encodeDefine={};return(0,util.each)(parallelModel.dimensions,function(axisDim){var dataDimIndex=function convertDimNameToNumber(dimName){return+dimName.replace("dim","")}(axisDim);encodeDefine[axisDim]=dataDimIndex}),encodeDefine}}const ParallelSeries=ParallelSeriesModel;var parallelVisual_opacityAccessPath=["lineStyle","opacity"];const parallel_parallelVisual={seriesType:"parallel",reset:function(seriesModel,ecModel){var coordSys=seriesModel.coordinateSystem,opacityMap={normal:seriesModel.get(["lineStyle","opacity"]),active:seriesModel.get("activeOpacity"),inactive:seriesModel.get("inactiveOpacity")};return{progress:function(params,data){coordSys.eachActiveState(data,function(activeState,dataIndex){var opacity=opacityMap[activeState];if("normal"===activeState&&data.hasItemOption){var itemOpacity=data.getItemModel(dataIndex).get(parallelVisual_opacityAccessPath,!0);null!=itemOpacity&&(opacity=itemOpacity)}data.ensureUniqueItemVisual(dataIndex,"style").opacity=opacity},params.start,params.end)}}}};function parallelPreprocessor(option){!function createParallelIfNeeded(option){if(option.parallel)return;var hasParallelSeries=!1;util.each(option.series,function(seriesOpt){seriesOpt&&"parallel"===seriesOpt.type&&(hasParallelSeries=!0)}),hasParallelSeries&&(option.parallel=[{}])}(option),function mergeAxisOptionFromParallel(option){var axes=util_model.qB(option.parallelAxis);util.each(axes,function(axisOption){if(util.isObject(axisOption)){var parallelIndex=axisOption.parallelIndex||0,parallelOption=util_model.qB(option.parallel)[parallelIndex];parallelOption&&parallelOption.parallelAxisDefault&&util.merge(axisOption,parallelOption.parallelAxisDefault,!1)}})}(option)}var throttle=__webpack_require__("./node_modules/echarts/lib/util/throttle.js"),ParallelView_ParallelView=function(_super){function ParallelView(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=ParallelView.type,_this}return(0,tslib_es6.C6)(ParallelView,_super),ParallelView.prototype.render=function(parallelModel,ecModel,api){this._model=parallelModel,this._api=api,this._handlers||(this._handlers={},(0,util.each)(handlers,function(handler,eventName){api.getZr().on(eventName,this._handlers[eventName]=(0,util.bind)(handler,this))},this)),(0,throttle.N)(this,"_throttledDispatchExpand",parallelModel.get("axisExpandRate"),"fixRate")},ParallelView.prototype.dispose=function(ecModel,api){(0,throttle.IU)(this,"_throttledDispatchExpand"),(0,util.each)(this._handlers,function(handler,eventName){api.getZr().off(eventName,handler)}),this._handlers=null},ParallelView.prototype._throttledDispatchExpand=function(opt){this._dispatchExpand(opt)},ParallelView.prototype._dispatchExpand=function(opt){opt&&this._api.dispatchAction((0,util.extend)({type:"parallelAxisExpand"},opt))},ParallelView.type="parallel",ParallelView}(view_Component.A),handlers={mousedown:function(e){checkTrigger(this,"click")&&(this._mouseDownPoint=[e.offsetX,e.offsetY])},mouseup:function(e){var mouseDownPoint=this._mouseDownPoint;if(checkTrigger(this,"click")&&mouseDownPoint){var point=[e.offsetX,e.offsetY];if(Math.pow(mouseDownPoint[0]-point[0],2)+Math.pow(mouseDownPoint[1]-point[1],2)>5)return;var result=this._model.coordinateSystem.getSlidedAxisExpandWindow([e.offsetX,e.offsetY]);"none"!==result.behavior&&this._dispatchExpand({axisExpandWindow:result.axisExpandWindow})}this._mouseDownPoint=null},mousemove:function(e){if(!this._mouseDownPoint&&checkTrigger(this,"mousemove")){var model=this._model,result=model.coordinateSystem.getSlidedAxisExpandWindow([e.offsetX,e.offsetY]),behavior=result.behavior;"jump"===behavior&&this._throttledDispatchExpand.debounceNextCall(model.get("axisExpandDebounce")),this._throttledDispatchExpand("none"===behavior?null:{axisExpandWindow:result.axisExpandWindow,animation:"jump"===behavior?null:{duration:0}})}}};function checkTrigger(view,triggerOn){var model=view._model;return model.get("axisExpandable")&&model.get("axisExpandTriggerOn")===triggerOn}const component_parallel_ParallelView=ParallelView_ParallelView;var ParallelModel=function(_super){function ParallelModel(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=ParallelModel.type,_this}return(0,tslib_es6.C6)(ParallelModel,_super),ParallelModel.prototype.init=function(){_super.prototype.init.apply(this,arguments),this.mergeOption({})},ParallelModel.prototype.mergeOption=function(newOption){var thisOption=this.option;newOption&&util.merge(thisOption,newOption,!0),this._initDimensions()},ParallelModel.prototype.contains=function(model,ecModel){var parallelIndex=model.get("parallelIndex");return null!=parallelIndex&&ecModel.getComponent("parallel",parallelIndex)===this},ParallelModel.prototype.setAxisExpand=function(opt){util.each(["axisExpandable","axisExpandCenter","axisExpandCount","axisExpandWidth","axisExpandWindow"],function(name){opt.hasOwnProperty(name)&&(this.option[name]=opt[name])},this)},ParallelModel.prototype._initDimensions=function(){var dimensions=this.dimensions=[],parallelAxisIndex=this.parallelAxisIndex=[],axisModels=util.filter(this.ecModel.queryComponents({mainType:"parallelAxis"}),function(axisModel){return(axisModel.get("parallelIndex")||0)===this.componentIndex},this);util.each(axisModels,function(axisModel){dimensions.push("dim"+axisModel.get("dim")),parallelAxisIndex.push(axisModel.componentIndex)})},ParallelModel.type="parallel",ParallelModel.dependencies=["parallelAxis"],ParallelModel.layoutMode="box",ParallelModel.defaultOption={z:0,left:80,top:60,right:80,bottom:60,layout:"horizontal",axisExpandable:!1,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,axisExpandRate:17,axisExpandDebounce:50,axisExpandSlideTriggerArea:[-.15,.05,.4],axisExpandTriggerOn:"click",parallelAxisDefault:null},ParallelModel}(Component.A);const parallel_ParallelModel=ParallelModel;var axisHelper=__webpack_require__("./node_modules/echarts/lib/coord/axisHelper.js"),Axis=__webpack_require__("./node_modules/echarts/lib/coord/Axis.js");const parallel_ParallelAxis=function(_super){function ParallelAxis(dim,scale,coordExtent,axisType,axisIndex){var _this=_super.call(this,dim,scale,coordExtent)||this;return _this.type=axisType||"value",_this.axisIndex=axisIndex,_this}return(0,tslib_es6.C6)(ParallelAxis,_super),ParallelAxis.prototype.isHorizontal=function(){return"horizontal"!==this.coordinateSystem.getModel().get("layout")},ParallelAxis}(Axis.A);var sliderMove=__webpack_require__("./node_modules/echarts/lib/component/helper/sliderMove.js"),Parallel_each=util.each,Parallel_mathMin=Math.min,Parallel_mathMax=Math.max,mathFloor=Math.floor,mathCeil=Math.ceil,Parallel_round=number.LI,Parallel_PI=Math.PI,Parallel=function(){function Parallel(parallelModel,ecModel,api){this.type="parallel",this._axesMap=util.createHashMap(),this._axesLayout={},this.dimensions=parallelModel.dimensions,this._model=parallelModel,this._init(parallelModel,ecModel,api)}return Parallel.prototype._init=function(parallelModel,ecModel,api){var dimensions=parallelModel.dimensions,parallelAxisIndex=parallelModel.parallelAxisIndex;Parallel_each(dimensions,function(dim,idx){var axisIndex=parallelAxisIndex[idx],axisModel=ecModel.getComponent("parallelAxis",axisIndex),axis=this._axesMap.set(dim,new parallel_ParallelAxis(dim,axisHelper.f$(axisModel),[0,0],axisModel.get("type"),axisIndex)),isCategory="category"===axis.type;axis.onBand=isCategory&&axisModel.get("boundaryGap"),axis.inverse=axisModel.get("inverse"),axisModel.axis=axis,axis.model=axisModel,axis.coordinateSystem=axisModel.coordinateSystem=this},this)},Parallel.prototype.update=function(ecModel,api){this._updateAxesFromSeries(this._model,ecModel)},Parallel.prototype.containPoint=function(point){var layoutInfo=this._makeLayoutInfo(),axisBase=layoutInfo.axisBase,layoutBase=layoutInfo.layoutBase,pixelDimIndex=layoutInfo.pixelDimIndex,pAxis=point[1-pixelDimIndex],pLayout=point[pixelDimIndex];return pAxis>=axisBase&&pAxis<=axisBase+layoutInfo.axisLength&&pLayout>=layoutBase&&pLayout<=layoutBase+layoutInfo.layoutLength},Parallel.prototype.getModel=function(){return this._model},Parallel.prototype._updateAxesFromSeries=function(parallelModel,ecModel){ecModel.eachSeries(function(seriesModel){if(parallelModel.contains(seriesModel,ecModel)){var data=seriesModel.getData();Parallel_each(this.dimensions,function(dim){var axis=this._axesMap.get(dim);axis.scale.unionExtentFromData(data,data.mapDimension(dim)),axisHelper.af(axis.scale,axis.model)},this)}},this)},Parallel.prototype.resize=function(parallelModel,api){this._rect=layout.dV(parallelModel.getBoxLayoutParams(),{width:api.getWidth(),height:api.getHeight()}),this._layoutAxes()},Parallel.prototype.getRect=function(){return this._rect},Parallel.prototype._makeLayoutInfo=function(){var winSize,parallelModel=this._model,rect=this._rect,xy=["x","y"],wh=["width","height"],layout=parallelModel.get("layout"),pixelDimIndex="horizontal"===layout?0:1,layoutLength=rect[wh[pixelDimIndex]],layoutExtent=[0,layoutLength],axisCount=this.dimensions.length,axisExpandWidth=restrict(parallelModel.get("axisExpandWidth"),layoutExtent),axisExpandCount=restrict(parallelModel.get("axisExpandCount")||0,[0,axisCount]),axisExpandable=parallelModel.get("axisExpandable")&&axisCount>3&&axisCount>axisExpandCount&&axisExpandCount>1&&axisExpandWidth>0&&layoutLength>0,axisExpandWindow=parallelModel.get("axisExpandWindow");axisExpandWindow?(winSize=restrict(axisExpandWindow[1]-axisExpandWindow[0],layoutExtent),axisExpandWindow[1]=axisExpandWindow[0]+winSize):(winSize=restrict(axisExpandWidth*(axisExpandCount-1),layoutExtent),(axisExpandWindow=[axisExpandWidth*(parallelModel.get("axisExpandCenter")||mathFloor(axisCount/2))-winSize/2])[1]=axisExpandWindow[0]+winSize);var axisCollapseWidth=(layoutLength-winSize)/(axisCount-axisExpandCount);axisCollapseWidth<3&&(axisCollapseWidth=0);var winInnerIndices=[mathFloor(Parallel_round(axisExpandWindow[0]/axisExpandWidth,1))+1,mathCeil(Parallel_round(axisExpandWindow[1]/axisExpandWidth,1))-1],axisExpandWindow0Pos=axisCollapseWidth/axisExpandWidth*axisExpandWindow[0];return{layout,pixelDimIndex,layoutBase:rect[xy[pixelDimIndex]],layoutLength,axisBase:rect[xy[1-pixelDimIndex]],axisLength:rect[wh[1-pixelDimIndex]],axisExpandable,axisExpandWidth,axisCollapseWidth,axisExpandWindow,axisCount,winInnerIndices,axisExpandWindow0Pos}},Parallel.prototype._layoutAxes=function(){var rect=this._rect,axes=this._axesMap,dimensions=this.dimensions,layoutInfo=this._makeLayoutInfo(),layout=layoutInfo.layout;axes.each(function(axis){var axisExtent=[0,layoutInfo.axisLength],idx=axis.inverse?1:0;axis.setExtent(axisExtent[idx],axisExtent[1-idx])}),Parallel_each(dimensions,function(dim,idx){var posInfo=(layoutInfo.axisExpandable?layoutAxisWithExpand:layoutAxisWithoutExpand)(idx,layoutInfo),positionTable={horizontal:{x:posInfo.position,y:layoutInfo.axisLength},vertical:{x:0,y:posInfo.position}},rotationTable={horizontal:Parallel_PI/2,vertical:0},position=[positionTable[layout].x+rect.x,positionTable[layout].y+rect.y],rotation=rotationTable[layout],transform=matrix.create();matrix.rotate(transform,transform,rotation),matrix.translate(transform,transform,position),this._axesLayout[dim]={position,rotation,transform,axisNameAvailableWidth:posInfo.axisNameAvailableWidth,axisLabelShow:posInfo.axisLabelShow,nameTruncateMaxWidth:posInfo.nameTruncateMaxWidth,tickDirection:1,labelDirection:1}},this)},Parallel.prototype.getAxis=function(dim){return this._axesMap.get(dim)},Parallel.prototype.dataToPoint=function(value,dim){return this.axisCoordToPoint(this._axesMap.get(dim).dataToCoord(value),dim)},Parallel.prototype.eachActiveState=function(data,callback,start,end){null==start&&(start=0),null==end&&(end=data.count());var axesMap=this._axesMap,dimensions=this.dimensions,dataDimensions=[],axisModels=[];util.each(dimensions,function(axisDim){dataDimensions.push(data.mapDimension(axisDim)),axisModels.push(axesMap.get(axisDim).model)});for(var hasActiveSet=this.hasAxisBrushed(),dataIndex=start;dataIndex<end;dataIndex++){var activeState=void 0;if(hasActiveSet){activeState="active";for(var values=data.getValues(dataDimensions,dataIndex),j=0,lenj=dimensions.length;j<lenj;j++){if("inactive"===axisModels[j].getActiveState(values[j])){activeState="inactive";break}}}else activeState="normal";callback(activeState,dataIndex)}},Parallel.prototype.hasAxisBrushed=function(){for(var dimensions=this.dimensions,axesMap=this._axesMap,hasActiveSet=!1,j=0,lenj=dimensions.length;j<lenj;j++)"normal"!==axesMap.get(dimensions[j]).model.getActiveState()&&(hasActiveSet=!0);return hasActiveSet},Parallel.prototype.axisCoordToPoint=function(coord,dim){var axisLayout=this._axesLayout[dim];return graphic.applyTransform([coord,0],axisLayout.transform)},Parallel.prototype.getAxisLayout=function(dim){return util.clone(this._axesLayout[dim])},Parallel.prototype.getSlidedAxisExpandWindow=function(point){var layoutInfo=this._makeLayoutInfo(),pixelDimIndex=layoutInfo.pixelDimIndex,axisExpandWindow=layoutInfo.axisExpandWindow.slice(),winSize=axisExpandWindow[1]-axisExpandWindow[0],extent=[0,layoutInfo.axisExpandWidth*(layoutInfo.axisCount-1)];if(!this.containPoint(point))return{behavior:"none",axisExpandWindow};var delta,pointCoord=point[pixelDimIndex]-layoutInfo.layoutBase-layoutInfo.axisExpandWindow0Pos,behavior="slide",axisCollapseWidth=layoutInfo.axisCollapseWidth,triggerArea=this._model.get("axisExpandSlideTriggerArea"),useJump=null!=triggerArea[0];if(axisCollapseWidth)useJump&&axisCollapseWidth&&pointCoord<winSize*triggerArea[0]?(behavior="jump",delta=pointCoord-winSize*triggerArea[2]):useJump&&axisCollapseWidth&&pointCoord>winSize*(1-triggerArea[0])?(behavior="jump",delta=pointCoord-winSize*(1-triggerArea[2])):(delta=pointCoord-winSize*triggerArea[1])>=0&&(delta=pointCoord-winSize*(1-triggerArea[1]))<=0&&(delta=0),(delta*=layoutInfo.axisExpandWidth/axisCollapseWidth)?(0,sliderMove.A)(delta,axisExpandWindow,extent,"all"):behavior="none";else{var winSize2=axisExpandWindow[1]-axisExpandWindow[0];(axisExpandWindow=[Parallel_mathMax(0,extent[1]*pointCoord/winSize2-winSize2/2)])[1]=Parallel_mathMin(extent[1],axisExpandWindow[0]+winSize2),axisExpandWindow[0]=axisExpandWindow[1]-winSize2}return{axisExpandWindow,behavior}},Parallel}();function restrict(len,extent){return Parallel_mathMin(Parallel_mathMax(len,extent[0]),extent[1])}function layoutAxisWithoutExpand(axisIndex,layoutInfo){var step=layoutInfo.layoutLength/(layoutInfo.axisCount-1);return{position:step*axisIndex,axisNameAvailableWidth:step,axisLabelShow:!0}}function layoutAxisWithExpand(axisIndex,layoutInfo){var position,nameTruncateMaxWidth,layoutLength=layoutInfo.layoutLength,axisExpandWidth=layoutInfo.axisExpandWidth,axisCount=layoutInfo.axisCount,axisCollapseWidth=layoutInfo.axisCollapseWidth,winInnerIndices=layoutInfo.winInnerIndices,axisNameAvailableWidth=axisCollapseWidth,axisLabelShow=!1;return axisIndex<winInnerIndices[0]?(position=axisIndex*axisCollapseWidth,nameTruncateMaxWidth=axisCollapseWidth):axisIndex<=winInnerIndices[1]?(position=layoutInfo.axisExpandWindow0Pos+axisIndex*axisExpandWidth-layoutInfo.axisExpandWindow[0],axisNameAvailableWidth=axisExpandWidth,axisLabelShow=!0):(position=layoutLength-(axisCount-1-axisIndex)*axisCollapseWidth,nameTruncateMaxWidth=axisCollapseWidth),{position,axisNameAvailableWidth,axisLabelShow,nameTruncateMaxWidth}}const parallel_Parallel=Parallel;const parallelCreator={create:function createParallelCoordSys(ecModel,api){var coordSysList=[];return ecModel.eachComponent("parallel",function(parallelModel,idx){var coordSys=new parallel_Parallel(parallelModel,ecModel,api);coordSys.name="parallel_"+idx,coordSys.resize(parallelModel,api),parallelModel.coordinateSystem=coordSys,coordSys.model=parallelModel,coordSysList.push(coordSys)}),ecModel.eachSeries(function(seriesModel){if("parallel"===seriesModel.get("coordinateSystem")){var parallelModel=seriesModel.getReferringComponents("parallel",util_model.US).models[0];seriesModel.coordinateSystem=parallelModel.coordinateSystem}}),coordSysList}};var axisModelCreator=__webpack_require__("./node_modules/echarts/lib/coord/axisModelCreator.js"),axisModelCommonMixin=__webpack_require__("./node_modules/echarts/lib/coord/axisModelCommonMixin.js"),ParallelAxisModel=function(_super){function ParallelAxisModel(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=ParallelAxisModel.type,_this.activeIntervals=[],_this}return(0,tslib_es6.C6)(ParallelAxisModel,_super),ParallelAxisModel.prototype.getAreaSelectStyle=function(){return(0,makeStyleMapper.A)([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]])(this.getModel("areaSelectStyle"))},ParallelAxisModel.prototype.setActiveIntervals=function(intervals){var activeIntervals=this.activeIntervals=util.clone(intervals);if(activeIntervals)for(var i=activeIntervals.length-1;i>=0;i--)number.Y6(activeIntervals[i])},ParallelAxisModel.prototype.getActiveState=function(value){var activeIntervals=this.activeIntervals;if(!activeIntervals.length)return"normal";if(null==value||isNaN(+value))return"inactive";if(1===activeIntervals.length){var interval=activeIntervals[0];if(interval[0]<=value&&value<=interval[1])return"active"}else for(var i=0,len=activeIntervals.length;i<len;i++)if(activeIntervals[i][0]<=value&&value<=activeIntervals[i][1])return"active";return"inactive"},ParallelAxisModel}(Component.A);util.mixin(ParallelAxisModel,axisModelCommonMixin.L);const AxisModel=ParallelAxisModel;var AxisBuilder=__webpack_require__("./node_modules/echarts/lib/component/axis/AxisBuilder.js"),Eventful=__webpack_require__("./node_modules/zrender/lib/core/Eventful.js"),interactionMutex=__webpack_require__("./node_modules/echarts/lib/component/helper/interactionMutex.js"),BrushController_mathMin=Math.min,BrushController_mathMax=Math.max,mathPow=Math.pow,DIRECTION_MAP={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},CURSOR_MAP={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},DEFAULT_BRUSH_OPT={brushStyle:{lineWidth:2,stroke:"rgba(210,219,238,0.3)",fill:"#D2DBEE"},transformable:!0,brushMode:"single",removeOnClick:!1},baseUID=0,BrushController=function(_super){function BrushController(zr){var _this=_super.call(this)||this;return _this._track=[],_this._covers=[],_this._handlers={},_this._zr=zr,_this.group=new Group.A,_this._uid="brushController_"+baseUID++,(0,util.each)(pointerHandlers,function(handler,eventName){this._handlers[eventName]=(0,util.bind)(handler,this)},_this),_this}return(0,tslib_es6.C6)(BrushController,_super),BrushController.prototype.enableBrush=function(brushOption){return this._brushType&&this._doDisableBrush(),brushOption.brushType&&this._doEnableBrush(brushOption),this},BrushController.prototype._doEnableBrush=function(brushOption){var zr=this._zr;this._enableGlobalPan||interactionMutex.s(zr,"globalPan",this._uid),(0,util.each)(this._handlers,function(handler,eventName){zr.on(eventName,handler)}),this._brushType=brushOption.brushType,this._brushOption=(0,util.merge)((0,util.clone)(DEFAULT_BRUSH_OPT),brushOption,!0)},BrushController.prototype._doDisableBrush=function(){var zr=this._zr;interactionMutex._r(zr,"globalPan",this._uid),(0,util.each)(this._handlers,function(handler,eventName){zr.off(eventName,handler)}),this._brushType=this._brushOption=null},BrushController.prototype.setPanels=function(panelOpts){if(panelOpts&&panelOpts.length){var panels_1=this._panels={};(0,util.each)(panelOpts,function(panelOpts){panels_1[panelOpts.panelId]=(0,util.clone)(panelOpts)})}else this._panels=null;return this},BrushController.prototype.mount=function(opt){opt=opt||{},this._enableGlobalPan=opt.enableGlobalPan;var thisGroup=this.group;return this._zr.add(thisGroup),thisGroup.attr({x:opt.x||0,y:opt.y||0,rotation:opt.rotation||0,scaleX:opt.scaleX||1,scaleY:opt.scaleY||1}),this._transform=thisGroup.getLocalTransform(),this},BrushController.prototype.updateCovers=function(coverConfigList){coverConfigList=(0,util.map)(coverConfigList,function(coverConfig){return(0,util.merge)((0,util.clone)(DEFAULT_BRUSH_OPT),coverConfig,!0)});var oldCovers=this._covers,newCovers=this._covers=[],controller=this,creatingCover=this._creatingCover;return new DataDiffer.A(oldCovers,coverConfigList,function oldGetKey(cover,index){return getKey(cover.__brushOption,index)},getKey).add(addOrUpdate).update(addOrUpdate).remove(function remove(oldIndex){oldCovers[oldIndex]!==creatingCover&&controller.group.remove(oldCovers[oldIndex])}).execute(),this;function getKey(brushOption,index){return(null!=brushOption.id?brushOption.id:"\0-brush-index-"+index)+"-"+brushOption.brushType}function addOrUpdate(newIndex,oldIndex){var newBrushInternal=coverConfigList[newIndex];if(null!=oldIndex&&oldCovers[oldIndex]===creatingCover)newCovers[newIndex]=oldCovers[oldIndex];else{var cover=newCovers[newIndex]=null!=oldIndex?(oldCovers[oldIndex].__brushOption=newBrushInternal,oldCovers[oldIndex]):endCreating(controller,createCover(controller,newBrushInternal));updateCoverAfterCreation(controller,cover)}}},BrushController.prototype.unmount=function(){return this.enableBrush(!1),clearCovers(this),this._zr.remove(this.group),this},BrushController.prototype.dispose=function(){this.unmount(),this.off()},BrushController}(Eventful.A);function createCover(controller,brushOption){var cover=coverRenderers[brushOption.brushType].createCover(controller,brushOption);return cover.__brushOption=brushOption,updateZ(cover,brushOption),controller.group.add(cover),cover}function endCreating(controller,creatingCover){var coverRenderer=getCoverRenderer(creatingCover);return coverRenderer.endCreating&&(coverRenderer.endCreating(controller,creatingCover),updateZ(creatingCover,creatingCover.__brushOption)),creatingCover}function updateCoverShape(controller,cover){var brushOption=cover.__brushOption;getCoverRenderer(cover).updateCoverShape(controller,cover,brushOption.range,brushOption)}function updateZ(cover,brushOption){var z=brushOption.z;null==z&&(z=1e4),cover.traverse(function(el){el.z=z,el.z2=z})}function updateCoverAfterCreation(controller,cover){getCoverRenderer(cover).updateCommon(controller,cover),updateCoverShape(controller,cover)}function getCoverRenderer(cover){return coverRenderers[cover.__brushOption.brushType]}function getPanelByPoint(controller,e,localCursorPoint){var panel,panels=controller._panels;if(!panels)return true;var transform=controller._transform;return(0,util.each)(panels,function(pn){pn.isTargetByCursor(e,localCursorPoint,transform)&&(panel=pn)}),panel}function getPanelByCover(controller,cover){var panels=controller._panels;if(!panels)return true;var panelId=cover.__brushOption.panelId;return null==panelId||panels[panelId]}function clearCovers(controller){var covers=controller._covers,originalLength=covers.length;return(0,util.each)(covers,function(cover){controller.group.remove(cover)},controller),covers.length=0,!!originalLength}function trigger(controller,opt){var areas=(0,util.map)(controller._covers,function(cover){var brushOption=cover.__brushOption,range=(0,util.clone)(brushOption.range);return{brushType:brushOption.brushType,panelId:brushOption.panelId,range}});controller.trigger("brush",{areas,isEnd:!!opt.isEnd,removeOnClick:!!opt.removeOnClick})}function getTrackEnds(track){var tail=track.length-1;return tail<0&&(tail=0),[track[0],track[tail]]}function createBaseRectCover(rectRangeConverter,controller,brushOption,edgeNameSequences){var cover=new Group.A;return cover.add(new Rect.A({name:"main",style:makeStyle(brushOption),silent:!0,draggable:!0,cursor:"move",drift:(0,util.curry)(driftRect,rectRangeConverter,controller,cover,["n","s","w","e"]),ondragend:(0,util.curry)(trigger,controller,{isEnd:!0})})),(0,util.each)(edgeNameSequences,function(nameSequence){cover.add(new Rect.A({name:nameSequence.join(""),style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:(0,util.curry)(driftRect,rectRangeConverter,controller,cover,nameSequence),ondragend:(0,util.curry)(trigger,controller,{isEnd:!0})}))}),cover}function updateBaseRect(controller,cover,localRange,brushOption){var lineWidth=brushOption.brushStyle.lineWidth||0,handleSize=BrushController_mathMax(lineWidth,6),x=localRange[0][0],y=localRange[1][0],xa=x-lineWidth/2,ya=y-lineWidth/2,x2=localRange[0][1],y2=localRange[1][1],x2a=x2-handleSize+lineWidth/2,y2a=y2-handleSize+lineWidth/2,width=x2-x,height=y2-y,widtha=width+lineWidth,heighta=height+lineWidth;updateRectShape(controller,cover,"main",x,y,width,height),brushOption.transformable&&(updateRectShape(controller,cover,"w",xa,ya,handleSize,heighta),updateRectShape(controller,cover,"e",x2a,ya,handleSize,heighta),updateRectShape(controller,cover,"n",xa,ya,widtha,handleSize),updateRectShape(controller,cover,"s",xa,y2a,widtha,handleSize),updateRectShape(controller,cover,"nw",xa,ya,handleSize,handleSize),updateRectShape(controller,cover,"ne",x2a,ya,handleSize,handleSize),updateRectShape(controller,cover,"sw",xa,y2a,handleSize,handleSize),updateRectShape(controller,cover,"se",x2a,y2a,handleSize,handleSize))}function updateCommon(controller,cover){var brushOption=cover.__brushOption,transformable=brushOption.transformable,mainEl=cover.childAt(0);mainEl.useStyle(makeStyle(brushOption)),mainEl.attr({silent:!transformable,cursor:transformable?"move":"default"}),(0,util.each)([["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]],function(nameSequence){var el=cover.childOfName(nameSequence.join("")),globalDir=1===nameSequence.length?getGlobalDirection1(controller,nameSequence[0]):function getGlobalDirection2(controller,localDirNameSeq){var globalDir=[getGlobalDirection1(controller,localDirNameSeq[0]),getGlobalDirection1(controller,localDirNameSeq[1])];return("e"===globalDir[0]||"w"===globalDir[0])&&globalDir.reverse(),globalDir.join("")}(controller,nameSequence);el&&el.attr({silent:!transformable,invisible:!transformable,cursor:transformable?CURSOR_MAP[globalDir]+"-resize":null})})}function updateRectShape(controller,cover,name,x,y,w,h){var el=cover.childOfName(name);el&&el.setShape(function pointsToRect(points){var xmin=BrushController_mathMin(points[0][0],points[1][0]),ymin=BrushController_mathMin(points[0][1],points[1][1]),xmax=BrushController_mathMax(points[0][0],points[1][0]),ymax=BrushController_mathMax(points[0][1],points[1][1]);return{x:xmin,y:ymin,width:xmax-xmin,height:ymax-ymin}}(clipByPanel(controller,cover,[[x,y],[x+w,y+h]])))}function makeStyle(brushOption){return(0,util.defaults)({strokeNoScale:!0},brushOption.brushStyle)}function formatRectRange(x,y,x2,y2){var min=[BrushController_mathMin(x,x2),BrushController_mathMin(y,y2)],max=[BrushController_mathMax(x,x2),BrushController_mathMax(y,y2)];return[[min[0],max[0]],[min[1],max[1]]]}function getGlobalDirection1(controller,localDirName){var dir=graphic.transformDirection({w:"left",e:"right",n:"top",s:"bottom"}[localDirName],function getTransform(controller){return graphic.getTransform(controller.group)}(controller));return{left:"w",right:"e",top:"n",bottom:"s"}[dir]}function driftRect(rectRangeConverter,controller,cover,dirNameSequence,dx,dy){var brushOption=cover.__brushOption,rectRange=rectRangeConverter.toRectRange(brushOption.range),localDelta=toLocalDelta(controller,dx,dy);(0,util.each)(dirNameSequence,function(dirName){var ind=DIRECTION_MAP[dirName];rectRange[ind[0]][ind[1]]+=localDelta[ind[0]]}),brushOption.range=rectRangeConverter.fromRectRange(formatRectRange(rectRange[0][0],rectRange[1][0],rectRange[0][1],rectRange[1][1])),updateCoverAfterCreation(controller,cover),trigger(controller,{isEnd:!1})}function driftPolygon(controller,cover,dx,dy){var range=cover.__brushOption.range,localDelta=toLocalDelta(controller,dx,dy);(0,util.each)(range,function(point){point[0]+=localDelta[0],point[1]+=localDelta[1]}),updateCoverAfterCreation(controller,cover),trigger(controller,{isEnd:!1})}function toLocalDelta(controller,dx,dy){var thisGroup=controller.group,localD=thisGroup.transformCoordToLocal(dx,dy),localZero=thisGroup.transformCoordToLocal(0,0);return[localD[0]-localZero[0],localD[1]-localZero[1]]}function clipByPanel(controller,cover,data){var panel=getPanelByCover(controller,cover);return panel&&true!==panel?panel.clipPath(data,controller._transform):(0,util.clone)(data)}function preventDefault(e){var rawE=e.event;rawE.preventDefault&&rawE.preventDefault()}function mainShapeContain(cover,x,y){return cover.childOfName("main").contain(x,y)}function updateCoverByMouse(controller,e,localCursorPoint,isEnd){var eventParams,creatingCover=controller._creatingCover,panel=controller._creatingPanel,thisBrushOption=controller._brushOption;if(controller._track.push(localCursorPoint.slice()),function shouldShowCover(controller){var track=controller._track;if(!track.length)return!1;var p2=track[track.length-1],p1=track[0],dx=p2[0]-p1[0],dy=p2[1]-p1[1];return mathPow(dx*dx+dy*dy,.5)>6}(controller)||creatingCover){if(panel&&!creatingCover){"single"===thisBrushOption.brushMode&&clearCovers(controller);var brushOption=(0,util.clone)(thisBrushOption);brushOption.brushType=determineBrushType(brushOption.brushType,panel),brushOption.panelId=true===panel?null:panel.panelId,creatingCover=controller._creatingCover=createCover(controller,brushOption),controller._covers.push(creatingCover)}if(creatingCover){var coverRenderer=coverRenderers[determineBrushType(controller._brushType,panel)];creatingCover.__brushOption.range=coverRenderer.getCreatingRange(clipByPanel(controller,creatingCover,controller._track)),isEnd&&(endCreating(controller,creatingCover),coverRenderer.updateCommon(controller,creatingCover)),updateCoverShape(controller,creatingCover),eventParams={isEnd}}}else isEnd&&"single"===thisBrushOption.brushMode&&thisBrushOption.removeOnClick&&getPanelByPoint(controller,e,localCursorPoint)&&clearCovers(controller)&&(eventParams={isEnd,removeOnClick:!0});return eventParams}function determineBrushType(brushType,panel){return"auto"===brushType?panel.defaultBrushType:brushType}var pointerHandlers={mousedown:function(e){if(this._dragging)handleDragEnd(this,e);else if(!e.target||!e.target.draggable){preventDefault(e);var localCursorPoint=this.group.transformCoordToLocal(e.offsetX,e.offsetY);this._creatingCover=null,(this._creatingPanel=getPanelByPoint(this,e,localCursorPoint))&&(this._dragging=!0,this._track=[localCursorPoint.slice()])}},mousemove:function(e){var x=e.offsetX,y=e.offsetY,localCursorPoint=this.group.transformCoordToLocal(x,y);if(function resetCursor(controller,e,localCursorPoint){if(controller._brushType&&!function isOutsideZrArea(controller,x,y){var zr=controller._zr;return x<0||x>zr.getWidth()||y<0||y>zr.getHeight()}(controller,e.offsetX,e.offsetY)){var zr=controller._zr,covers=controller._covers,currPanel=getPanelByPoint(controller,e,localCursorPoint);if(!controller._dragging)for(var i=0;i<covers.length;i++){var brushOption=covers[i].__brushOption;if(currPanel&&(!0===currPanel||brushOption.panelId===currPanel.panelId)&&coverRenderers[brushOption.brushType].contain(covers[i],localCursorPoint[0],localCursorPoint[1]))return}currPanel&&zr.setCursorStyle("crosshair")}}(this,e,localCursorPoint),this._dragging){preventDefault(e);var eventParams=updateCoverByMouse(this,e,localCursorPoint,!1);eventParams&&trigger(this,eventParams)}},mouseup:function(e){handleDragEnd(this,e)}};function handleDragEnd(controller,e){if(controller._dragging){preventDefault(e);var x=e.offsetX,y=e.offsetY,localCursorPoint=controller.group.transformCoordToLocal(x,y),eventParams=updateCoverByMouse(controller,e,localCursorPoint,!0);controller._dragging=!1,controller._track=[],controller._creatingCover=null,eventParams&&trigger(controller,eventParams)}}var coverRenderers={lineX:getLineRenderer(0),lineY:getLineRenderer(1),rect:{createCover:function(controller,brushOption){function returnInput(range){return range}return createBaseRectCover({toRectRange:returnInput,fromRectRange:returnInput},controller,brushOption,[["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]])},getCreatingRange:function(localTrack){var ends=getTrackEnds(localTrack);return formatRectRange(ends[1][0],ends[1][1],ends[0][0],ends[0][1])},updateCoverShape:function(controller,cover,localRange,brushOption){updateBaseRect(controller,cover,localRange,brushOption)},updateCommon,contain:mainShapeContain},polygon:{createCover:function(controller,brushOption){var cover=new Group.A;return cover.add(new shape_Polyline.A({name:"main",style:makeStyle(brushOption),silent:!0})),cover},getCreatingRange:function(localTrack){return localTrack},endCreating:function(controller,cover){cover.remove(cover.childAt(0)),cover.add(new Polygon.A({name:"main",draggable:!0,drift:(0,util.curry)(driftPolygon,controller,cover),ondragend:(0,util.curry)(trigger,controller,{isEnd:!0})}))},updateCoverShape:function(controller,cover,localRange,brushOption){cover.childAt(0).setShape({points:clipByPanel(controller,cover,localRange)})},updateCommon,contain:mainShapeContain}};function getLineRenderer(xyIndex){return{createCover:function(controller,brushOption){return createBaseRectCover({toRectRange:function(range){var rectRange=[range,[0,100]];return xyIndex&&rectRange.reverse(),rectRange},fromRectRange:function(rectRange){return rectRange[xyIndex]}},controller,brushOption,[[["w"],["e"]],[["n"],["s"]]][xyIndex])},getCreatingRange:function(localTrack){var ends=getTrackEnds(localTrack);return[BrushController_mathMin(ends[0][xyIndex],ends[1][xyIndex]),BrushController_mathMax(ends[0][xyIndex],ends[1][xyIndex])]},updateCoverShape:function(controller,cover,localRange,brushOption){var otherExtent,panel=getPanelByCover(controller,cover);if(true!==panel&&panel.getLinearBrushOtherExtent)otherExtent=panel.getLinearBrushOtherExtent(xyIndex);else{var zr=controller._zr;otherExtent=[0,[zr.getWidth(),zr.getHeight()][1-xyIndex]]}var rectRange=[localRange,otherExtent];xyIndex&&rectRange.reverse(),updateBaseRect(controller,cover,rectRange,brushOption)},updateCommon,contain:mainShapeContain}}const helper_BrushController=BrushController;function makeRectPanelClipPath(rect){return rect=normalizeRect(rect),function(localPoints){return graphic.clipPointsByRect(localPoints,rect)}}function makeLinearBrushOtherExtent(rect,specifiedXYIndex){return rect=normalizeRect(rect),function(xyIndex){var idx=null!=specifiedXYIndex?specifiedXYIndex:xyIndex,brushWidth=idx?rect.width:rect.height,base=idx?rect.x:rect.y;return[base,base+(brushWidth||0)]}}function makeRectIsTargetByCursor(rect,api,targetModel){var boundingRect=normalizeRect(rect);return function(e,localCursorPoint){return boundingRect.contain(localCursorPoint[0],localCursorPoint[1])&&!onIrrelevantElement(e,api,targetModel)}}function normalizeRect(rect){return BoundingRect.A.create(rect)}var elementList=["axisLine","axisTickLabel","axisName"],ParallelAxisView=function(_super){function ParallelAxisView(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=ParallelAxisView.type,_this}return(0,tslib_es6.C6)(ParallelAxisView,_super),ParallelAxisView.prototype.init=function(ecModel,api){_super.prototype.init.apply(this,arguments),(this._brushController=new helper_BrushController(api.getZr())).on("brush",util.bind(this._onBrush,this))},ParallelAxisView.prototype.render=function(axisModel,ecModel,api,payload){if(!function fromAxisAreaSelect(axisModel,ecModel,payload){return payload&&"axisAreaSelect"===payload.type&&ecModel.findComponents({mainType:"parallelAxis",query:payload})[0]===axisModel}(axisModel,ecModel,payload)){this.axisModel=axisModel,this.api=api,this.group.removeAll();var oldAxisGroup=this._axisGroup;if(this._axisGroup=new Group.A,this.group.add(this._axisGroup),axisModel.get("show")){var coordSysModel=function getCoordSysModel(axisModel,ecModel){return ecModel.getComponent("parallel",axisModel.get("parallelIndex"))}(axisModel,ecModel),coordSys=coordSysModel.coordinateSystem,areaSelectStyle=axisModel.getAreaSelectStyle(),areaWidth=areaSelectStyle.width,dim=axisModel.axis.dim,axisLayout=coordSys.getAxisLayout(dim),builderOpt=util.extend({strokeContainThreshold:areaWidth},axisLayout),axisBuilder=new AxisBuilder.A(axisModel,builderOpt);util.each(elementList,axisBuilder.add,axisBuilder),this._axisGroup.add(axisBuilder.getGroup()),this._refreshBrushController(builderOpt,areaSelectStyle,axisModel,coordSysModel,areaWidth,api),graphic.groupTransition(oldAxisGroup,this._axisGroup,axisModel)}}},ParallelAxisView.prototype._refreshBrushController=function(builderOpt,areaSelectStyle,axisModel,coordSysModel,areaWidth,api){var extent=axisModel.axis.getExtent(),extentLen=extent[1]-extent[0],extra=Math.min(30,.1*Math.abs(extentLen)),rect=BoundingRect.A.create({x:extent[0],y:-areaWidth/2,width:extentLen,height:areaWidth});rect.x-=extra,rect.width+=2*extra,this._brushController.mount({enableGlobalPan:!0,rotation:builderOpt.rotation,x:builderOpt.position[0],y:builderOpt.position[1]}).setPanels([{panelId:"pl",clipPath:makeRectPanelClipPath(rect),isTargetByCursor:makeRectIsTargetByCursor(rect,api,coordSysModel),getLinearBrushOtherExtent:makeLinearBrushOtherExtent(rect,0)}]).enableBrush({brushType:"lineX",brushStyle:areaSelectStyle,removeOnClick:!0}).updateCovers(function getCoverInfoList(axisModel){var axis=axisModel.axis;return util.map(axisModel.activeIntervals,function(interval){return{brushType:"lineX",panelId:"pl",range:[axis.dataToCoord(interval[0],!0),axis.dataToCoord(interval[1],!0)]}})}(axisModel))},ParallelAxisView.prototype._onBrush=function(eventParam){var coverInfoList=eventParam.areas,axisModel=this.axisModel,axis=axisModel.axis,intervals=util.map(coverInfoList,function(coverInfo){return[axis.coordToData(coverInfo.range[0],!0),axis.coordToData(coverInfo.range[1],!0)]});(!axisModel.option.realtime===eventParam.isEnd||eventParam.removeOnClick)&&this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:axisModel.id,intervals})},ParallelAxisView.prototype.dispose=function(){this._brushController.dispose()},ParallelAxisView.type="parallelAxis",ParallelAxisView}(view_Component.A);const axis_ParallelAxisView=ParallelAxisView;var parallelAxisAction_actionInfo={type:"axisAreaSelect",event:"axisAreaSelected"};var defaultAxisOption={type:"value",areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",opacity:.3},realtime:!0,z:10};function parallel_install_install(registers){registers.registerComponentView(component_parallel_ParallelView),registers.registerComponentModel(parallel_ParallelModel),registers.registerCoordinateSystem("parallel",parallelCreator),registers.registerPreprocessor(parallelPreprocessor),registers.registerComponentModel(AxisModel),registers.registerComponentView(axis_ParallelAxisView),(0,axisModelCreator.A)(registers,"parallel",AxisModel,defaultAxisOption),function installParallelActions(registers){registers.registerAction(parallelAxisAction_actionInfo,function(payload,ecModel){ecModel.eachComponent({mainType:"parallelAxis",query:payload},function(parallelAxisModel){parallelAxisModel.axis.model.setActiveIntervals(payload.intervals)})}),registers.registerAction("parallelAxisExpand",function(payload,ecModel){ecModel.eachComponent({mainType:"parallel",query:payload},function(parallelModel){parallelModel.setAxisExpand(payload)})})}(registers)}var SankeyPathShape=function SankeyPathShape(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.cpx2=0,this.cpy2=0,this.extent=0},SankeyPath=function(_super){function SankeyPath(opts){return _super.call(this,opts)||this}return(0,tslib_es6.C6)(SankeyPath,_super),SankeyPath.prototype.getDefaultShape=function(){return new SankeyPathShape},SankeyPath.prototype.buildPath=function(ctx,shape){var extent=shape.extent;ctx.moveTo(shape.x1,shape.y1),ctx.bezierCurveTo(shape.cpx1,shape.cpy1,shape.cpx2,shape.cpy2,shape.x2,shape.y2),"vertical"===shape.orient?(ctx.lineTo(shape.x2+extent,shape.y2),ctx.bezierCurveTo(shape.cpx2+extent,shape.cpy2,shape.cpx1+extent,shape.cpy1,shape.x1+extent,shape.y1)):(ctx.lineTo(shape.x2,shape.y2+extent),ctx.bezierCurveTo(shape.cpx2,shape.cpy2+extent,shape.cpx1,shape.cpy1+extent,shape.x1,shape.y1+extent)),ctx.closePath()},SankeyPath.prototype.highlight=function(){(0,states.HY)(this)},SankeyPath.prototype.downplay=function(){(0,states.SD)(this)},SankeyPath}(Path.Ay),SankeyView=function(_super){function SankeyView(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=SankeyView.type,_this._focusAdjacencyDisabled=!1,_this}return(0,tslib_es6.C6)(SankeyView,_super),SankeyView.prototype.render=function(seriesModel,ecModel,api){var sankeyView=this,graph=seriesModel.getGraph(),group=this.group,layoutInfo=seriesModel.layoutInfo,width=layoutInfo.width,height=layoutInfo.height,nodeData=seriesModel.getData(),edgeData=seriesModel.getData("edge"),orient=seriesModel.get("orient");this._model=seriesModel,group.removeAll(),group.x=layoutInfo.x,group.y=layoutInfo.y,graph.eachEdge(function(edge){var curve=new SankeyPath,ecData=(0,innerStore.z)(curve);ecData.dataIndex=edge.dataIndex,ecData.seriesIndex=seriesModel.seriesIndex,ecData.dataType="edge";var x1,y1,x2,y2,cpx1,cpy1,cpx2,cpy2,edgeModel=edge.getModel(),lineStyleModel=edgeModel.getModel("lineStyle"),curvature=lineStyleModel.get("curveness"),n1Layout=edge.node1.getLayout(),node1Model=edge.node1.getModel(),dragX1=node1Model.get("localX"),dragY1=node1Model.get("localY"),n2Layout=edge.node2.getLayout(),node2Model=edge.node2.getModel(),dragX2=node2Model.get("localX"),dragY2=node2Model.get("localY"),edgeLayout=edge.getLayout();curve.shape.extent=Math.max(1,edgeLayout.dy),curve.shape.orient=orient,"vertical"===orient?(x1=(null!=dragX1?dragX1*width:n1Layout.x)+edgeLayout.sy,y1=(null!=dragY1?dragY1*height:n1Layout.y)+n1Layout.dy,x2=(null!=dragX2?dragX2*width:n2Layout.x)+edgeLayout.ty,cpx1=x1,cpy1=y1*(1-curvature)+(y2=null!=dragY2?dragY2*height:n2Layout.y)*curvature,cpx2=x2,cpy2=y1*curvature+y2*(1-curvature)):(x1=(null!=dragX1?dragX1*width:n1Layout.x)+n1Layout.dx,y1=(null!=dragY1?dragY1*height:n1Layout.y)+edgeLayout.sy,cpx1=x1*(1-curvature)+(x2=null!=dragX2?dragX2*width:n2Layout.x)*curvature,cpy1=y1,cpx2=x1*curvature+x2*(1-curvature),cpy2=y2=(null!=dragY2?dragY2*height:n2Layout.y)+edgeLayout.ty),curve.setShape({x1,y1,x2,y2,cpx1,cpy1,cpx2,cpy2}),curve.useStyle(lineStyleModel.getItemStyle()),applyCurveStyle(curve.style,orient,edge);var defaultEdgeLabelText=""+edgeModel.get("value"),edgeLabelStateModels=(0,labelStyle.lx)(edgeModel,"edgeLabel");(0,labelStyle.qM)(curve,edgeLabelStateModels,{labelFetcher:{getFormattedLabel:function(dataIndex,stateName,dataType,labelDimIndex,formatter,extendParams){return seriesModel.getFormattedLabel(dataIndex,stateName,"edge",labelDimIndex,(0,util.retrieve3)(formatter,edgeLabelStateModels.normal&&edgeLabelStateModels.normal.get("formatter"),defaultEdgeLabelText),extendParams)}},labelDataIndex:edge.dataIndex,defaultText:defaultEdgeLabelText}),curve.setTextConfig({position:"inside"});var emphasisModel=edgeModel.getModel("emphasis");(0,states.Mx)(curve,edgeModel,"lineStyle",function(model){var style=model.getItemStyle();return applyCurveStyle(style,orient,edge),style}),group.add(curve),edgeData.setItemGraphicEl(edge.dataIndex,curve);var focus=emphasisModel.get("focus");(0,states.Lm)(curve,"adjacency"===focus?edge.getAdjacentDataIndices():"trajectory"===focus?edge.getTrajectoryDataIndices():focus,emphasisModel.get("blurScope"),emphasisModel.get("disabled"))}),graph.eachNode(function(node){var layout=node.getLayout(),itemModel=node.getModel(),dragX=itemModel.get("localX"),dragY=itemModel.get("localY"),emphasisModel=itemModel.getModel("emphasis"),borderRadius=itemModel.get(["itemStyle","borderRadius"])||0,rect=new Rect.A({shape:{x:null!=dragX?dragX*width:layout.x,y:null!=dragY?dragY*height:layout.y,width:layout.dx,height:layout.dy,r:borderRadius},style:itemModel.getModel("itemStyle").getItemStyle(),z2:10});(0,labelStyle.qM)(rect,(0,labelStyle.lx)(itemModel),{labelFetcher:{getFormattedLabel:function(dataIndex,stateName){return seriesModel.getFormattedLabel(dataIndex,stateName,"node")}},labelDataIndex:node.dataIndex,defaultText:node.id}),rect.disableLabelAnimation=!0,rect.setStyle("fill",node.getVisual("color")),rect.setStyle("decal",node.getVisual("style").decal),(0,states.Mx)(rect,itemModel),group.add(rect),nodeData.setItemGraphicEl(node.dataIndex,rect),(0,innerStore.z)(rect).dataType="node";var focus=emphasisModel.get("focus");(0,states.Lm)(rect,"adjacency"===focus?node.getAdjacentDataIndices():"trajectory"===focus?node.getTrajectoryDataIndices():focus,emphasisModel.get("blurScope"),emphasisModel.get("disabled"))}),nodeData.eachItemGraphicEl(function(el,dataIndex){nodeData.getItemModel(dataIndex).get("draggable")&&(el.drift=function(dx,dy){sankeyView._focusAdjacencyDisabled=!0,this.shape.x+=dx,this.shape.y+=dy,this.dirty(),api.dispatchAction({type:"dragNode",seriesId:seriesModel.id,dataIndex:nodeData.getRawIndex(dataIndex),localX:this.shape.x/width,localY:this.shape.y/height})},el.ondragend=function(){sankeyView._focusAdjacencyDisabled=!1},el.draggable=!0,el.cursor="move")}),!this._data&&seriesModel.isAnimationEnabled()&&group.setClipPath(function SankeyView_createGridClipShape(rect,seriesModel,cb){var rectEl=new Rect.A({shape:{x:rect.x-10,y:rect.y-10,width:0,height:rect.height+20}});return basicTransition.LW(rectEl,{shape:{width:rect.width+20}},seriesModel,cb),rectEl}(group.getBoundingRect(),seriesModel,function(){group.removeClipPath()})),this._data=seriesModel.getData()},SankeyView.prototype.dispose=function(){},SankeyView.type="sankey",SankeyView}(Chart.A);function applyCurveStyle(curveProps,orient,edge){switch(curveProps.fill){case"source":curveProps.fill=edge.node1.getVisual("color"),curveProps.decal=edge.node1.getVisual("style").decal;break;case"target":curveProps.fill=edge.node2.getVisual("color"),curveProps.decal=edge.node2.getVisual("style").decal;break;case"gradient":var sourceColor=edge.node1.getVisual("color"),targetColor=edge.node2.getVisual("color");(0,util.isString)(sourceColor)&&(0,util.isString)(targetColor)&&(curveProps.fill=new LinearGradient.A(0,0,+("horizontal"===orient),+("vertical"===orient),[{color:sourceColor,offset:0},{color:targetColor,offset:1}]))}}const sankey_SankeyView=SankeyView;var SankeySeriesModel=function(_super){function SankeySeriesModel(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=SankeySeriesModel.type,_this}return(0,tslib_es6.C6)(SankeySeriesModel,_super),SankeySeriesModel.prototype.getInitialData=function(option,ecModel){var links=option.edges||option.links||[],nodes=option.data||option.nodes||[],levels=option.levels||[];this.levelModels=[];for(var levelModels=this.levelModels,i=0;i<levels.length;i++)null!=levels[i].depth&&levels[i].depth>=0&&(levelModels[levels[i].depth]=new Model.A(levels[i],this,ecModel));var graph=createGraphFromNodeEdge(nodes,links,this,!0,function beforeLink(nodeData,edgeData){nodeData.wrapMethod("getItemModel",function(model,idx){var seriesModel=model.parentModel,layout=seriesModel.getData().getItemLayout(idx);if(layout){var nodeDepth=layout.depth,levelModel=seriesModel.levelModels[nodeDepth];levelModel&&(model.parentModel=levelModel)}return model}),edgeData.wrapMethod("getItemModel",function(model,idx){var seriesModel=model.parentModel,layout=seriesModel.getGraph().getEdgeByIndex(idx).node1.getLayout();if(layout){var depth=layout.depth,levelModel=seriesModel.levelModels[depth];levelModel&&(model.parentModel=levelModel)}return model})});return graph.data},SankeySeriesModel.prototype.setNodePosition=function(dataIndex,localPosition){var dataItem=(this.option.data||this.option.nodes)[dataIndex];dataItem.localX=localPosition[0],dataItem.localY=localPosition[1]},SankeySeriesModel.prototype.getGraph=function(){return this.getData().graph},SankeySeriesModel.prototype.getEdgeData=function(){return this.getGraph().edgeData},SankeySeriesModel.prototype.formatTooltip=function(dataIndex,multipleSeries,dataType){function noValue(val){return isNaN(val)||null==val}if("edge"===dataType){var params=this.getDataParams(dataIndex,dataType),rawDataOpt=params.data,edgeValue=params.value,edgeName=rawDataOpt.source+" -- "+rawDataOpt.target;return(0,tooltipMarkup.Qx)("nameValue",{name:edgeName,value:edgeValue,noValue:noValue(edgeValue)})}var value=this.getGraph().getNodeByIndex(dataIndex).getLayout().value,name_1=this.getDataParams(dataIndex,dataType).data.name;return(0,tooltipMarkup.Qx)("nameValue",{name:null!=name_1?name_1+"":null,value,noValue:noValue(value)})},SankeySeriesModel.prototype.optionUpdated=function(){},SankeySeriesModel.prototype.getDataParams=function(dataIndex,dataType){var params=_super.prototype.getDataParams.call(this,dataIndex,dataType);if(null==params.value&&"node"===dataType){var nodeValue=this.getGraph().getNodeByIndex(dataIndex).getLayout().value;params.value=nodeValue}return params},SankeySeriesModel.type="series.sankey",SankeySeriesModel.defaultOption={z:2,coordinateSystem:"view",left:"5%",top:"5%",right:"20%",bottom:"5%",orient:"horizontal",nodeWidth:20,nodeGap:8,draggable:!0,layoutIterations:32,label:{show:!0,position:"right",fontSize:12},edgeLabel:{show:!1,fontSize:12},levels:[],nodeAlign:"justify",lineStyle:{color:"#314656",opacity:.2,curveness:.5},emphasis:{label:{show:!0},lineStyle:{opacity:.5}},select:{itemStyle:{borderColor:"#212121"}},animationEasing:"linear",animationDuration:1e3},SankeySeriesModel}(Series.A);const SankeySeries=SankeySeriesModel;function sankeyLayout(ecModel,api){ecModel.eachSeriesByType("sankey",function(seriesModel){var nodeWidth=seriesModel.get("nodeWidth"),nodeGap=seriesModel.get("nodeGap"),layoutInfo=function sankeyLayout_getViewRect(seriesModel,api){return layout.dV(seriesModel.getBoxLayoutParams(),{width:api.getWidth(),height:api.getHeight()})}(seriesModel,api);seriesModel.layoutInfo=layoutInfo;var width=layoutInfo.width,height=layoutInfo.height,graph=seriesModel.getGraph(),nodes=graph.nodes,edges=graph.edges;!function computeNodeValues(nodes){util.each(nodes,function(node){var value1=sum(node.outEdges,getEdgeValue),value2=sum(node.inEdges,getEdgeValue),nodeRawValue=node.getValue()||0,value=Math.max(value1,value2,nodeRawValue);node.setLayout({value},!0)})}(nodes),function layoutSankey(nodes,edges,nodeWidth,nodeGap,width,height,iterations,orient,nodeAlign){(function computeNodeBreadths(nodes,edges,nodeWidth,width,height,orient,nodeAlign){for(var remainEdges=[],indegreeArr=[],zeroIndegrees=[],nextTargetNode=[],x=0,i=0;i<edges.length;i++)remainEdges[i]=1;for(i=0;i<nodes.length;i++)indegreeArr[i]=nodes[i].inEdges.length,0===indegreeArr[i]&&zeroIndegrees.push(nodes[i]);var maxNodeDepth=-1;for(;zeroIndegrees.length;){for(var idx=0;idx<zeroIndegrees.length;idx++){var node=zeroIndegrees[idx],item=node.hostGraph.data.getRawDataItem(node.dataIndex),isItemDepth=null!=item.depth&&item.depth>=0;isItemDepth&&item.depth>maxNodeDepth&&(maxNodeDepth=item.depth),node.setLayout({depth:isItemDepth?item.depth:x},!0),"vertical"===orient?node.setLayout({dy:nodeWidth},!0):node.setLayout({dx:nodeWidth},!0);for(var edgeIdx=0;edgeIdx<node.outEdges.length;edgeIdx++){var edge=node.outEdges[edgeIdx];remainEdges[edges.indexOf(edge)]=0;var targetNode=edge.node2;0===--indegreeArr[nodes.indexOf(targetNode)]&&nextTargetNode.indexOf(targetNode)<0&&nextTargetNode.push(targetNode)}}++x,zeroIndegrees=nextTargetNode,nextTargetNode=[]}for(i=0;i<remainEdges.length;i++)if(1===remainEdges[i])throw new Error("Sankey is a DAG, the original data has cycle!");var maxDepth=maxNodeDepth>x-1?maxNodeDepth:x-1;nodeAlign&&"left"!==nodeAlign&&function adjustNodeWithNodeAlign(nodes,nodeAlign,orient,maxDepth){if("right"===nodeAlign){for(var nextSourceNode=[],remainNodes=nodes,nodeHeight=0;remainNodes.length;){for(var i=0;i<remainNodes.length;i++){var node=remainNodes[i];node.setLayout({skNodeHeight:nodeHeight},!0);for(var j=0;j<node.inEdges.length;j++){var edge=node.inEdges[j];nextSourceNode.indexOf(edge.node1)<0&&nextSourceNode.push(edge.node1)}}remainNodes=nextSourceNode,nextSourceNode=[],++nodeHeight}util.each(nodes,function(node){isNodeDepth(node)||node.setLayout({depth:Math.max(0,maxDepth-node.getLayout().skNodeHeight)},!0)})}else"justify"===nodeAlign&&function moveSinksRight(nodes,maxDepth){util.each(nodes,function(node){isNodeDepth(node)||node.outEdges.length||node.setLayout({depth:maxDepth},!0)})}(nodes,maxDepth)}(nodes,nodeAlign,0,maxDepth);var kx="vertical"===orient?(height-nodeWidth)/maxDepth:(width-nodeWidth)/maxDepth;!function scaleNodeBreadths(nodes,kx,orient){util.each(nodes,function(node){var nodeDepth=node.getLayout().depth*kx;"vertical"===orient?node.setLayout({y:nodeDepth},!0):node.setLayout({x:nodeDepth},!0)})}(nodes,kx,orient)})(nodes,edges,nodeWidth,width,height,orient,nodeAlign),function computeNodeDepths(nodes,edges,height,width,nodeGap,iterations,orient){var nodesByBreadth=function prepareNodesByBreadth(nodes,orient){var nodesByBreadth=[],keyAttr="vertical"===orient?"y":"x",groupResult=(0,util_model.Sq)(nodes,function(node){return node.getLayout()[keyAttr]});return groupResult.keys.sort(function(a,b){return a-b}),util.each(groupResult.keys,function(key){nodesByBreadth.push(groupResult.buckets.get(key))}),nodesByBreadth}(nodes,orient);(function initializeNodeDepth(nodesByBreadth,edges,height,width,nodeGap,orient){var minKy=1/0;util.each(nodesByBreadth,function(nodes){var n=nodes.length,sum=0;util.each(nodes,function(node){sum+=node.getLayout().value});var ky="vertical"===orient?(width-(n-1)*nodeGap)/sum:(height-(n-1)*nodeGap)/sum;ky<minKy&&(minKy=ky)}),util.each(nodesByBreadth,function(nodes){util.each(nodes,function(node,i){var nodeDy=node.getLayout().value*minKy;"vertical"===orient?(node.setLayout({x:i},!0),node.setLayout({dx:nodeDy},!0)):(node.setLayout({y:i},!0),node.setLayout({dy:nodeDy},!0))})}),util.each(edges,function(edge){var edgeDy=+edge.getValue()*minKy;edge.setLayout({dy:edgeDy},!0)})})(nodesByBreadth,edges,height,width,nodeGap,orient),resolveCollisions(nodesByBreadth,nodeGap,height,width,orient);for(var alpha=1;iterations>0;iterations--)relaxRightToLeft(nodesByBreadth,alpha*=.99,orient),resolveCollisions(nodesByBreadth,nodeGap,height,width,orient),relaxLeftToRight(nodesByBreadth,alpha,orient),resolveCollisions(nodesByBreadth,nodeGap,height,width,orient)}(nodes,edges,height,width,nodeGap,iterations,orient),function computeEdgeDepths(nodes,orient){var keyAttr="vertical"===orient?"x":"y";util.each(nodes,function(node){node.outEdges.sort(function(a,b){return a.node2.getLayout()[keyAttr]-b.node2.getLayout()[keyAttr]}),node.inEdges.sort(function(a,b){return a.node1.getLayout()[keyAttr]-b.node1.getLayout()[keyAttr]})}),util.each(nodes,function(node){var sy=0,ty=0;util.each(node.outEdges,function(edge){edge.setLayout({sy},!0),sy+=edge.getLayout().dy}),util.each(node.inEdges,function(edge){edge.setLayout({ty},!0),ty+=edge.getLayout().dy})})}(nodes,orient)}(nodes,edges,nodeWidth,nodeGap,width,height,0!==util.filter(nodes,function(node){return 0===node.getLayout().value}).length?0:seriesModel.get("layoutIterations"),seriesModel.get("orient"),seriesModel.get("nodeAlign"))})}function isNodeDepth(node){var item=node.hostGraph.data.getRawDataItem(node.dataIndex);return null!=item.depth&&item.depth>=0}function resolveCollisions(nodesByBreadth,nodeGap,height,width,orient){var keyAttr="vertical"===orient?"x":"y";util.each(nodesByBreadth,function(nodes){var nodeX,node,dy;nodes.sort(function(a,b){return a.getLayout()[keyAttr]-b.getLayout()[keyAttr]});for(var y0=0,n=nodes.length,nodeDyAttr="vertical"===orient?"dx":"dy",i=0;i<n;i++)(dy=y0-(node=nodes[i]).getLayout()[keyAttr])>0&&(nodeX=node.getLayout()[keyAttr]+dy,"vertical"===orient?node.setLayout({x:nodeX},!0):node.setLayout({y:nodeX},!0)),y0=node.getLayout()[keyAttr]+node.getLayout()[nodeDyAttr]+nodeGap;if((dy=y0-nodeGap-("vertical"===orient?width:height))>0){nodeX=node.getLayout()[keyAttr]-dy,"vertical"===orient?node.setLayout({x:nodeX},!0):node.setLayout({y:nodeX},!0),y0=nodeX;for(i=n-2;i>=0;--i)(dy=(node=nodes[i]).getLayout()[keyAttr]+node.getLayout()[nodeDyAttr]+nodeGap-y0)>0&&(nodeX=node.getLayout()[keyAttr]-dy,"vertical"===orient?node.setLayout({x:nodeX},!0):node.setLayout({y:nodeX},!0)),y0=node.getLayout()[keyAttr]}})}function relaxRightToLeft(nodesByBreadth,alpha,orient){util.each(nodesByBreadth.slice().reverse(),function(nodes){util.each(nodes,function(node){if(node.outEdges.length){var y=sum(node.outEdges,weightedTarget,orient)/sum(node.outEdges,getEdgeValue);if(isNaN(y)){var len=node.outEdges.length;y=len?sum(node.outEdges,centerTarget,orient)/len:0}if("vertical"===orient){var nodeX=node.getLayout().x+(y-center(node,orient))*alpha;node.setLayout({x:nodeX},!0)}else{var nodeY=node.getLayout().y+(y-center(node,orient))*alpha;node.setLayout({y:nodeY},!0)}}})})}function weightedTarget(edge,orient){return center(edge.node2,orient)*edge.getValue()}function centerTarget(edge,orient){return center(edge.node2,orient)}function weightedSource(edge,orient){return center(edge.node1,orient)*edge.getValue()}function centerSource(edge,orient){return center(edge.node1,orient)}function center(node,orient){return"vertical"===orient?node.getLayout().x+node.getLayout().dx/2:node.getLayout().y+node.getLayout().dy/2}function getEdgeValue(edge){return edge.getValue()}function sum(array,cb,orient){for(var sum=0,len=array.length,i=-1;++i<len;){var value=+cb(array[i],orient);isNaN(value)||(sum+=value)}return sum}function relaxLeftToRight(nodesByBreadth,alpha,orient){util.each(nodesByBreadth,function(nodes){util.each(nodes,function(node){if(node.inEdges.length){var y=sum(node.inEdges,weightedSource,orient)/sum(node.inEdges,getEdgeValue);if(isNaN(y)){var len=node.inEdges.length;y=len?sum(node.inEdges,centerSource,orient)/len:0}if("vertical"===orient){var nodeX=node.getLayout().x+(y-center(node,orient))*alpha;node.setLayout({x:nodeX},!0)}else{var nodeY=node.getLayout().y+(y-center(node,orient))*alpha;node.setLayout({y:nodeY},!0)}}})})}function sankeyVisual(ecModel){ecModel.eachSeriesByType("sankey",function(seriesModel){var graph=seriesModel.getGraph(),nodes=graph.nodes,edges=graph.edges;if(nodes.length){var minValue_1=1/0,maxValue_1=-1/0;util.each(nodes,function(node){var nodeValue=node.getLayout().value;nodeValue<minValue_1&&(minValue_1=nodeValue),nodeValue>maxValue_1&&(maxValue_1=nodeValue)}),util.each(nodes,function(node){var mapValueToColor=new VisualMapping.A({type:"color",mappingMethod:"linear",dataExtent:[minValue_1,maxValue_1],visual:seriesModel.get("color")}).mapValueToVisual(node.getLayout().value),customColor=node.getModel().get(["itemStyle","color"]);null!=customColor?(node.setVisual("color",customColor),node.setVisual("style",{fill:customColor})):(node.setVisual("color",mapValueToColor),node.setVisual("style",{fill:mapValueToColor}))})}edges.length&&util.each(edges,function(edge){var edgeStyle=edge.getModel().get("lineStyle");edge.setVisual("style",edgeStyle)})})}var dimensionHelper=__webpack_require__("./node_modules/echarts/lib/data/helper/dimensionHelper.js"),WhiskerBoxCommonMixin=function(){function WhiskerBoxCommonMixin(){}return WhiskerBoxCommonMixin.prototype._hasEncodeRule=function(key){var encodeRules=this.getEncode();return encodeRules&&null!=encodeRules.get(key)},WhiskerBoxCommonMixin.prototype.getInitialData=function(option,ecModel){var ordinalMeta,addOrdinal,xAxisModel=ecModel.getComponent("xAxis",this.get("xAxisIndex")),yAxisModel=ecModel.getComponent("yAxis",this.get("yAxisIndex")),xAxisType=xAxisModel.get("type"),yAxisType=yAxisModel.get("type");"category"===xAxisType?(option.layout="horizontal",ordinalMeta=xAxisModel.getOrdinalMeta(),addOrdinal=!this._hasEncodeRule("x")):"category"===yAxisType?(option.layout="vertical",ordinalMeta=yAxisModel.getOrdinalMeta(),addOrdinal=!this._hasEncodeRule("y")):option.layout=option.layout||"horizontal";var coordDims=["x","y"],baseAxisDimIndex="horizontal"===option.layout?0:1,baseAxisDim=this._baseAxisDim=coordDims[baseAxisDimIndex],otherAxisDim=coordDims[1-baseAxisDimIndex],axisModels=[xAxisModel,yAxisModel],baseAxisType=axisModels[baseAxisDimIndex].get("type"),otherAxisType=axisModels[1-baseAxisDimIndex].get("type"),data=option.data;if(data&&addOrdinal){var newOptionData_1=[];util.each(data,function(item,index){var newItem;util.isArray(item)?(newItem=item.slice(),item.unshift(index)):util.isArray(item.value)?((newItem=util.extend({},item)).value=newItem.value.slice(),item.value.unshift(index)):newItem=item,newOptionData_1.push(newItem)}),option.data=newOptionData_1}var defaultValueDimensions=this.defaultValueDimensions,coordDimensions=[{name:baseAxisDim,type:(0,dimensionHelper.B)(baseAxisType),ordinalMeta,otherDims:{tooltip:!1,itemName:0},dimsDef:["base"]},{name:otherAxisDim,type:(0,dimensionHelper.B)(otherAxisType),dimsDef:defaultValueDimensions.slice()}];return(0,createSeriesDataSimply.A)(this,{coordDimensions,dimensionsCount:defaultValueDimensions.length+1,encodeDefaulter:util.curry(sourceHelper.OC,coordDimensions,this)})},WhiskerBoxCommonMixin.prototype.getBaseAxis=function(){var dim=this._baseAxisDim;return this.ecModel.getComponent(dim+"Axis",this.get(dim+"AxisIndex")).axis},WhiskerBoxCommonMixin}(),BoxplotSeriesModel=function(_super){function BoxplotSeriesModel(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=BoxplotSeriesModel.type,_this.defaultValueDimensions=[{name:"min",defaultTooltip:!0},{name:"Q1",defaultTooltip:!0},{name:"median",defaultTooltip:!0},{name:"Q3",defaultTooltip:!0},{name:"max",defaultTooltip:!0}],_this.visualDrawType="stroke",_this}return(0,tslib_es6.C6)(BoxplotSeriesModel,_super),BoxplotSeriesModel.type="series.boxplot",BoxplotSeriesModel.dependencies=["xAxis","yAxis","grid"],BoxplotSeriesModel.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,boxWidth:[7,50],itemStyle:{color:"#fff",borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2,shadowBlur:5,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}},animationDuration:800},BoxplotSeriesModel}(Series.A);(0,util.mixin)(BoxplotSeriesModel,WhiskerBoxCommonMixin,!0);const BoxplotSeries=BoxplotSeriesModel;var BoxplotView=function(_super){function BoxplotView(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=BoxplotView.type,_this}return(0,tslib_es6.C6)(BoxplotView,_super),BoxplotView.prototype.render=function(seriesModel,ecModel,api){var data=seriesModel.getData(),group=this.group,oldData=this._data;this._data||group.removeAll();var constDim="horizontal"===seriesModel.get("layout")?1:0;data.diff(oldData).add(function(newIdx){if(data.hasValue(newIdx)){var symbolEl=createNormalBox(data.getItemLayout(newIdx),data,newIdx,constDim,!0);data.setItemGraphicEl(newIdx,symbolEl),group.add(symbolEl)}}).update(function(newIdx,oldIdx){var symbolEl=oldData.getItemGraphicEl(oldIdx);if(data.hasValue(newIdx)){var itemLayout=data.getItemLayout(newIdx);symbolEl?((0,basicTransition.ap)(symbolEl),updateNormalBoxData(itemLayout,symbolEl,data,newIdx)):symbolEl=createNormalBox(itemLayout,data,newIdx,constDim),group.add(symbolEl),data.setItemGraphicEl(newIdx,symbolEl)}else group.remove(symbolEl)}).remove(function(oldIdx){var el=oldData.getItemGraphicEl(oldIdx);el&&group.remove(el)}).execute(),this._data=data},BoxplotView.prototype.remove=function(ecModel){var group=this.group,data=this._data;this._data=null,data&&data.eachItemGraphicEl(function(el){el&&group.remove(el)})},BoxplotView.type="boxplot",BoxplotView}(Chart.A),BoxPathShape=function BoxPathShape(){},BoxPath=function(_super){function BoxPath(opts){var _this=_super.call(this,opts)||this;return _this.type="boxplotBoxPath",_this}return(0,tslib_es6.C6)(BoxPath,_super),BoxPath.prototype.getDefaultShape=function(){return new BoxPathShape},BoxPath.prototype.buildPath=function(ctx,shape){var ends=shape.points,i=0;for(ctx.moveTo(ends[i][0],ends[i][1]),i++;i<4;i++)ctx.lineTo(ends[i][0],ends[i][1]);for(ctx.closePath();i<ends.length;i++)ctx.moveTo(ends[i][0],ends[i][1]),i++,ctx.lineTo(ends[i][0],ends[i][1])},BoxPath}(Path.Ay);function createNormalBox(itemLayout,data,dataIndex,constDim,isInit){var ends=itemLayout.ends,el=new BoxPath({shape:{points:isInit?transInit(ends,constDim,itemLayout):ends}});return updateNormalBoxData(itemLayout,el,data,dataIndex,isInit),el}function updateNormalBoxData(itemLayout,el,data,dataIndex,isInit){var seriesModel=data.hostModel;(0,graphic[isInit?"initProps":"updateProps"])(el,{shape:{points:itemLayout.ends}},seriesModel,dataIndex),el.useStyle(data.getItemVisual(dataIndex,"style")),el.style.strokeNoScale=!0,el.z2=100;var itemModel=data.getItemModel(dataIndex),emphasisModel=itemModel.getModel("emphasis");(0,states.Mx)(el,itemModel),(0,states.Lm)(el,emphasisModel.get("focus"),emphasisModel.get("blurScope"),emphasisModel.get("disabled"))}function transInit(points,dim,itemLayout){return util.map(points,function(point){return(point=point.slice())[dim]=itemLayout.initBaseline,point})}const boxplot_BoxplotView=BoxplotView;var boxplotLayout_each=util.each;function boxplotLayout(ecModel){var groupResult=function groupSeriesByAxis(ecModel){var result=[],axisList=[];return ecModel.eachSeriesByType("boxplot",function(seriesModel){var baseAxis=seriesModel.getBaseAxis(),idx=util.indexOf(axisList,baseAxis);idx<0&&(idx=axisList.length,axisList[idx]=baseAxis,result[idx]={axis:baseAxis,seriesModels:[]}),result[idx].seriesModels.push(seriesModel)}),result}(ecModel);boxplotLayout_each(groupResult,function(groupItem){var seriesModels=groupItem.seriesModels;seriesModels.length&&(!function calculateBase(groupItem){var bandWidth,baseAxis=groupItem.axis,seriesModels=groupItem.seriesModels,seriesCount=seriesModels.length,boxWidthList=groupItem.boxWidthList=[],boxOffsetList=groupItem.boxOffsetList=[],boundList=[];if("category"===baseAxis.type)bandWidth=baseAxis.getBandWidth();else{var maxDataCount_1=0;boxplotLayout_each(seriesModels,function(seriesModel){maxDataCount_1=Math.max(maxDataCount_1,seriesModel.getData().count())});var extent=baseAxis.getExtent();bandWidth=Math.abs(extent[1]-extent[0])/maxDataCount_1}boxplotLayout_each(seriesModels,function(seriesModel){var boxWidthBound=seriesModel.get("boxWidth");util.isArray(boxWidthBound)||(boxWidthBound=[boxWidthBound,boxWidthBound]),boundList.push([(0,number.lo)(boxWidthBound[0],bandWidth)||0,(0,number.lo)(boxWidthBound[1],bandWidth)||0])});var availableWidth=.8*bandWidth-2,boxGap=availableWidth/seriesCount*.3,boxWidth=(availableWidth-boxGap*(seriesCount-1))/seriesCount,base=boxWidth/2-availableWidth/2;boxplotLayout_each(seriesModels,function(seriesModel,idx){boxOffsetList.push(base),base+=boxGap+boxWidth,boxWidthList.push(Math.min(Math.max(boxWidth,boundList[idx][0]),boundList[idx][1]))})}(groupItem),boxplotLayout_each(seriesModels,function(seriesModel,idx){!function layoutSingleSeries(seriesModel,offset,boxWidth){var coordSys=seriesModel.coordinateSystem,data=seriesModel.getData(),halfWidth=boxWidth/2,cDimIdx="horizontal"===seriesModel.get("layout")?0:1,vDimIdx=1-cDimIdx,coordDims=["x","y"],cDim=data.mapDimension(coordDims[cDimIdx]),vDims=data.mapDimensionsAll(coordDims[vDimIdx]);if(null==cDim||vDims.length<5)return;for(var dataIndex=0;dataIndex<data.count();dataIndex++){var axisDimVal=data.get(cDim,dataIndex),median=getPoint(axisDimVal,vDims[2],dataIndex),end1=getPoint(axisDimVal,vDims[0],dataIndex),end2=getPoint(axisDimVal,vDims[1],dataIndex),end4=getPoint(axisDimVal,vDims[3],dataIndex),end5=getPoint(axisDimVal,vDims[4],dataIndex),ends=[];addBodyEnd(ends,end2,!1),addBodyEnd(ends,end4,!0),ends.push(end1,end2,end5,end4),layEndLine(ends,end1),layEndLine(ends,end5),layEndLine(ends,median),data.setItemLayout(dataIndex,{initBaseline:median[vDimIdx],ends})}function getPoint(axisDimVal,dim,dataIndex){var point,val=data.get(dim,dataIndex),p=[];return p[cDimIdx]=axisDimVal,p[vDimIdx]=val,isNaN(axisDimVal)||isNaN(val)?point=[NaN,NaN]:(point=coordSys.dataToPoint(p))[cDimIdx]+=offset,point}function addBodyEnd(ends,point,start){var point1=point.slice(),point2=point.slice();point1[cDimIdx]+=halfWidth,point2[cDimIdx]-=halfWidth,start?ends.push(point1,point2):ends.push(point2,point1)}function layEndLine(ends,endCenter){var from=endCenter.slice(),to=endCenter.slice();from[cDimIdx]-=halfWidth,to[cDimIdx]+=halfWidth,ends.push(from,to)}}(seriesModel,groupItem.boxOffsetList[idx],groupItem.boxWidthList[idx])}))})}var log=__webpack_require__("./node_modules/echarts/lib/util/log.js"),types=__webpack_require__("./node_modules/echarts/lib/util/types.js"),boxplotTransform={type:"echarts:boxplot",transform:function transform(params){var upstream=params.upstream;if(upstream.sourceFormat!==types.Km){0,(0,log.$8)("")}var result=function prepareBoxplotData(rawData,opt){for(var boxData=[],outliers=[],boundIQR=(opt=opt||{}).boundIQR,useExtreme="none"===boundIQR||0===boundIQR,i=0;i<rawData.length;i++){var ascList=(0,number.Y6)(rawData[i].slice()),Q1=(0,number.YV)(ascList,.25),Q2=(0,number.YV)(ascList,.5),Q3=(0,number.YV)(ascList,.75),min=ascList[0],max=ascList[ascList.length-1],bound=(null==boundIQR?1.5:boundIQR)*(Q3-Q1),low=useExtreme?min:Math.max(min,Q1-bound),high=useExtreme?max:Math.min(max,Q3+bound),itemNameFormatter=opt.itemNameFormatter,itemName=(0,util.isFunction)(itemNameFormatter)?itemNameFormatter({value:i}):(0,util.isString)(itemNameFormatter)?itemNameFormatter.replace("{value}",i+""):i+"";boxData.push([itemName,low,Q1,Q2,Q3,high]);for(var j=0;j<ascList.length;j++){var dataItem=ascList[j];if(dataItem<low||dataItem>high){var outlier=[itemName,dataItem];outliers.push(outlier)}}}return{boxData,outliers}}(upstream.getRawData(),params.config);return[{dimensions:["ItemName","Low","Q1","Q2","Q3","High"],data:result.boxData},{data:result.outliers}]}};var createClipPathFromCoordSys=__webpack_require__("./node_modules/echarts/lib/chart/helper/createClipPathFromCoordSys.js"),createRenderPlanner=__webpack_require__("./node_modules/echarts/lib/chart/helper/createRenderPlanner.js"),positiveBorderColorQuery=["itemStyle","borderColor"],negativeBorderColorQuery=["itemStyle","borderColor0"],dojiBorderColorQuery=["itemStyle","borderColorDoji"],positiveColorQuery=["itemStyle","color"],negativeColorQuery=["itemStyle","color0"];function getColor(sign,model){return model.get(sign>0?positiveColorQuery:negativeColorQuery)}function getBorderColor(sign,model){return model.get(0===sign?dojiBorderColorQuery:sign>0?positiveBorderColorQuery:negativeBorderColorQuery)}const candlestick_candlestickVisual={seriesType:"candlestick",plan:(0,createRenderPlanner.A)(),performRawSeries:!0,reset:function(seriesModel,ecModel){if(!ecModel.isSeriesFiltered(seriesModel))return!seriesModel.pipelineContext.large&&{progress:function(params,data){for(var dataIndex;null!=(dataIndex=params.next());){var itemModel=data.getItemModel(dataIndex),sign=data.getItemLayout(dataIndex).sign,style=itemModel.getItemStyle();style.fill=getColor(sign,itemModel),style.stroke=getBorderColor(sign,itemModel)||style.fill;var existsStyle=data.ensureUniqueItemVisual(dataIndex,"style");(0,util.extend)(existsStyle,style)}}}}};var SKIP_PROPS=["color","borderColor"],CandlestickView=function(_super){function CandlestickView(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=CandlestickView.type,_this}return(0,tslib_es6.C6)(CandlestickView,_super),CandlestickView.prototype.render=function(seriesModel,ecModel,api){this.group.removeClipPath(),this._progressiveEls=null,this._updateDrawMode(seriesModel),this._isLargeDraw?this._renderLarge(seriesModel):this._renderNormal(seriesModel)},CandlestickView.prototype.incrementalPrepareRender=function(seriesModel,ecModel,api){this._clear(),this._updateDrawMode(seriesModel)},CandlestickView.prototype.incrementalRender=function(params,seriesModel,ecModel,api){this._progressiveEls=[],this._isLargeDraw?this._incrementalRenderLarge(params,seriesModel):this._incrementalRenderNormal(params,seriesModel)},CandlestickView.prototype.eachRendered=function(cb){graphic.traverseElements(this._progressiveEls||this.group,cb)},CandlestickView.prototype._updateDrawMode=function(seriesModel){var isLargeDraw=seriesModel.pipelineContext.large;null!=this._isLargeDraw&&isLargeDraw===this._isLargeDraw||(this._isLargeDraw=isLargeDraw,this._clear())},CandlestickView.prototype._renderNormal=function(seriesModel){var data=seriesModel.getData(),oldData=this._data,group=this.group,isSimpleBox=data.getLayout("isSimpleBox"),needsClip=seriesModel.get("clip",!0),coord=seriesModel.coordinateSystem,clipArea=coord.getArea&&coord.getArea();this._data||group.removeAll(),data.diff(oldData).add(function(newIdx){if(data.hasValue(newIdx)){var itemLayout=data.getItemLayout(newIdx);if(needsClip&&isNormalBoxClipped(clipArea,itemLayout))return;var el=CandlestickView_createNormalBox(itemLayout,newIdx,!0);basicTransition.LW(el,{shape:{points:itemLayout.ends}},seriesModel,newIdx),setBoxCommon(el,data,newIdx,isSimpleBox),group.add(el),data.setItemGraphicEl(newIdx,el)}}).update(function(newIdx,oldIdx){var el=oldData.getItemGraphicEl(oldIdx);if(data.hasValue(newIdx)){var itemLayout=data.getItemLayout(newIdx);needsClip&&isNormalBoxClipped(clipArea,itemLayout)?group.remove(el):(el?(basicTransition.oi(el,{shape:{points:itemLayout.ends}},seriesModel,newIdx),(0,basicTransition.ap)(el)):el=CandlestickView_createNormalBox(itemLayout,newIdx),setBoxCommon(el,data,newIdx,isSimpleBox),group.add(el),data.setItemGraphicEl(newIdx,el))}else group.remove(el)}).remove(function(oldIdx){var el=oldData.getItemGraphicEl(oldIdx);el&&group.remove(el)}).execute(),this._data=data},CandlestickView.prototype._renderLarge=function(seriesModel){this._clear(),createLarge(seriesModel,this.group);var clipPath=seriesModel.get("clip",!0)?(0,createClipPathFromCoordSys.Ip)(seriesModel.coordinateSystem,!1,seriesModel):null;clipPath?this.group.setClipPath(clipPath):this.group.removeClipPath()},CandlestickView.prototype._incrementalRenderNormal=function(params,seriesModel){for(var dataIndex,data=seriesModel.getData(),isSimpleBox=data.getLayout("isSimpleBox");null!=(dataIndex=params.next());){var el=CandlestickView_createNormalBox(data.getItemLayout(dataIndex),dataIndex);setBoxCommon(el,data,dataIndex,isSimpleBox),el.incremental=!0,this.group.add(el),this._progressiveEls.push(el)}},CandlestickView.prototype._incrementalRenderLarge=function(params,seriesModel){createLarge(seriesModel,this.group,this._progressiveEls,!0)},CandlestickView.prototype.remove=function(ecModel){this._clear()},CandlestickView.prototype._clear=function(){this.group.removeAll(),this._data=null},CandlestickView.type="candlestick",CandlestickView}(Chart.A),NormalBoxPathShape=function NormalBoxPathShape(){},NormalBoxPath=function(_super){function NormalBoxPath(opts){var _this=_super.call(this,opts)||this;return _this.type="normalCandlestickBox",_this}return(0,tslib_es6.C6)(NormalBoxPath,_super),NormalBoxPath.prototype.getDefaultShape=function(){return new NormalBoxPathShape},NormalBoxPath.prototype.buildPath=function(ctx,shape){var ends=shape.points;this.__simpleBox?(ctx.moveTo(ends[4][0],ends[4][1]),ctx.lineTo(ends[6][0],ends[6][1])):(ctx.moveTo(ends[0][0],ends[0][1]),ctx.lineTo(ends[1][0],ends[1][1]),ctx.lineTo(ends[2][0],ends[2][1]),ctx.lineTo(ends[3][0],ends[3][1]),ctx.closePath(),ctx.moveTo(ends[4][0],ends[4][1]),ctx.lineTo(ends[5][0],ends[5][1]),ctx.moveTo(ends[6][0],ends[6][1]),ctx.lineTo(ends[7][0],ends[7][1]))},NormalBoxPath}(Path.Ay);function CandlestickView_createNormalBox(itemLayout,dataIndex,isInit){var ends=itemLayout.ends;return new NormalBoxPath({shape:{points:isInit?CandlestickView_transInit(ends,itemLayout):ends},z2:100})}function isNormalBoxClipped(clipArea,itemLayout){for(var clipped=!0,i=0;i<itemLayout.ends.length;i++)if(clipArea.contain(itemLayout.ends[i][0],itemLayout.ends[i][1])){clipped=!1;break}return clipped}function setBoxCommon(el,data,dataIndex,isSimpleBox){var itemModel=data.getItemModel(dataIndex);el.useStyle(data.getItemVisual(dataIndex,"style")),el.style.strokeNoScale=!0,el.__simpleBox=isSimpleBox,(0,states.Mx)(el,itemModel);var sign=data.getItemLayout(dataIndex).sign;util.each(el.states,function(state,stateName){var stateModel=itemModel.getModel(stateName),color=getColor(sign,stateModel),borderColor=getBorderColor(sign,stateModel)||color,stateStyle=state.style||(state.style={});color&&(stateStyle.fill=color),borderColor&&(stateStyle.stroke=borderColor)});var emphasisModel=itemModel.getModel("emphasis");(0,states.Lm)(el,emphasisModel.get("focus"),emphasisModel.get("blurScope"),emphasisModel.get("disabled"))}function CandlestickView_transInit(points,itemLayout){return util.map(points,function(point){return(point=point.slice())[1]=itemLayout.initBaseline,point})}var LargeBoxPathShape=function LargeBoxPathShape(){},LargeBoxPath=function(_super){function LargeBoxPath(opts){var _this=_super.call(this,opts)||this;return _this.type="largeCandlestickBox",_this}return(0,tslib_es6.C6)(LargeBoxPath,_super),LargeBoxPath.prototype.getDefaultShape=function(){return new LargeBoxPathShape},LargeBoxPath.prototype.buildPath=function(ctx,shape){for(var points=shape.points,i=0;i<points.length;)if(this.__sign===points[i++]){var x=points[i++];ctx.moveTo(x,points[i++]),ctx.lineTo(x,points[i++])}else i+=3},LargeBoxPath}(Path.Ay);function createLarge(seriesModel,group,progressiveEls,incremental){var data=seriesModel.getData(),largePoints=data.getLayout("largePoints"),elP=new LargeBoxPath({shape:{points:largePoints},__sign:1,ignoreCoarsePointer:!0});group.add(elP);var elN=new LargeBoxPath({shape:{points:largePoints},__sign:-1,ignoreCoarsePointer:!0});group.add(elN);var elDoji=new LargeBoxPath({shape:{points:largePoints},__sign:0,ignoreCoarsePointer:!0});group.add(elDoji),setLargeStyle(1,elP,seriesModel,data),setLargeStyle(-1,elN,seriesModel,data),setLargeStyle(0,elDoji,seriesModel,data),incremental&&(elP.incremental=!0,elN.incremental=!0),progressiveEls&&progressiveEls.push(elP,elN)}function setLargeStyle(sign,el,seriesModel,data){var borderColor=getBorderColor(sign,seriesModel)||getColor(sign,seriesModel),itemStyle=seriesModel.getModel("itemStyle").getItemStyle(SKIP_PROPS);el.useStyle(itemStyle),el.style.fill=null,el.style.stroke=borderColor}const candlestick_CandlestickView=CandlestickView;var CandlestickSeriesModel=function(_super){function CandlestickSeriesModel(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=CandlestickSeriesModel.type,_this.defaultValueDimensions=[{name:"open",defaultTooltip:!0},{name:"close",defaultTooltip:!0},{name:"lowest",defaultTooltip:!0},{name:"highest",defaultTooltip:!0}],_this}return(0,tslib_es6.C6)(CandlestickSeriesModel,_super),CandlestickSeriesModel.prototype.getShadowDim=function(){return"open"},CandlestickSeriesModel.prototype.brushSelector=function(dataIndex,data,selectors){var itemLayout=data.getItemLayout(dataIndex);return itemLayout&&selectors.rect(itemLayout.brushRect)},CandlestickSeriesModel.type="series.candlestick",CandlestickSeriesModel.dependencies=["xAxis","yAxis","grid"],CandlestickSeriesModel.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,clip:!0,itemStyle:{color:"#eb5454",color0:"#47b262",borderColor:"#eb5454",borderColor0:"#47b262",borderColorDoji:null,borderWidth:1},emphasis:{itemStyle:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,large:!0,largeThreshold:600,progressive:3e3,progressiveThreshold:1e4,progressiveChunkMode:"mod",animationEasing:"linear",animationDuration:300},CandlestickSeriesModel}(Series.A);(0,util.mixin)(CandlestickSeriesModel,WhiskerBoxCommonMixin,!0);const CandlestickSeries=CandlestickSeriesModel;function candlestickPreprocessor(option){option&&util.isArray(option.series)&&util.each(option.series,function(seriesItem){util.isObject(seriesItem)&&"k"===seriesItem.type&&(seriesItem.type="candlestick")})}var vendor=__webpack_require__("./node_modules/echarts/lib/util/vendor.js"),candlestickLayout={seriesType:"candlestick",plan:(0,createRenderPlanner.A)(),reset:function(seriesModel){var coordSys=seriesModel.coordinateSystem,data=seriesModel.getData(),candleWidth=function calculateCandleWidth(seriesModel,data){var extent,baseAxis=seriesModel.getBaseAxis(),bandWidth="category"===baseAxis.type?baseAxis.getBandWidth():(extent=baseAxis.getExtent(),Math.abs(extent[1]-extent[0])/data.count()),barMaxWidth=(0,number.lo)((0,util.retrieve2)(seriesModel.get("barMaxWidth"),bandWidth),bandWidth),barMinWidth=(0,number.lo)((0,util.retrieve2)(seriesModel.get("barMinWidth"),1),bandWidth),barWidth=seriesModel.get("barWidth");return null!=barWidth?(0,number.lo)(barWidth,bandWidth):Math.max(Math.min(bandWidth/2,barMaxWidth),barMinWidth)}(seriesModel,data),coordDims=["x","y"],cDimI=data.getDimensionIndex(data.mapDimension(coordDims[0])),vDimsI=(0,util.map)(data.mapDimensionsAll(coordDims[1]),data.getDimensionIndex,data),openDimI=vDimsI[0],closeDimI=vDimsI[1],lowestDimI=vDimsI[2],highestDimI=vDimsI[3];if(data.setLayout({candleWidth,isSimpleBox:candleWidth<=1.3}),!(cDimI<0||vDimsI.length<4))return{progress:seriesModel.pipelineContext.large?function largeProgress(params,data){var point,dataIndex,points=(0,vendor.J)(4*params.count),offset=0,tmpIn=[],tmpOut=[],store=data.getStore(),hasDojiColor=!!seriesModel.get(["itemStyle","borderColorDoji"]);for(;null!=(dataIndex=params.next());){var axisDimVal=store.get(cDimI,dataIndex),openVal=store.get(openDimI,dataIndex),closeVal=store.get(closeDimI,dataIndex),lowestVal=store.get(lowestDimI,dataIndex),highestVal=store.get(highestDimI,dataIndex);isNaN(axisDimVal)||isNaN(lowestVal)||isNaN(highestVal)?(points[offset++]=NaN,offset+=3):(points[offset++]=getSign(store,dataIndex,openVal,closeVal,closeDimI,hasDojiColor),tmpIn[0]=axisDimVal,tmpIn[1]=lowestVal,point=coordSys.dataToPoint(tmpIn,null,tmpOut),points[offset++]=point?point[0]:NaN,points[offset++]=point?point[1]:NaN,tmpIn[1]=highestVal,point=coordSys.dataToPoint(tmpIn,null,tmpOut),points[offset++]=point?point[1]:NaN)}data.setLayout("largePoints",points)}:function normalProgress(params,data){var dataIndex,store=data.getStore();for(;null!=(dataIndex=params.next());){var axisDimVal=store.get(cDimI,dataIndex),openVal=store.get(openDimI,dataIndex),closeVal=store.get(closeDimI,dataIndex),lowestVal=store.get(lowestDimI,dataIndex),highestVal=store.get(highestDimI,dataIndex),ocLow=Math.min(openVal,closeVal),ocHigh=Math.max(openVal,closeVal),ocLowPoint=getPoint(ocLow,axisDimVal),ocHighPoint=getPoint(ocHigh,axisDimVal),lowestPoint=getPoint(lowestVal,axisDimVal),highestPoint=getPoint(highestVal,axisDimVal),ends=[];addBodyEnd(ends,ocHighPoint,0),addBodyEnd(ends,ocLowPoint,1),ends.push(subPixelOptimizePoint(highestPoint),subPixelOptimizePoint(ocHighPoint),subPixelOptimizePoint(lowestPoint),subPixelOptimizePoint(ocLowPoint));var hasDojiColor=!!data.getItemModel(dataIndex).get(["itemStyle","borderColorDoji"]);data.setItemLayout(dataIndex,{sign:getSign(store,dataIndex,openVal,closeVal,closeDimI,hasDojiColor),initBaseline:openVal>closeVal?ocHighPoint[1]:ocLowPoint[1],ends,brushRect:makeBrushRect(lowestVal,highestVal,axisDimVal)})}function getPoint(val,axisDimVal){var p=[];return p[0]=axisDimVal,p[1]=val,isNaN(axisDimVal)||isNaN(val)?[NaN,NaN]:coordSys.dataToPoint(p)}function addBodyEnd(ends,point,start){var point1=point.slice(),point2=point.slice();point1[0]=(0,graphic.subPixelOptimize)(point1[0]+candleWidth/2,1,!1),point2[0]=(0,graphic.subPixelOptimize)(point2[0]-candleWidth/2,1,!0),start?ends.push(point1,point2):ends.push(point2,point1)}function makeBrushRect(lowestVal,highestVal,axisDimVal){var pmin=getPoint(lowestVal,axisDimVal),pmax=getPoint(highestVal,axisDimVal);return pmin[0]-=candleWidth/2,pmax[0]-=candleWidth/2,{x:pmin[0],y:pmin[1],width:candleWidth,height:pmax[1]-pmin[1]}}function subPixelOptimizePoint(point){return point[0]=(0,graphic.subPixelOptimize)(point[0],1),point}}}}};function getSign(store,dataIndex,openVal,closeVal,closeDimI,hasDojiColor){return openVal>closeVal?-1:openVal<closeVal?1:hasDojiColor?0:dataIndex>0?store.get(closeDimI,dataIndex-1)<=closeVal?1:-1:1}const candlestick_candlestickLayout=candlestickLayout;function updateRipplePath(rippleGroup,effectCfg){var color=effectCfg.rippleEffectColor||effectCfg.color;rippleGroup.eachChild(function(ripplePath){ripplePath.attr({z:effectCfg.z,zlevel:effectCfg.zlevel,style:{stroke:"stroke"===effectCfg.brushType?color:null,fill:"fill"===effectCfg.brushType?color:null}})})}var EffectSymbol=function(_super){function EffectSymbol(data,idx){var _this=_super.call(this)||this,symbol=new helper_Symbol.A(data,idx),rippleGroup=new Group.A;return _this.add(symbol),_this.add(rippleGroup),_this.updateData(data,idx),_this}return(0,tslib_es6.C6)(EffectSymbol,_super),EffectSymbol.prototype.stopEffectAnimation=function(){this.childAt(1).removeAll()},EffectSymbol.prototype.startEffectAnimation=function(effectCfg){for(var symbolType=effectCfg.symbolType,color=effectCfg.color,rippleNumber=effectCfg.rippleNumber,rippleGroup=this.childAt(1),i=0;i<rippleNumber;i++){var ripplePath=(0,util_symbol.v5)(symbolType,-1,-1,2,2,color);ripplePath.attr({style:{strokeNoScale:!0},z2:99,silent:!0,scaleX:.5,scaleY:.5});var delay=-i/rippleNumber*effectCfg.period+effectCfg.effectOffset;ripplePath.animate("",!0).when(effectCfg.period,{scaleX:effectCfg.rippleScale/2,scaleY:effectCfg.rippleScale/2}).delay(delay).start(),ripplePath.animateStyle(!0).when(effectCfg.period,{opacity:0}).delay(delay).start(),rippleGroup.add(ripplePath)}updateRipplePath(rippleGroup,effectCfg)},EffectSymbol.prototype.updateEffectAnimation=function(effectCfg){for(var oldEffectCfg=this._effectCfg,rippleGroup=this.childAt(1),DIFFICULT_PROPS=["symbolType","period","rippleScale","rippleNumber"],i=0;i<DIFFICULT_PROPS.length;i++){var propName=DIFFICULT_PROPS[i];if(oldEffectCfg[propName]!==effectCfg[propName])return this.stopEffectAnimation(),void this.startEffectAnimation(effectCfg)}updateRipplePath(rippleGroup,effectCfg)},EffectSymbol.prototype.highlight=function(){(0,states.HY)(this)},EffectSymbol.prototype.downplay=function(){(0,states.SD)(this)},EffectSymbol.prototype.getSymbolType=function(){var symbol=this.childAt(0);return symbol&&symbol.getSymbolType()},EffectSymbol.prototype.updateData=function(data,idx){var _this=this,seriesModel=data.hostModel;this.childAt(0).updateData(data,idx);var rippleGroup=this.childAt(1),itemModel=data.getItemModel(idx),symbolType=data.getItemVisual(idx,"symbol"),symbolSize=(0,util_symbol.xU)(data.getItemVisual(idx,"symbolSize")),symbolStyle=data.getItemVisual(idx,"style"),color=symbolStyle&&symbolStyle.fill,emphasisModel=itemModel.getModel("emphasis");rippleGroup.setScale(symbolSize),rippleGroup.traverse(function(ripplePath){ripplePath.setStyle("fill",color)});var symbolOffset=(0,util_symbol.hV)(data.getItemVisual(idx,"symbolOffset"),symbolSize);symbolOffset&&(rippleGroup.x=symbolOffset[0],rippleGroup.y=symbolOffset[1]);var symbolRotate=data.getItemVisual(idx,"symbolRotate");rippleGroup.rotation=(symbolRotate||0)*Math.PI/180||0;var effectCfg={};effectCfg.showEffectOn=seriesModel.get("showEffectOn"),effectCfg.rippleScale=itemModel.get(["rippleEffect","scale"]),effectCfg.brushType=itemModel.get(["rippleEffect","brushType"]),effectCfg.period=1e3*itemModel.get(["rippleEffect","period"]),effectCfg.effectOffset=idx/data.count(),effectCfg.z=seriesModel.getShallow("z")||0,effectCfg.zlevel=seriesModel.getShallow("zlevel")||0,effectCfg.symbolType=symbolType,effectCfg.color=color,effectCfg.rippleEffectColor=itemModel.get(["rippleEffect","color"]),effectCfg.rippleNumber=itemModel.get(["rippleEffect","number"]),"render"===effectCfg.showEffectOn?(this._effectCfg?this.updateEffectAnimation(effectCfg):this.startEffectAnimation(effectCfg),this._effectCfg=effectCfg):(this._effectCfg=null,this.stopEffectAnimation(),this.onHoverStateChange=function(toState){"emphasis"===toState?"render"!==effectCfg.showEffectOn&&_this.startEffectAnimation(effectCfg):"normal"===toState&&"render"!==effectCfg.showEffectOn&&_this.stopEffectAnimation()}),this._effectCfg=effectCfg,(0,states.Lm)(this,emphasisModel.get("focus"),emphasisModel.get("blurScope"),emphasisModel.get("disabled"))},EffectSymbol.prototype.fadeOut=function(cb){cb&&cb()},EffectSymbol}(Group.A);const helper_EffectSymbol=EffectSymbol;var layout_points=__webpack_require__("./node_modules/echarts/lib/layout/points.js"),EffectScatterView=function(_super){function EffectScatterView(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=EffectScatterView.type,_this}return(0,tslib_es6.C6)(EffectScatterView,_super),EffectScatterView.prototype.init=function(){this._symbolDraw=new SymbolDraw.A(helper_EffectSymbol)},EffectScatterView.prototype.render=function(seriesModel,ecModel,api){var data=seriesModel.getData(),effectSymbolDraw=this._symbolDraw;effectSymbolDraw.updateData(data,{clipShape:this._getClipShape(seriesModel)}),this.group.add(effectSymbolDraw.group)},EffectScatterView.prototype._getClipShape=function(seriesModel){var coordSys=seriesModel.coordinateSystem,clipArea=coordSys&&coordSys.getArea&&coordSys.getArea();return seriesModel.get("clip",!0)?clipArea:null},EffectScatterView.prototype.updateTransform=function(seriesModel,ecModel,api){var data=seriesModel.getData();this.group.dirty();var res=(0,layout_points.A)("").reset(seriesModel,ecModel,api);res.progress&&res.progress({start:0,end:data.count(),count:data.count()},data),this._symbolDraw.updateLayout()},EffectScatterView.prototype._updateGroupTransform=function(seriesModel){var coordSys=seriesModel.coordinateSystem;coordSys&&coordSys.getRoamTransform&&(this.group.transform=matrix.clone(coordSys.getRoamTransform()),this.group.decomposeTransform())},EffectScatterView.prototype.remove=function(ecModel,api){this._symbolDraw&&this._symbolDraw.remove(!0)},EffectScatterView.type="effectScatter",EffectScatterView}(Chart.A);const effectScatter_EffectScatterView=EffectScatterView;var EffectScatterSeriesModel=function(_super){function EffectScatterSeriesModel(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=EffectScatterSeriesModel.type,_this.hasSymbolVisual=!0,_this}return(0,tslib_es6.C6)(EffectScatterSeriesModel,_super),EffectScatterSeriesModel.prototype.getInitialData=function(option,ecModel){return(0,createSeriesData.A)(null,this,{useEncodeDefaulter:!0})},EffectScatterSeriesModel.prototype.brushSelector=function(dataIndex,data,selectors){return selectors.point(data.getItemLayout(dataIndex))},EffectScatterSeriesModel.type="series.effectScatter",EffectScatterSeriesModel.dependencies=["grid","polar"],EffectScatterSeriesModel.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,effectType:"ripple",progressive:0,showEffectOn:"render",clip:!0,rippleEffect:{period:4,scale:2.5,brushType:"fill",number:3},universalTransition:{divideShape:"clone"},symbolSize:10},EffectScatterSeriesModel}(Series.A);const EffectScatterSeries=EffectScatterSeriesModel;var EffectLine=function(_super){function EffectLine(lineData,idx,seriesScope){var _this=_super.call(this)||this;return _this.add(_this.createLine(lineData,idx,seriesScope)),_this._updateEffectSymbol(lineData,idx),_this}return(0,tslib_es6.C6)(EffectLine,_super),EffectLine.prototype.createLine=function(lineData,idx,seriesScope){return new helper_Line(lineData,idx,seriesScope)},EffectLine.prototype._updateEffectSymbol=function(lineData,idx){var effectModel=lineData.getItemModel(idx).getModel("effect"),size=effectModel.get("symbolSize"),symbolType=effectModel.get("symbol");util.isArray(size)||(size=[size,size]);var lineStyle=lineData.getItemVisual(idx,"style"),color=effectModel.get("color")||lineStyle&&lineStyle.stroke,symbol=this.childAt(1);this._symbolType!==symbolType&&(this.remove(symbol),(symbol=(0,util_symbol.v5)(symbolType,-.5,-.5,1,1,color)).z2=100,symbol.culling=!0,this.add(symbol)),symbol&&(symbol.setStyle("shadowColor",color),symbol.setStyle(effectModel.getItemStyle(["color"])),symbol.scaleX=size[0],symbol.scaleY=size[1],symbol.setColor(color),this._symbolType=symbolType,this._symbolScale=size,this._updateEffectAnimation(lineData,effectModel,idx))},EffectLine.prototype._updateEffectAnimation=function(lineData,effectModel,idx){var symbol=this.childAt(1);if(symbol){var points=lineData.getItemLayout(idx),period=1e3*effectModel.get("period"),loop=effectModel.get("loop"),roundTrip=effectModel.get("roundTrip"),constantSpeed=effectModel.get("constantSpeed"),delayExpr=util.retrieve(effectModel.get("delay"),function(idx){return idx/lineData.count()*period/3});if(symbol.ignore=!0,this._updateAnimationPoints(symbol,points),constantSpeed>0&&(period=this._getLineLength(symbol)/constantSpeed*1e3),period!==this._period||loop!==this._loop||roundTrip!==this._roundTrip){symbol.stopAnimation();var delayNum=void 0;delayNum=util.isFunction(delayExpr)?delayExpr(idx):delayExpr,symbol.__t>0&&(delayNum=-period*symbol.__t),this._animateSymbol(symbol,period,delayNum,loop,roundTrip)}this._period=period,this._loop=loop,this._roundTrip=roundTrip}},EffectLine.prototype._animateSymbol=function(symbol,period,delayNum,loop,roundTrip){if(period>0){symbol.__t=0;var self_1=this,animator=symbol.animate("",loop).when(roundTrip?2*period:period,{__t:roundTrip?2:1}).delay(delayNum).during(function(){self_1._updateSymbolPosition(symbol)});loop||animator.done(function(){self_1.remove(symbol)}),animator.start()}},EffectLine.prototype._getLineLength=function(symbol){return vector.dist(symbol.__p1,symbol.__cp1)+vector.dist(symbol.__cp1,symbol.__p2)},EffectLine.prototype._updateAnimationPoints=function(symbol,points){symbol.__p1=points[0],symbol.__p2=points[1],symbol.__cp1=points[2]||[(points[0][0]+points[1][0])/2,(points[0][1]+points[1][1])/2]},EffectLine.prototype.updateData=function(lineData,idx,seriesScope){this.childAt(0).updateData(lineData,idx,seriesScope),this._updateEffectSymbol(lineData,idx)},EffectLine.prototype._updateSymbolPosition=function(symbol){var p1=symbol.__p1,p2=symbol.__p2,cp1=symbol.__cp1,t=symbol.__t<1?symbol.__t:2-symbol.__t,pos=[symbol.x,symbol.y],lastPos=pos.slice(),quadraticAt=curve.k3,quadraticDerivativeAt=curve.z7;pos[0]=quadraticAt(p1[0],cp1[0],p2[0],t),pos[1]=quadraticAt(p1[1],cp1[1],p2[1],t);var tx=symbol.__t<1?quadraticDerivativeAt(p1[0],cp1[0],p2[0],t):quadraticDerivativeAt(p2[0],cp1[0],p1[0],1-t),ty=symbol.__t<1?quadraticDerivativeAt(p1[1],cp1[1],p2[1],t):quadraticDerivativeAt(p2[1],cp1[1],p1[1],1-t);symbol.rotation=-Math.atan2(ty,tx)-Math.PI/2,"line"!==this._symbolType&&"rect"!==this._symbolType&&"roundRect"!==this._symbolType||(void 0!==symbol.__lastT&&symbol.__lastT<symbol.__t?(symbol.scaleY=1.05*vector.dist(lastPos,pos),1===t&&(pos[0]=lastPos[0]+(pos[0]-lastPos[0])/2,pos[1]=lastPos[1]+(pos[1]-lastPos[1])/2)):1===symbol.__lastT?symbol.scaleY=2*vector.dist(p1,pos):symbol.scaleY=this._symbolScale[1]),symbol.__lastT=symbol.__t,symbol.ignore=!1,symbol.x=pos[0],symbol.y=pos[1]},EffectLine.prototype.updateLayout=function(lineData,idx){this.childAt(0).updateLayout(lineData,idx);var effectModel=lineData.getItemModel(idx).getModel("effect");this._updateEffectAnimation(lineData,effectModel,idx)},EffectLine}(Group.A);const helper_EffectLine=EffectLine;var Polyline=function(_super){function Polyline(lineData,idx,seriesScope){var _this=_super.call(this)||this;return _this._createPolyline(lineData,idx,seriesScope),_this}return(0,tslib_es6.C6)(Polyline,_super),Polyline.prototype._createPolyline=function(lineData,idx,seriesScope){var points=lineData.getItemLayout(idx),line=new shape_Polyline.A({shape:{points}});this.add(line),this._updateCommonStl(lineData,idx,seriesScope)},Polyline.prototype.updateData=function(lineData,idx,seriesScope){var seriesModel=lineData.hostModel,line=this.childAt(0),target={shape:{points:lineData.getItemLayout(idx)}};basicTransition.oi(line,target,seriesModel,idx),this._updateCommonStl(lineData,idx,seriesScope)},Polyline.prototype._updateCommonStl=function(lineData,idx,seriesScope){var line=this.childAt(0),itemModel=lineData.getItemModel(idx),emphasisLineStyle=seriesScope&&seriesScope.emphasisLineStyle,focus=seriesScope&&seriesScope.focus,blurScope=seriesScope&&seriesScope.blurScope,emphasisDisabled=seriesScope&&seriesScope.emphasisDisabled;if(!seriesScope||lineData.hasItemOption){var emphasisModel=itemModel.getModel("emphasis");emphasisLineStyle=emphasisModel.getModel("lineStyle").getLineStyle(),emphasisDisabled=emphasisModel.get("disabled"),focus=emphasisModel.get("focus"),blurScope=emphasisModel.get("blurScope")}line.useStyle(lineData.getItemVisual(idx,"style")),line.style.fill=null,line.style.strokeNoScale=!0,line.ensureState("emphasis").style=emphasisLineStyle,(0,states.Lm)(this,focus,blurScope,emphasisDisabled)},Polyline.prototype.updateLayout=function(lineData,idx){this.childAt(0).setShape("points",lineData.getItemLayout(idx))},Polyline}(Group.A);const helper_Polyline=Polyline;var EffectPolyline=function(_super){function EffectPolyline(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this._lastFrame=0,_this._lastFramePercent=0,_this}return(0,tslib_es6.C6)(EffectPolyline,_super),EffectPolyline.prototype.createLine=function(lineData,idx,seriesScope){return new helper_Polyline(lineData,idx,seriesScope)},EffectPolyline.prototype._updateAnimationPoints=function(symbol,points){this._points=points;for(var accLenArr=[0],len=0,i=1;i<points.length;i++){var p1=points[i-1],p2=points[i];len+=vector.dist(p1,p2),accLenArr.push(len)}if(0!==len){for(i=0;i<accLenArr.length;i++)accLenArr[i]/=len;this._offsets=accLenArr,this._length=len}else this._length=0},EffectPolyline.prototype._getLineLength=function(){return this._length},EffectPolyline.prototype._updateSymbolPosition=function(symbol){var t=symbol.__t<1?symbol.__t:2-symbol.__t,points=this._points,offsets=this._offsets,len=points.length;if(offsets){var frame,lastFrame=this._lastFrame;if(t<this._lastFramePercent){for(frame=Math.min(lastFrame+1,len-1);frame>=0&&!(offsets[frame]<=t);frame--);frame=Math.min(frame,len-2)}else{for(frame=lastFrame;frame<len&&!(offsets[frame]>t);frame++);frame=Math.min(frame-1,len-2)}var p=(t-offsets[frame])/(offsets[frame+1]-offsets[frame]),p0=points[frame],p1=points[frame+1];symbol.x=p0[0]*(1-p)+p*p1[0],symbol.y=p0[1]*(1-p)+p*p1[1];var tx=symbol.__t<1?p1[0]-p0[0]:p0[0]-p1[0],ty=symbol.__t<1?p1[1]-p0[1]:p0[1]-p1[1];symbol.rotation=-Math.atan2(ty,tx)-Math.PI/2,this._lastFrame=frame,this._lastFramePercent=t,symbol.ignore=!1}},EffectPolyline}(helper_EffectLine);const helper_EffectPolyline=EffectPolyline;var line=__webpack_require__("./node_modules/zrender/lib/contain/line.js"),quadratic=__webpack_require__("./node_modules/zrender/lib/contain/quadratic.js"),LargeLinesPathShape=function LargeLinesPathShape(){this.polyline=!1,this.curveness=0,this.segs=[]},LargeLinesPath=function(_super){function LargeLinesPath(opts){var _this=_super.call(this,opts)||this;return _this._off=0,_this.hoverDataIdx=-1,_this}return(0,tslib_es6.C6)(LargeLinesPath,_super),LargeLinesPath.prototype.reset=function(){this.notClear=!1,this._off=0},LargeLinesPath.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},LargeLinesPath.prototype.getDefaultShape=function(){return new LargeLinesPathShape},LargeLinesPath.prototype.buildPath=function(ctx,shape){var i,segs=shape.segs,curveness=shape.curveness;if(shape.polyline)for(i=this._off;i<segs.length;){var count=segs[i++];if(count>0){ctx.moveTo(segs[i++],segs[i++]);for(var k=1;k<count;k++)ctx.lineTo(segs[i++],segs[i++])}}else for(i=this._off;i<segs.length;){var x0=segs[i++],y0=segs[i++],x1=segs[i++],y1=segs[i++];if(ctx.moveTo(x0,y0),curveness>0){var x2=(x0+x1)/2-(y0-y1)*curveness,y2=(y0+y1)/2-(x1-x0)*curveness;ctx.quadraticCurveTo(x2,y2,x1,y1)}else ctx.lineTo(x1,y1)}this.incremental&&(this._off=i,this.notClear=!0)},LargeLinesPath.prototype.findDataIndex=function(x,y){var shape=this.shape,segs=shape.segs,curveness=shape.curveness,lineWidth=this.style.lineWidth;if(shape.polyline)for(var dataIndex=0,i=0;i<segs.length;){var count=segs[i++];if(count>0)for(var x0=segs[i++],y0=segs[i++],k=1;k<count;k++){var x1=segs[i++],y1=segs[i++];if(line.l(x0,y0,x1,y1,lineWidth,x,y))return dataIndex}dataIndex++}else for(dataIndex=0,i=0;i<segs.length;){x0=segs[i++],y0=segs[i++],x1=segs[i++],y1=segs[i++];if(curveness>0){var x2=(x0+x1)/2-(y0-y1)*curveness,y2=(y0+y1)/2-(x1-x0)*curveness;if(quadratic.l(x0,y0,x2,y2,x1,y1,lineWidth,x,y))return dataIndex}else if(line.l(x0,y0,x1,y1,lineWidth,x,y))return dataIndex;dataIndex++}return-1},LargeLinesPath.prototype.contain=function(x,y){var localPos=this.transformCoordToLocal(x,y),rect=this.getBoundingRect();return x=localPos[0],y=localPos[1],rect.contain(x,y)?(this.hoverDataIdx=this.findDataIndex(x,y))>=0:(this.hoverDataIdx=-1,!1)},LargeLinesPath.prototype.getBoundingRect=function(){var rect=this._rect;if(!rect){for(var points=this.shape.segs,minX=1/0,minY=1/0,maxX=-1/0,maxY=-1/0,i=0;i<points.length;){var x=points[i++],y=points[i++];minX=Math.min(x,minX),maxX=Math.max(x,maxX),minY=Math.min(y,minY),maxY=Math.max(y,maxY)}rect=this._rect=new BoundingRect.A(minX,minY,maxX,maxY)}return rect},LargeLinesPath}(Path.Ay);const helper_LargeLineDraw=function(){function LargeLineDraw(){this.group=new Group.A}return LargeLineDraw.prototype.updateData=function(data){this._clear();var lineEl=this._create();lineEl.setShape({segs:data.getLayout("linesPoints")}),this._setCommon(lineEl,data)},LargeLineDraw.prototype.incrementalPrepareUpdate=function(data){this.group.removeAll(),this._clear()},LargeLineDraw.prototype.incrementalUpdate=function(taskParams,data){var lastAdded=this._newAdded[0],linePoints=data.getLayout("linesPoints"),oldSegs=lastAdded&&lastAdded.shape.segs;if(oldSegs&&oldSegs.length<2e4){var oldLen=oldSegs.length,newSegs=new Float32Array(oldLen+linePoints.length);newSegs.set(oldSegs),newSegs.set(linePoints,oldLen),lastAdded.setShape({segs:newSegs})}else{this._newAdded=[];var lineEl=this._create();lineEl.incremental=!0,lineEl.setShape({segs:linePoints}),this._setCommon(lineEl,data),lineEl.__startIndex=taskParams.start}},LargeLineDraw.prototype.remove=function(){this._clear()},LargeLineDraw.prototype.eachRendered=function(cb){this._newAdded[0]&&cb(this._newAdded[0])},LargeLineDraw.prototype._create=function(){var lineEl=new LargeLinesPath({cursor:"default",ignoreCoarsePointer:!0});return this._newAdded.push(lineEl),this.group.add(lineEl),lineEl},LargeLineDraw.prototype._setCommon=function(lineEl,data,isIncremental){var hostModel=data.hostModel;lineEl.setShape({polyline:hostModel.get("polyline"),curveness:hostModel.get(["lineStyle","curveness"])}),lineEl.useStyle(hostModel.getModel("lineStyle").getLineStyle()),lineEl.style.strokeNoScale=!0;var style=data.getVisual("style");style&&style.stroke&&lineEl.setStyle("stroke",style.stroke),lineEl.setStyle("fill",null);var ecData=(0,innerStore.z)(lineEl);ecData.seriesIndex=hostModel.seriesIndex,lineEl.on("mousemove",function(e){ecData.dataIndex=null;var dataIndex=lineEl.hoverDataIdx;dataIndex>0&&(ecData.dataIndex=dataIndex+lineEl.__startIndex)})},LargeLineDraw.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},LargeLineDraw}();var linesLayout={seriesType:"lines",plan:(0,createRenderPlanner.A)(),reset:function(seriesModel){var coordSys=seriesModel.coordinateSystem;if(coordSys){var isPolyline=seriesModel.get("polyline"),isLarge=seriesModel.pipelineContext.large;return{progress:function(params,lineData){var lineCoords=[];if(isLarge){var points=void 0,segCount=params.end-params.start;if(isPolyline){for(var totalCoordsCount=0,i=params.start;i<params.end;i++)totalCoordsCount+=seriesModel.getLineCoordsCount(i);points=new Float32Array(segCount+2*totalCoordsCount)}else points=new Float32Array(4*segCount);var offset=0,pt=[];for(i=params.start;i<params.end;i++){var len=seriesModel.getLineCoords(i,lineCoords);isPolyline&&(points[offset++]=len);for(var k=0;k<len;k++)pt=coordSys.dataToPoint(lineCoords[k],!1,pt),points[offset++]=pt[0],points[offset++]=pt[1]}lineData.setLayout("linesPoints",points)}else for(i=params.start;i<params.end;i++){var itemModel=lineData.getItemModel(i),pts=(len=seriesModel.getLineCoords(i,lineCoords),[]);if(isPolyline)for(var j=0;j<len;j++)pts.push(coordSys.dataToPoint(lineCoords[j]));else{pts[0]=coordSys.dataToPoint(lineCoords[0]),pts[1]=coordSys.dataToPoint(lineCoords[1]);var curveness=itemModel.get(["lineStyle","curveness"]);+curveness&&(pts[2]=[(pts[0][0]+pts[1][0])/2-(pts[0][1]-pts[1][1])*curveness,(pts[0][1]+pts[1][1])/2-(pts[1][0]-pts[0][0])*curveness])}lineData.setItemLayout(i,pts)}}}}}};const lines_linesLayout=linesLayout;var LinesView=function(_super){function LinesView(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=LinesView.type,_this}return(0,tslib_es6.C6)(LinesView,_super),LinesView.prototype.render=function(seriesModel,ecModel,api){var data=seriesModel.getData(),lineDraw=this._updateLineDraw(data,seriesModel),zlevel=seriesModel.get("zlevel"),trailLength=seriesModel.get(["effect","trailLength"]),zr=api.getZr(),isSvg="svg"===zr.painter.getType();isSvg||zr.painter.getLayer(zlevel).clear(!0),null==this._lastZlevel||isSvg||zr.configLayer(this._lastZlevel,{motionBlur:!1}),this._showEffect(seriesModel)&&trailLength>0&&(isSvg||zr.configLayer(zlevel,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(trailLength/10+.9,1),0)})),lineDraw.updateData(data);var clipPath=seriesModel.get("clip",!0)&&(0,createClipPathFromCoordSys.Ip)(seriesModel.coordinateSystem,!1,seriesModel);clipPath?this.group.setClipPath(clipPath):this.group.removeClipPath(),this._lastZlevel=zlevel,this._finished=!0},LinesView.prototype.incrementalPrepareRender=function(seriesModel,ecModel,api){var data=seriesModel.getData();this._updateLineDraw(data,seriesModel).incrementalPrepareUpdate(data),this._clearLayer(api),this._finished=!1},LinesView.prototype.incrementalRender=function(taskParams,seriesModel,ecModel){this._lineDraw.incrementalUpdate(taskParams,seriesModel.getData()),this._finished=taskParams.end===seriesModel.getData().count()},LinesView.prototype.eachRendered=function(cb){this._lineDraw&&this._lineDraw.eachRendered(cb)},LinesView.prototype.updateTransform=function(seriesModel,ecModel,api){var data=seriesModel.getData(),pipelineContext=seriesModel.pipelineContext;if(!this._finished||pipelineContext.large||pipelineContext.progressiveRender)return{update:!0};var res=lines_linesLayout.reset(seriesModel,ecModel,api);res.progress&&res.progress({start:0,end:data.count(),count:data.count()},data),this._lineDraw.updateLayout(),this._clearLayer(api)},LinesView.prototype._updateLineDraw=function(data,seriesModel){var lineDraw=this._lineDraw,hasEffect=this._showEffect(seriesModel),isPolyline=!!seriesModel.get("polyline"),isLargeDraw=seriesModel.pipelineContext.large;return lineDraw&&hasEffect===this._hasEffet&&isPolyline===this._isPolyline&&isLargeDraw===this._isLargeDraw||(lineDraw&&lineDraw.remove(),lineDraw=this._lineDraw=isLargeDraw?new helper_LargeLineDraw:new helper_LineDraw(isPolyline?hasEffect?helper_EffectPolyline:helper_Polyline:hasEffect?helper_EffectLine:helper_Line),this._hasEffet=hasEffect,this._isPolyline=isPolyline,this._isLargeDraw=isLargeDraw),this.group.add(lineDraw.group),lineDraw},LinesView.prototype._showEffect=function(seriesModel){return!!seriesModel.get(["effect","show"])},LinesView.prototype._clearLayer=function(api){var zr=api.getZr();"svg"===zr.painter.getType()||null==this._lastZlevel||zr.painter.getLayer(this._lastZlevel).clear(!0)},LinesView.prototype.remove=function(ecModel,api){this._lineDraw&&this._lineDraw.remove(),this._lineDraw=null,this._clearLayer(api)},LinesView.prototype.dispose=function(ecModel,api){this.remove(ecModel,api)},LinesView.type="lines",LinesView}(Chart.A);const lines_LinesView=LinesView;var Uint32Arr="undefined"==typeof Uint32Array?Array:Uint32Array,Float64Arr="undefined"==typeof Float64Array?Array:Float64Array;function compatEc2(seriesOpt){var data=seriesOpt.data;data&&data[0]&&data[0][0]&&data[0][0].coord&&(seriesOpt.data=(0,util.map)(data,function(itemOpt){var target={coords:[itemOpt[0].coord,itemOpt[1].coord]};return itemOpt[0].name&&(target.fromName=itemOpt[0].name),itemOpt[1].name&&(target.toName=itemOpt[1].name),(0,util.mergeAll)([target,itemOpt[0],itemOpt[1]])}))}var LinesSeriesModel=function(_super){function LinesSeriesModel(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=LinesSeriesModel.type,_this.visualStyleAccessPath="lineStyle",_this.visualDrawType="stroke",_this}return(0,tslib_es6.C6)(LinesSeriesModel,_super),LinesSeriesModel.prototype.init=function(option){option.data=option.data||[],compatEc2(option);var result=this._processFlatCoordsArray(option.data);this._flatCoords=result.flatCoords,this._flatCoordsOffset=result.flatCoordsOffset,result.flatCoords&&(option.data=new Float32Array(result.count)),_super.prototype.init.apply(this,arguments)},LinesSeriesModel.prototype.mergeOption=function(option){if(compatEc2(option),option.data){var result=this._processFlatCoordsArray(option.data);this._flatCoords=result.flatCoords,this._flatCoordsOffset=result.flatCoordsOffset,result.flatCoords&&(option.data=new Float32Array(result.count))}_super.prototype.mergeOption.apply(this,arguments)},LinesSeriesModel.prototype.appendData=function(params){var result=this._processFlatCoordsArray(params.data);result.flatCoords&&(this._flatCoords?(this._flatCoords=(0,util.concatArray)(this._flatCoords,result.flatCoords),this._flatCoordsOffset=(0,util.concatArray)(this._flatCoordsOffset,result.flatCoordsOffset)):(this._flatCoords=result.flatCoords,this._flatCoordsOffset=result.flatCoordsOffset),params.data=new Float32Array(result.count)),this.getRawData().appendData(params.data)},LinesSeriesModel.prototype._getCoordsFromItemModel=function(idx){var itemModel=this.getData().getItemModel(idx);return itemModel.option instanceof Array?itemModel.option:itemModel.getShallow("coords")},LinesSeriesModel.prototype.getLineCoordsCount=function(idx){return this._flatCoordsOffset?this._flatCoordsOffset[2*idx+1]:this._getCoordsFromItemModel(idx).length},LinesSeriesModel.prototype.getLineCoords=function(idx,out){if(this._flatCoordsOffset){for(var offset=this._flatCoordsOffset[2*idx],len=this._flatCoordsOffset[2*idx+1],i=0;i<len;i++)out[i]=out[i]||[],out[i][0]=this._flatCoords[offset+2*i],out[i][1]=this._flatCoords[offset+2*i+1];return len}var coords=this._getCoordsFromItemModel(idx);for(i=0;i<coords.length;i++)out[i]=out[i]||[],out[i][0]=coords[i][0],out[i][1]=coords[i][1];return coords.length},LinesSeriesModel.prototype._processFlatCoordsArray=function(data){var startOffset=0;if(this._flatCoords&&(startOffset=this._flatCoords.length),(0,util.isNumber)(data[0])){for(var len=data.length,coordsOffsetAndLenStorage=new Uint32Arr(len),coordsStorage=new Float64Arr(len),coordsCursor=0,offsetCursor=0,dataCount=0,i=0;i<len;){dataCount++;var count=data[i++];coordsOffsetAndLenStorage[offsetCursor++]=coordsCursor+startOffset,coordsOffsetAndLenStorage[offsetCursor++]=count;for(var k=0;k<count;k++){var x=data[i++],y=data[i++];coordsStorage[coordsCursor++]=x,coordsStorage[coordsCursor++]=y}}return{flatCoordsOffset:new Uint32Array(coordsOffsetAndLenStorage.buffer,0,offsetCursor),flatCoords:coordsStorage,count:dataCount}}return{flatCoordsOffset:null,flatCoords:null,count:data.length}},LinesSeriesModel.prototype.getInitialData=function(option,ecModel){var lineData=new SeriesData.A(["value"],this);return lineData.hasItemOption=!1,lineData.initData(option.data,[],function(dataItem,dimName,dataIndex,dimIndex){if(dataItem instanceof Array)return NaN;lineData.hasItemOption=!0;var value=dataItem.value;return null!=value?value instanceof Array?value[dimIndex]:value:void 0}),lineData},LinesSeriesModel.prototype.formatTooltip=function(dataIndex,multipleSeries,dataType){var itemModel=this.getData().getItemModel(dataIndex),name=itemModel.get("name");if(name)return name;var fromName=itemModel.get("fromName"),toName=itemModel.get("toName"),nameArr=[];return null!=fromName&&nameArr.push(fromName),null!=toName&&nameArr.push(toName),(0,tooltipMarkup.Qx)("nameValue",{name:nameArr.join(" > ")})},LinesSeriesModel.prototype.preventIncremental=function(){return!!this.get(["effect","show"])},LinesSeriesModel.prototype.getProgressive=function(){var progressive=this.option.progressive;return null==progressive?this.option.large?1e4:this.get("progressive"):progressive},LinesSeriesModel.prototype.getProgressiveThreshold=function(){var progressiveThreshold=this.option.progressiveThreshold;return null==progressiveThreshold?this.option.large?2e4:this.get("progressiveThreshold"):progressiveThreshold},LinesSeriesModel.prototype.getZLevelKey=function(){var effectModel=this.getModel("effect"),trailLength=effectModel.get("trailLength");return this.getData().count()>this.getProgressiveThreshold()?this.id:effectModel.get("show")&&trailLength>0?trailLength+"":""},LinesSeriesModel.type="series.lines",LinesSeriesModel.dependencies=["grid","polar","geo","calendar"],LinesSeriesModel.defaultOption={coordinateSystem:"geo",z:2,legendHoverLink:!0,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:!0,trailLength:.2},large:!1,largeThreshold:2e3,polyline:!1,clip:!0,label:{show:!1,position:"end"},lineStyle:{opacity:.5}},LinesSeriesModel}(Series.A);const LinesSeries=LinesSeriesModel;function linesVisual_normalize(a){return a instanceof Array||(a=[a,a]),a}const lines_linesVisual={seriesType:"lines",reset:function(seriesModel){var symbolType=linesVisual_normalize(seriesModel.get("symbol")),symbolSize=linesVisual_normalize(seriesModel.get("symbolSize")),data=seriesModel.getData();return data.setVisual("fromSymbol",symbolType&&symbolType[0]),data.setVisual("toSymbol",symbolType&&symbolType[1]),data.setVisual("fromSymbolSize",symbolSize&&symbolSize[0]),data.setVisual("toSymbolSize",symbolSize&&symbolSize[1]),{dataEach:data.hasItemOption?function dataEach(data,idx){var itemModel=data.getItemModel(idx),symbolType=linesVisual_normalize(itemModel.getShallow("symbol",!0)),symbolSize=linesVisual_normalize(itemModel.getShallow("symbolSize",!0));symbolType[0]&&data.setItemVisual(idx,"fromSymbol",symbolType[0]),symbolType[1]&&data.setItemVisual(idx,"toSymbol",symbolType[1]),symbolSize[0]&&data.setItemVisual(idx,"fromSymbolSize",symbolSize[0]),symbolSize[1]&&data.setItemVisual(idx,"toSymbolSize",symbolSize[1])}:null}}};var heatmap_install=__webpack_require__("./node_modules/echarts/lib/chart/heatmap/install.js"),labelHelper=__webpack_require__("./node_modules/echarts/lib/chart/helper/labelHelper.js"),BAR_BORDER_WIDTH_QUERY=["itemStyle","borderWidth"],LAYOUT_ATTRS=[{xy:"x",wh:"width",index:0,posDesc:["left","right"]},{xy:"y",wh:"height",index:1,posDesc:["top","bottom"]}],pathForLineWidth=new Circle.A,PictorialBarView=function(_super){function PictorialBarView(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=PictorialBarView.type,_this}return(0,tslib_es6.C6)(PictorialBarView,_super),PictorialBarView.prototype.render=function(seriesModel,ecModel,api){var group=this.group,data=seriesModel.getData(),oldData=this._data,cartesian=seriesModel.coordinateSystem,isHorizontal=cartesian.getBaseAxis().isHorizontal(),coordSysRect=cartesian.master.getRect(),opt={ecSize:{width:api.getWidth(),height:api.getHeight()},seriesModel,coordSys:cartesian,coordSysExtent:[[coordSysRect.x,coordSysRect.x+coordSysRect.width],[coordSysRect.y,coordSysRect.y+coordSysRect.height]],isHorizontal,valueDim:LAYOUT_ATTRS[+isHorizontal],categoryDim:LAYOUT_ATTRS[1-+isHorizontal]};data.diff(oldData).add(function(dataIndex){if(data.hasValue(dataIndex)){var itemModel=getItemModel(data,dataIndex),symbolMeta=getSymbolMeta(data,dataIndex,itemModel,opt),bar=createBar(data,opt,symbolMeta);data.setItemGraphicEl(dataIndex,bar),group.add(bar),PictorialBarView_updateCommon(bar,opt,symbolMeta)}}).update(function(newIndex,oldIndex){var bar=oldData.getItemGraphicEl(oldIndex);if(data.hasValue(newIndex)){var itemModel=getItemModel(data,newIndex),symbolMeta=getSymbolMeta(data,newIndex,itemModel,opt),pictorialShapeStr=getShapeStr(data,symbolMeta);bar&&pictorialShapeStr!==bar.__pictorialShapeStr&&(group.remove(bar),data.setItemGraphicEl(newIndex,null),bar=null),bar?function updateBar(bar,opt,symbolMeta){var animationModel=symbolMeta.animationModel,dataIndex=symbolMeta.dataIndex,bundle=bar.__pictorialBundle;basicTransition.oi(bundle,{x:symbolMeta.bundlePosition[0],y:symbolMeta.bundlePosition[1]},animationModel,dataIndex),symbolMeta.symbolRepeat?createOrUpdateRepeatSymbols(bar,opt,symbolMeta,!0):createOrUpdateSingleSymbol(bar,opt,symbolMeta,!0);createOrUpdateBarRect(bar,symbolMeta,!0),createOrUpdateClip(bar,opt,symbolMeta,!0)}(bar,opt,symbolMeta):bar=createBar(data,opt,symbolMeta,!0),data.setItemGraphicEl(newIndex,bar),bar.__pictorialSymbolMeta=symbolMeta,group.add(bar),PictorialBarView_updateCommon(bar,opt,symbolMeta)}else group.remove(bar)}).remove(function(dataIndex){var bar=oldData.getItemGraphicEl(dataIndex);bar&&removeBar(oldData,dataIndex,bar.__pictorialSymbolMeta.animationModel,bar)}).execute();var clipPath=seriesModel.get("clip",!0)?(0,createClipPathFromCoordSys.Ip)(seriesModel.coordinateSystem,!1,seriesModel):null;return clipPath?group.setClipPath(clipPath):group.removeClipPath(),this._data=data,this.group},PictorialBarView.prototype.remove=function(ecModel,api){var group=this.group,data=this._data;ecModel.get("animation")?data&&data.eachItemGraphicEl(function(bar){removeBar(data,(0,innerStore.z)(bar).dataIndex,ecModel,bar)}):group.removeAll()},PictorialBarView.type="pictorialBar",PictorialBarView}(Chart.A);function getSymbolMeta(data,dataIndex,itemModel,opt){var layout=data.getItemLayout(dataIndex),symbolRepeat=itemModel.get("symbolRepeat"),symbolClip=itemModel.get("symbolClip"),symbolPosition=itemModel.get("symbolPosition")||"start",rotation=(itemModel.get("symbolRotate")||0)*Math.PI/180||0,symbolPatternSize=itemModel.get("symbolPatternSize")||2,isAnimationEnabled=itemModel.isAnimationEnabled(),symbolMeta={dataIndex,layout,itemModel,symbolType:data.getItemVisual(dataIndex,"symbol")||"circle",style:data.getItemVisual(dataIndex,"style"),symbolClip,symbolRepeat,symbolRepeatDirection:itemModel.get("symbolRepeatDirection"),symbolPatternSize,rotation,animationModel:isAnimationEnabled?itemModel:null,hoverScale:isAnimationEnabled&&itemModel.get(["emphasis","scale"]),z2:itemModel.getShallow("z",!0)||0};!function prepareBarLength(itemModel,symbolRepeat,layout,opt,outputSymbolMeta){var boundingLength,valueDim=opt.valueDim,symbolBoundingData=itemModel.get("symbolBoundingData"),valueAxis=opt.coordSys.getOtherAxis(opt.coordSys.getBaseAxis()),zeroPx=valueAxis.toGlobalCoord(valueAxis.dataToCoord(0)),pxSignIdx=1-+(layout[valueDim.wh]<=0);if(util.isArray(symbolBoundingData)){var symbolBoundingExtent=[convertToCoordOnAxis(valueAxis,symbolBoundingData[0])-zeroPx,convertToCoordOnAxis(valueAxis,symbolBoundingData[1])-zeroPx];symbolBoundingExtent[1]<symbolBoundingExtent[0]&&symbolBoundingExtent.reverse(),boundingLength=symbolBoundingExtent[pxSignIdx]}else boundingLength=null!=symbolBoundingData?convertToCoordOnAxis(valueAxis,symbolBoundingData)-zeroPx:symbolRepeat?opt.coordSysExtent[valueDim.index][pxSignIdx]-zeroPx:layout[valueDim.wh];outputSymbolMeta.boundingLength=boundingLength,symbolRepeat&&(outputSymbolMeta.repeatCutLength=layout[valueDim.wh]);var isXAxis="x"===valueDim.xy,isInverse=valueAxis.inverse;outputSymbolMeta.pxSign=isXAxis&&!isInverse||!isXAxis&&isInverse?boundingLength>=0?1:-1:boundingLength>0?1:-1}(itemModel,symbolRepeat,layout,opt,symbolMeta),function prepareSymbolSize(data,dataIndex,layout,symbolRepeat,symbolClip,boundingLength,pxSign,symbolPatternSize,opt,outputSymbolMeta){var parsedSymbolSize,valueDim=opt.valueDim,categoryDim=opt.categoryDim,categorySize=Math.abs(layout[categoryDim.wh]),symbolSize=data.getItemVisual(dataIndex,"symbolSize");parsedSymbolSize=util.isArray(symbolSize)?symbolSize.slice():null==symbolSize?["100%","100%"]:[symbolSize,symbolSize];parsedSymbolSize[categoryDim.index]=(0,number.lo)(parsedSymbolSize[categoryDim.index],categorySize),parsedSymbolSize[valueDim.index]=(0,number.lo)(parsedSymbolSize[valueDim.index],symbolRepeat?categorySize:Math.abs(boundingLength)),outputSymbolMeta.symbolSize=parsedSymbolSize;var symbolScale=outputSymbolMeta.symbolScale=[parsedSymbolSize[0]/symbolPatternSize,parsedSymbolSize[1]/symbolPatternSize];symbolScale[valueDim.index]*=(opt.isHorizontal?-1:1)*pxSign}(data,dataIndex,layout,symbolRepeat,0,symbolMeta.boundingLength,symbolMeta.pxSign,symbolPatternSize,opt,symbolMeta),function prepareLineWidth(itemModel,symbolScale,rotation,opt,outputSymbolMeta){var valueLineWidth=itemModel.get(BAR_BORDER_WIDTH_QUERY)||0;valueLineWidth&&(pathForLineWidth.attr({scaleX:symbolScale[0],scaleY:symbolScale[1],rotation}),pathForLineWidth.updateTransform(),valueLineWidth/=pathForLineWidth.getLineScale(),valueLineWidth*=symbolScale[opt.valueDim.index]);outputSymbolMeta.valueLineWidth=valueLineWidth||0}(itemModel,symbolMeta.symbolScale,rotation,opt,symbolMeta);var symbolSize=symbolMeta.symbolSize,symbolOffset=(0,util_symbol.hV)(itemModel.get("symbolOffset"),symbolSize);return function prepareLayoutInfo(itemModel,symbolSize,layout,symbolRepeat,symbolClip,symbolOffset,symbolPosition,valueLineWidth,boundingLength,repeatCutLength,opt,outputSymbolMeta){var categoryDim=opt.categoryDim,valueDim=opt.valueDim,pxSign=outputSymbolMeta.pxSign,unitLength=Math.max(symbolSize[valueDim.index]+valueLineWidth,0),pathLen=unitLength;if(symbolRepeat){var absBoundingLength=Math.abs(boundingLength),symbolMargin=util.retrieve(itemModel.get("symbolMargin"),"15%")+"",hasEndGap=!1;symbolMargin.lastIndexOf("!")===symbolMargin.length-1&&(hasEndGap=!0,symbolMargin=symbolMargin.slice(0,symbolMargin.length-1));var symbolMarginNumeric=(0,number.lo)(symbolMargin,symbolSize[valueDim.index]),uLenWithMargin=Math.max(unitLength+2*symbolMarginNumeric,0),endFix=hasEndGap?0:2*symbolMarginNumeric,repeatSpecified=(0,number.kf)(symbolRepeat),repeatTimes=repeatSpecified?symbolRepeat:toIntTimes((absBoundingLength+endFix)/uLenWithMargin);uLenWithMargin=unitLength+2*(symbolMarginNumeric=(absBoundingLength-repeatTimes*unitLength)/2/(hasEndGap?repeatTimes:Math.max(repeatTimes-1,1))),endFix=hasEndGap?0:2*symbolMarginNumeric,repeatSpecified||"fixed"===symbolRepeat||(repeatTimes=repeatCutLength?toIntTimes((Math.abs(repeatCutLength)+endFix)/uLenWithMargin):0),pathLen=repeatTimes*uLenWithMargin-endFix,outputSymbolMeta.repeatTimes=repeatTimes,outputSymbolMeta.symbolMargin=symbolMarginNumeric}var sizeFix=pxSign*(pathLen/2),pathPosition=outputSymbolMeta.pathPosition=[];pathPosition[categoryDim.index]=layout[categoryDim.wh]/2,pathPosition[valueDim.index]="start"===symbolPosition?sizeFix:"end"===symbolPosition?boundingLength-sizeFix:boundingLength/2,symbolOffset&&(pathPosition[0]+=symbolOffset[0],pathPosition[1]+=symbolOffset[1]);var bundlePosition=outputSymbolMeta.bundlePosition=[];bundlePosition[categoryDim.index]=layout[categoryDim.xy],bundlePosition[valueDim.index]=layout[valueDim.xy];var barRectShape=outputSymbolMeta.barRectShape=util.extend({},layout);barRectShape[valueDim.wh]=pxSign*Math.max(Math.abs(layout[valueDim.wh]),Math.abs(pathPosition[valueDim.index]+sizeFix)),barRectShape[categoryDim.wh]=layout[categoryDim.wh];var clipShape=outputSymbolMeta.clipShape={};clipShape[categoryDim.xy]=-layout[categoryDim.xy],clipShape[categoryDim.wh]=opt.ecSize[categoryDim.wh],clipShape[valueDim.xy]=0,clipShape[valueDim.wh]=layout[valueDim.wh]}(itemModel,symbolSize,layout,symbolRepeat,0,symbolOffset,symbolPosition,symbolMeta.valueLineWidth,symbolMeta.boundingLength,symbolMeta.repeatCutLength,opt,symbolMeta),symbolMeta}function convertToCoordOnAxis(axis,value){return axis.toGlobalCoord(axis.dataToCoord(axis.scale.parse(value)))}function createPath(symbolMeta){var symbolPatternSize=symbolMeta.symbolPatternSize,path=(0,util_symbol.v5)(symbolMeta.symbolType,-symbolPatternSize/2,-symbolPatternSize/2,symbolPatternSize,symbolPatternSize);return path.attr({culling:!0}),"image"!==path.type&&path.setStyle({strokeNoScale:!0}),path}function createOrUpdateRepeatSymbols(bar,opt,symbolMeta,isUpdate){var bundle=bar.__pictorialBundle,symbolSize=symbolMeta.symbolSize,valueLineWidth=symbolMeta.valueLineWidth,pathPosition=symbolMeta.pathPosition,valueDim=opt.valueDim,repeatTimes=symbolMeta.repeatTimes||0,index=0,unit=symbolSize[opt.valueDim.index]+valueLineWidth+2*symbolMeta.symbolMargin;for(eachPath(bar,function(path){path.__pictorialAnimationIndex=index,path.__pictorialRepeatTimes=repeatTimes,index<repeatTimes?updateAttr(path,null,makeTarget(index),symbolMeta,isUpdate):updateAttr(path,null,{scaleX:0,scaleY:0},symbolMeta,isUpdate,function(){bundle.remove(path)}),index++});index<repeatTimes;index++){var path=createPath(symbolMeta);path.__pictorialAnimationIndex=index,path.__pictorialRepeatTimes=repeatTimes,bundle.add(path);var target=makeTarget(index);updateAttr(path,{x:target.x,y:target.y,scaleX:0,scaleY:0},{scaleX:target.scaleX,scaleY:target.scaleY,rotation:target.rotation},symbolMeta,isUpdate)}function makeTarget(index){var position=pathPosition.slice(),pxSign=symbolMeta.pxSign,i=index;return("start"===symbolMeta.symbolRepeatDirection?pxSign>0:pxSign<0)&&(i=repeatTimes-1-index),position[valueDim.index]=unit*(i-repeatTimes/2+.5)+pathPosition[valueDim.index],{x:position[0],y:position[1],scaleX:symbolMeta.symbolScale[0],scaleY:symbolMeta.symbolScale[1],rotation:symbolMeta.rotation}}}function createOrUpdateSingleSymbol(bar,opt,symbolMeta,isUpdate){var bundle=bar.__pictorialBundle,mainPath=bar.__pictorialMainPath;mainPath?updateAttr(mainPath,null,{x:symbolMeta.pathPosition[0],y:symbolMeta.pathPosition[1],scaleX:symbolMeta.symbolScale[0],scaleY:symbolMeta.symbolScale[1],rotation:symbolMeta.rotation},symbolMeta,isUpdate):(mainPath=bar.__pictorialMainPath=createPath(symbolMeta),bundle.add(mainPath),updateAttr(mainPath,{x:symbolMeta.pathPosition[0],y:symbolMeta.pathPosition[1],scaleX:0,scaleY:0,rotation:symbolMeta.rotation},{scaleX:symbolMeta.symbolScale[0],scaleY:symbolMeta.symbolScale[1]},symbolMeta,isUpdate))}function createOrUpdateBarRect(bar,symbolMeta,isUpdate){var rectShape=util.extend({},symbolMeta.barRectShape),barRect=bar.__pictorialBarRect;barRect?updateAttr(barRect,null,{shape:rectShape},symbolMeta,isUpdate):((barRect=bar.__pictorialBarRect=new Rect.A({z2:2,shape:rectShape,silent:!0,style:{stroke:"transparent",fill:"transparent",lineWidth:0}})).disableMorphing=!0,bar.add(barRect))}function createOrUpdateClip(bar,opt,symbolMeta,isUpdate){if(symbolMeta.symbolClip){var clipPath=bar.__pictorialClipPath,clipShape=util.extend({},symbolMeta.clipShape),valueDim=opt.valueDim,animationModel=symbolMeta.animationModel,dataIndex=symbolMeta.dataIndex;if(clipPath)basicTransition.oi(clipPath,{shape:clipShape},animationModel,dataIndex);else{clipShape[valueDim.wh]=0,clipPath=new Rect.A({shape:clipShape}),bar.__pictorialBundle.setClipPath(clipPath),bar.__pictorialClipPath=clipPath;var target={};target[valueDim.wh]=symbolMeta.clipShape[valueDim.wh],graphic[isUpdate?"updateProps":"initProps"](clipPath,{shape:target},animationModel,dataIndex)}}}function getItemModel(data,dataIndex){var itemModel=data.getItemModel(dataIndex);return itemModel.getAnimationDelayParams=getAnimationDelayParams,itemModel.isAnimationEnabled=isAnimationEnabled,itemModel}function getAnimationDelayParams(path){return{index:path.__pictorialAnimationIndex,count:path.__pictorialRepeatTimes}}function isAnimationEnabled(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow("animation")}function createBar(data,opt,symbolMeta,isUpdate){var bar=new Group.A,bundle=new Group.A;return bar.add(bundle),bar.__pictorialBundle=bundle,bundle.x=symbolMeta.bundlePosition[0],bundle.y=symbolMeta.bundlePosition[1],symbolMeta.symbolRepeat?createOrUpdateRepeatSymbols(bar,opt,symbolMeta):createOrUpdateSingleSymbol(bar,0,symbolMeta),createOrUpdateBarRect(bar,symbolMeta,isUpdate),createOrUpdateClip(bar,opt,symbolMeta,isUpdate),bar.__pictorialShapeStr=getShapeStr(data,symbolMeta),bar.__pictorialSymbolMeta=symbolMeta,bar}function removeBar(data,dataIndex,animationModel,bar){var labelRect=bar.__pictorialBarRect;labelRect&&labelRect.removeTextContent();var paths=[];eachPath(bar,function(path){paths.push(path)}),bar.__pictorialMainPath&&paths.push(bar.__pictorialMainPath),bar.__pictorialClipPath&&(animationModel=null),util.each(paths,function(path){basicTransition.Nz(path,{scaleX:0,scaleY:0},animationModel,dataIndex,function(){bar.parent&&bar.parent.remove(bar)})}),data.setItemGraphicEl(dataIndex,null)}function getShapeStr(data,symbolMeta){return[data.getItemVisual(symbolMeta.dataIndex,"symbol")||"none",!!symbolMeta.symbolRepeat,!!symbolMeta.symbolClip].join(":")}function eachPath(bar,cb,context){util.each(bar.__pictorialBundle.children(),function(el){el!==bar.__pictorialBarRect&&cb.call(context,el)})}function updateAttr(el,immediateAttrs,animationAttrs,symbolMeta,isUpdate,cb){immediateAttrs&&el.attr(immediateAttrs),symbolMeta.symbolClip&&!isUpdate?animationAttrs&&el.attr(animationAttrs):animationAttrs&&graphic[isUpdate?"updateProps":"initProps"](el,animationAttrs,symbolMeta.animationModel,symbolMeta.dataIndex,cb)}function PictorialBarView_updateCommon(bar,opt,symbolMeta){var dataIndex=symbolMeta.dataIndex,itemModel=symbolMeta.itemModel,emphasisModel=itemModel.getModel("emphasis"),emphasisStyle=emphasisModel.getModel("itemStyle").getItemStyle(),blurStyle=itemModel.getModel(["blur","itemStyle"]).getItemStyle(),selectStyle=itemModel.getModel(["select","itemStyle"]).getItemStyle(),cursorStyle=itemModel.getShallow("cursor"),focus=emphasisModel.get("focus"),blurScope=emphasisModel.get("blurScope"),hoverScale=emphasisModel.get("scale");eachPath(bar,function(path){if(path instanceof graphic_Image.Ay){var pathStyle=path.style;path.useStyle(util.extend({image:pathStyle.image,x:pathStyle.x,y:pathStyle.y,width:pathStyle.width,height:pathStyle.height},symbolMeta.style))}else path.useStyle(symbolMeta.style);var emphasisState=path.ensureState("emphasis");emphasisState.style=emphasisStyle,hoverScale&&(emphasisState.scaleX=1.1*path.scaleX,emphasisState.scaleY=1.1*path.scaleY),path.ensureState("blur").style=blurStyle,path.ensureState("select").style=selectStyle,cursorStyle&&(path.cursor=cursorStyle),path.z2=symbolMeta.z2});var barPositionOutside=opt.valueDim.posDesc[+(symbolMeta.boundingLength>0)],barRect=bar.__pictorialBarRect;barRect.ignoreClip=!0,(0,labelStyle.qM)(barRect,(0,labelStyle.lx)(itemModel),{labelFetcher:opt.seriesModel,labelDataIndex:dataIndex,defaultText:(0,labelHelper.i)(opt.seriesModel.getData(),dataIndex),inheritColor:symbolMeta.style.fill,defaultOpacity:symbolMeta.style.opacity,defaultOutsidePosition:barPositionOutside}),(0,states.Lm)(bar,focus,blurScope,emphasisModel.get("disabled"))}function toIntTimes(times){var roundedTimes=Math.round(times);return Math.abs(times-roundedTimes)<1e-4?roundedTimes:Math.ceil(times)}const bar_PictorialBarView=PictorialBarView;var BaseBarSeries=__webpack_require__("./node_modules/echarts/lib/chart/bar/BaseBarSeries.js"),PictorialBarSeriesModel=function(_super){function PictorialBarSeriesModel(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=PictorialBarSeriesModel.type,_this.hasSymbolVisual=!0,_this.defaultSymbol="roundRect",_this}return(0,tslib_es6.C6)(PictorialBarSeriesModel,_super),PictorialBarSeriesModel.prototype.getInitialData=function(option){return option.stack=null,_super.prototype.getInitialData.apply(this,arguments)},PictorialBarSeriesModel.type="series.pictorialBar",PictorialBarSeriesModel.dependencies=["grid"],PictorialBarSeriesModel.defaultOption=(0,component.G_)(BaseBarSeries.A.defaultOption,{symbol:"circle",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:!1,symbolRepeatDirection:"end",symbolClip:!1,symbolBoundingData:null,symbolPatternSize:400,barGap:"-100%",clip:!1,progressive:0,emphasis:{scale:!1},select:{itemStyle:{borderColor:"#212121"}}}),PictorialBarSeriesModel}(BaseBarSeries.A);const PictorialBarSeries=PictorialBarSeriesModel;var barGrid=__webpack_require__("./node_modules/echarts/lib/layout/barGrid.js");var poly=__webpack_require__("./node_modules/echarts/lib/chart/line/poly.js"),ThemeRiverView=function(_super){function ThemeRiverView(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=ThemeRiverView.type,_this._layers=[],_this}return(0,tslib_es6.C6)(ThemeRiverView,_super),ThemeRiverView.prototype.render=function(seriesModel,ecModel,api){var data=seriesModel.getData(),self=this,group=this.group,layersSeries=seriesModel.getLayerSeries(),layoutInfo=data.getLayout("layoutInfo"),rect=layoutInfo.rect,boundaryGap=layoutInfo.boundaryGap;function keyGetter(item){return item.name}group.x=0,group.y=rect.y+boundaryGap[0];var dataDiffer=new DataDiffer.A(this._layersSeries||[],layersSeries,keyGetter,keyGetter),newLayersGroups=[];function process(status,idx,oldIdx){var oldLayersGroups=self._layers;if("remove"!==status){for(var style,polygon,points0=[],points1=[],indices=layersSeries[idx].indices,j=0;j<indices.length;j++){var layout=data.getItemLayout(indices[j]),x=layout.x,y0=layout.y0,y=layout.y;points0.push(x,y0),points1.push(x,y0+y),style=data.getItemVisual(indices[j],"style")}var textLayout=data.getItemLayout(indices[0]),margin=seriesModel.getModel("label").get("margin"),emphasisModel=seriesModel.getModel("emphasis");if("add"===status){var layerGroup=newLayersGroups[idx]=new Group.A;polygon=new poly.z({shape:{points:points0,stackedOnPoints:points1,smooth:.4,stackedOnSmooth:.4,smoothConstraint:!1},z2:0}),layerGroup.add(polygon),group.add(layerGroup),seriesModel.isAnimationEnabled()&&polygon.setClipPath(function ThemeRiverView_createGridClipShape(rect,seriesModel,cb){var rectEl=new Rect.A({shape:{x:rect.x-10,y:rect.y-10,width:0,height:rect.height+20}});return basicTransition.LW(rectEl,{shape:{x:rect.x-50,width:rect.width+100,height:rect.height+20}},seriesModel,cb),rectEl}(polygon.getBoundingRect(),seriesModel,function(){polygon.removeClipPath()}))}else{layerGroup=oldLayersGroups[oldIdx];polygon=layerGroup.childAt(0),group.add(layerGroup),newLayersGroups[idx]=layerGroup,basicTransition.oi(polygon,{shape:{points:points0,stackedOnPoints:points1}},seriesModel),(0,basicTransition.ap)(polygon)}(0,labelStyle.qM)(polygon,(0,labelStyle.lx)(seriesModel),{labelDataIndex:indices[j-1],defaultText:data.getName(indices[j-1]),inheritColor:style.fill},{normal:{verticalAlign:"middle"}}),polygon.setTextConfig({position:null,local:!0});var labelEl=polygon.getTextContent();labelEl&&(labelEl.x=textLayout.x-margin,labelEl.y=textLayout.y0+textLayout.y/2),polygon.useStyle(style),data.setItemGraphicEl(idx,polygon),(0,states.Mx)(polygon,seriesModel),(0,states.Lm)(polygon,emphasisModel.get("focus"),emphasisModel.get("blurScope"),emphasisModel.get("disabled"))}else group.remove(oldLayersGroups[idx])}dataDiffer.add((0,util.bind)(process,this,"add")).update((0,util.bind)(process,this,"update")).remove((0,util.bind)(process,this,"remove")).execute(),this._layersSeries=layersSeries,this._layers=newLayersGroups},ThemeRiverView.type="themeRiver",ThemeRiverView}(Chart.A);const themeRiver_ThemeRiverView=ThemeRiverView;var ThemeRiverSeriesModel=function(_super){function ThemeRiverSeriesModel(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=ThemeRiverSeriesModel.type,_this}return(0,tslib_es6.C6)(ThemeRiverSeriesModel,_super),ThemeRiverSeriesModel.prototype.init=function(option){_super.prototype.init.apply(this,arguments),this.legendVisualProvider=new LegendVisualProvider.A(util.bind(this.getData,this),util.bind(this.getRawData,this))},ThemeRiverSeriesModel.prototype.fixData=function(data){var rawDataLength=data.length,timeValueKeys={},groupResult=(0,util_model.Sq)(data,function(item){return timeValueKeys.hasOwnProperty(item[0]+"")||(timeValueKeys[item[0]+""]=-1),item[2]}),layerData=[];groupResult.buckets.each(function(items,key){layerData.push({name:key,dataList:items})});for(var layerNum=layerData.length,k=0;k<layerNum;++k){for(var name_1=layerData[k].name,j=0;j<layerData[k].dataList.length;++j){var timeValue=layerData[k].dataList[j][0]+"";timeValueKeys[timeValue]=k}for(var timeValue in timeValueKeys)timeValueKeys.hasOwnProperty(timeValue)&&timeValueKeys[timeValue]!==k&&(timeValueKeys[timeValue]=k,data[rawDataLength]=[timeValue,0,name_1],rawDataLength++)}return data},ThemeRiverSeriesModel.prototype.getInitialData=function(option,ecModel){for(var axisType=this.getReferringComponents("singleAxis",util_model.US).models[0].get("type"),filterData=util.filter(option.data,function(dataItem){return void 0!==dataItem[2]}),data=this.fixData(filterData||[]),nameList=[],nameMap=this.nameMap=util.createHashMap(),count=0,i=0;i<data.length;++i)nameList.push(data[i][2]),nameMap.get(data[i][2])||(nameMap.set(data[i][2],count),count++);var dimensions=(0,createDimensions.A)(data,{coordDimensions:["single"],dimensionsDefine:[{name:"time",type:(0,dimensionHelper.B)(axisType)},{name:"value",type:"float"},{name:"name",type:"ordinal"}],encodeDefine:{single:0,value:1,itemName:2}}).dimensions,list=new SeriesData.A(dimensions,this);return list.initData(data),list},ThemeRiverSeriesModel.prototype.getLayerSeries=function(){for(var data=this.getData(),lenCount=data.count(),indexArr=[],i=0;i<lenCount;++i)indexArr[i]=i;var timeDim=data.mapDimension("single"),groupResult=(0,util_model.Sq)(indexArr,function(index){return data.get("name",index)}),layerSeries=[];return groupResult.buckets.each(function(items,key){items.sort(function(index1,index2){return data.get(timeDim,index1)-data.get(timeDim,index2)}),layerSeries.push({name:key,indices:items})}),layerSeries},ThemeRiverSeriesModel.prototype.getAxisTooltipData=function(dim,value,baseAxis){util.isArray(dim)||(dim=dim?[dim]:[]);for(var nestestValue,data=this.getData(),layerSeries=this.getLayerSeries(),indices=[],layerNum=layerSeries.length,i=0;i<layerNum;++i){for(var minDist=Number.MAX_VALUE,nearestIdx=-1,pointNum=layerSeries[i].indices.length,j=0;j<pointNum;++j){var theValue=data.get(dim[0],layerSeries[i].indices[j]),dist=Math.abs(theValue-value);dist<=minDist&&(nestestValue=theValue,minDist=dist,nearestIdx=layerSeries[i].indices[j])}indices.push(nearestIdx)}return{dataIndices:indices,nestestValue}},ThemeRiverSeriesModel.prototype.formatTooltip=function(dataIndex,multipleSeries,dataType){var data=this.getData(),name=data.getName(dataIndex),value=data.get(data.mapDimension("value"),dataIndex);return(0,tooltipMarkup.Qx)("nameValue",{name,value})},ThemeRiverSeriesModel.type="series.themeRiver",ThemeRiverSeriesModel.dependencies=["singleAxis"],ThemeRiverSeriesModel.defaultOption={z:2,colorBy:"data",coordinateSystem:"singleAxis",boundaryGap:["10%","10%"],singleAxisIndex:0,animationEasing:"linear",label:{margin:4,show:!0,position:"left",fontSize:11},emphasis:{label:{show:!0}}},ThemeRiverSeriesModel}(Series.A);const ThemeRiverSeries=ThemeRiverSeriesModel;function themeRiverLayout(ecModel,api){ecModel.eachSeriesByType("themeRiver",function(seriesModel){var data=seriesModel.getData(),single=seriesModel.coordinateSystem,layoutInfo={},rect=single.getRect();layoutInfo.rect=rect;var boundaryGap=seriesModel.get("boundaryGap"),axis=single.getAxis();(layoutInfo.boundaryGap=boundaryGap,"horizontal"===axis.orient)?(boundaryGap[0]=number.lo(boundaryGap[0],rect.height),boundaryGap[1]=number.lo(boundaryGap[1],rect.height),doThemeRiverLayout(data,seriesModel,rect.height-boundaryGap[0]-boundaryGap[1])):(boundaryGap[0]=number.lo(boundaryGap[0],rect.width),boundaryGap[1]=number.lo(boundaryGap[1],rect.width),doThemeRiverLayout(data,seriesModel,rect.width-boundaryGap[0]-boundaryGap[1]));data.setLayout("layoutInfo",layoutInfo)})}function doThemeRiverLayout(data,seriesModel,height){if(data.count())for(var baseY0,coordSys=seriesModel.coordinateSystem,layerSeries=seriesModel.getLayerSeries(),timeDim=data.mapDimension("single"),valueDim=data.mapDimension("value"),layerPoints=util.map(layerSeries,function(singleLayer){return util.map(singleLayer.indices,function(idx){var pt=coordSys.dataToPoint(data.get(timeDim,idx));return pt[1]=data.get(valueDim,idx),pt})}),base=function computeBaseline(data){for(var layerNum=data.length,pointNum=data[0].length,sums=[],y0=[],max=0,i=0;i<pointNum;++i){for(var temp=0,j=0;j<layerNum;++j)temp+=data[j][i][1];temp>max&&(max=temp),sums.push(temp)}for(var k=0;k<pointNum;++k)y0[k]=(max-sums[k])/2;max=0;for(var l=0;l<pointNum;++l){var sum=sums[l]+y0[l];sum>max&&(max=sum)}return{y0,max}}(layerPoints),baseLine=base.y0,ky=height/base.max,n=layerSeries.length,m=layerSeries[0].indices.length,j=0;j<m;++j){baseY0=baseLine[j]*ky,data.setItemLayout(layerSeries[0].indices[j],{layerIndex:0,x:layerPoints[0][j][0],y0:baseY0,y:layerPoints[0][j][1]*ky});for(var i=1;i<n;++i)baseY0+=layerPoints[i-1][j][1]*ky,data.setItemLayout(layerSeries[i].indices[j],{layerIndex:i,x:layerPoints[i][j][0],y0:baseY0,y:layerPoints[i][j][1]*ky})}}var Sector=__webpack_require__("./node_modules/zrender/lib/graphic/shape/Sector.js"),sectorHelper=__webpack_require__("./node_modules/echarts/lib/chart/helper/sectorHelper.js"),contain_util=__webpack_require__("./node_modules/zrender/lib/contain/util.js"),SunburstPiece=function(_super){function SunburstPiece(node,seriesModel,ecModel,api){var _this=_super.call(this)||this;_this.z2=2,_this.textConfig={inside:!0},(0,innerStore.z)(_this).seriesIndex=seriesModel.seriesIndex;var text=new Text.Ay({z2:4,silent:node.getModel().get(["label","silent"])});return _this.setTextContent(text),_this.updateData(!0,node,seriesModel,ecModel,api),_this}return(0,tslib_es6.C6)(SunburstPiece,_super),SunburstPiece.prototype.updateData=function(firstCreate,node,seriesModel,ecModel,api){this.node=node,node.piece=this,seriesModel=seriesModel||this._seriesModel,ecModel=ecModel||this._ecModel;var sector=this;(0,innerStore.z)(sector).dataIndex=node.dataIndex;var itemModel=node.getModel(),emphasisModel=itemModel.getModel("emphasis"),layout=node.getLayout(),sectorShape=util.extend({},layout);sectorShape.label=null;var normalStyle=node.getVisual("style");normalStyle.lineJoin="bevel";var decal=node.getVisual("decal");decal&&(normalStyle.decal=(0,util_decal.w)(decal,api));var cornerRadius=(0,sectorHelper.i)(itemModel.getModel("itemStyle"),sectorShape,!0);util.extend(sectorShape,cornerRadius),util.each(states.BV,function(stateName){var state=sector.ensureState(stateName),itemStyleModel=itemModel.getModel([stateName,"itemStyle"]);state.style=itemStyleModel.getItemStyle();var cornerRadius=(0,sectorHelper.i)(itemStyleModel,sectorShape);cornerRadius&&(state.shape=cornerRadius)}),firstCreate?(sector.setShape(sectorShape),sector.shape.r=layout.r0,basicTransition.LW(sector,{shape:{r:layout.r}},seriesModel,node.dataIndex)):(basicTransition.oi(sector,{shape:sectorShape},seriesModel),(0,basicTransition.ap)(sector)),sector.useStyle(normalStyle),this._updateLabel(seriesModel);var cursorStyle=itemModel.getShallow("cursor");cursorStyle&&sector.attr("cursor",cursorStyle),this._seriesModel=seriesModel||this._seriesModel,this._ecModel=ecModel||this._ecModel;var focus=emphasisModel.get("focus"),focusOrIndices="relative"===focus?util.concatArray(node.getAncestorsIndices(),node.getDescendantIndices()):"ancestor"===focus?node.getAncestorsIndices():"descendant"===focus?node.getDescendantIndices():focus;(0,states.Lm)(this,focusOrIndices,emphasisModel.get("blurScope"),emphasisModel.get("disabled"))},SunburstPiece.prototype._updateLabel=function(seriesModel){var _this=this,itemModel=this.node.getModel(),normalLabelModel=itemModel.getModel("label"),layout=this.node.getLayout(),angle=layout.endAngle-layout.startAngle,midAngle=(layout.startAngle+layout.endAngle)/2,dx=Math.cos(midAngle),dy=Math.sin(midAngle),sector=this,label=sector.getTextContent(),dataIndex=this.node.dataIndex,labelMinAngle=normalLabelModel.get("minAngle")/180*Math.PI,isNormalShown=normalLabelModel.get("show")&&!(null!=labelMinAngle&&Math.abs(angle)<labelMinAngle);function getLabelAttr(model,name){var stateAttr=model.get(name);return null==stateAttr?normalLabelModel.get(name):stateAttr}label.ignore=!isNormalShown,util.each(states.wV,function(stateName){var labelStateModel="normal"===stateName?itemModel.getModel("label"):itemModel.getModel([stateName,"label"]),isNormal="normal"===stateName,state=isNormal?label:label.ensureState(stateName),text=seriesModel.getFormattedLabel(dataIndex,stateName);isNormal&&(text=text||_this.node.name),state.style=(0,labelStyle.VB)(labelStateModel,{},null,"normal"!==stateName,!0),text&&(state.style.text=text);var isShown=labelStateModel.get("show");null==isShown||isNormal||(state.ignore=!isShown);var r,labelPosition=getLabelAttr(labelStateModel,"position"),sectorState=isNormal?sector:sector.states[stateName],labelColor=sectorState.style.fill;sectorState.textConfig={outsideFill:"inherit"===labelStateModel.get("color")?labelColor:null,inside:"outside"!==labelPosition};var labelPadding=getLabelAttr(labelStateModel,"distance")||0,textAlign=getLabelAttr(labelStateModel,"align"),rotateType=getLabelAttr(labelStateModel,"rotate"),flipStartAngle=.5*Math.PI,flipEndAngle=1.5*Math.PI,midAngleNormal=(0,contain_util.n)("tangential"===rotateType?Math.PI/2-midAngle:midAngle),needsFlip=midAngleNormal>flipStartAngle&&!(0,number.dh)(midAngleNormal-flipStartAngle)&&midAngleNormal<flipEndAngle;"outside"===labelPosition?(r=layout.r+labelPadding,textAlign=needsFlip?"right":"left"):textAlign&&"center"!==textAlign?"left"===textAlign?(r=layout.r0+labelPadding,textAlign=needsFlip?"right":"left"):"right"===textAlign&&(r=layout.r-labelPadding,textAlign=needsFlip?"left":"right"):(r=angle===2*Math.PI&&0===layout.r0?0:(layout.r+layout.r0)/2,textAlign="center"),state.style.align=textAlign,state.style.verticalAlign=getLabelAttr(labelStateModel,"verticalAlign")||"middle",state.x=r*dx+layout.cx,state.y=r*dy+layout.cy;var rotate=0;"radial"===rotateType?rotate=(0,contain_util.n)(-midAngle)+(needsFlip?Math.PI:0):"tangential"===rotateType?rotate=(0,contain_util.n)(Math.PI/2-midAngle)+(needsFlip?Math.PI:0):util.isNumber(rotateType)&&(rotate=rotateType*Math.PI/180),state.rotation=(0,contain_util.n)(rotate)}),label.dirtyStyle()},SunburstPiece}(Sector.A);const sunburst_SunburstPiece=SunburstPiece;var SunburstView=function(_super){function SunburstView(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=SunburstView.type,_this}return(0,tslib_es6.C6)(SunburstView,_super),SunburstView.prototype.render=function(seriesModel,ecModel,api,payload){var self=this;this.seriesModel=seriesModel,this.api=api,this.ecModel=ecModel;var data=seriesModel.getData(),virtualRoot=data.tree.root,newRoot=seriesModel.getViewRoot(),group=this.group,renderLabelForZeroData=seriesModel.get("renderLabelForZeroData"),newChildren=[];newRoot.eachNode(function(node){newChildren.push(node)});var oldChildren=this._oldChildren||[];!function dualTravel(newChildren,oldChildren){if(0===newChildren.length&&0===oldChildren.length)return;function getKey(node){return node.getId()}function processNode(newIdx,oldIdx){!function doRenderNode(newNode,oldNode){renderLabelForZeroData||!newNode||newNode.getValue()||(newNode=null);if(newNode!==virtualRoot&&oldNode!==virtualRoot)if(oldNode&&oldNode.piece)newNode?(oldNode.piece.updateData(!1,newNode,seriesModel,ecModel,api),data.setItemGraphicEl(newNode.dataIndex,oldNode.piece)):function removeNode(node){if(!node)return;node.piece&&(group.remove(node.piece),node.piece=null)}(oldNode);else if(newNode){var piece=new sunburst_SunburstPiece(newNode,seriesModel,ecModel,api);group.add(piece),data.setItemGraphicEl(newNode.dataIndex,piece)}}(null==newIdx?null:newChildren[newIdx],null==oldIdx?null:oldChildren[oldIdx])}new DataDiffer.A(oldChildren,newChildren,getKey,getKey).add(processNode).update(processNode).remove(util.curry(processNode,null)).execute()}(newChildren,oldChildren),function renderRollUp(virtualRoot,viewRoot){viewRoot.depth>0?(self.virtualPiece?self.virtualPiece.updateData(!1,virtualRoot,seriesModel,ecModel,api):(self.virtualPiece=new sunburst_SunburstPiece(virtualRoot,seriesModel,ecModel,api),group.add(self.virtualPiece)),viewRoot.piece.off("click"),self.virtualPiece.on("click",function(e){self._rootToNode(viewRoot.parentNode)})):self.virtualPiece&&(group.remove(self.virtualPiece),self.virtualPiece=null)}(virtualRoot,newRoot),this._initEvents(),this._oldChildren=newChildren},SunburstView.prototype._initEvents=function(){var _this=this;this.group.off("click"),this.group.on("click",function(e){var targetFound=!1;_this.seriesModel.getViewRoot().eachNode(function(node){if(!targetFound&&node.piece&&node.piece===e.target){var nodeClick=node.getModel().get("nodeClick");if("rootToNode"===nodeClick)_this._rootToNode(node);else if("link"===nodeClick){var itemModel=node.getModel(),link=itemModel.get("link");if(link){var linkTarget=itemModel.get("target",!0)||"_blank";(0,format.JW)(link,linkTarget)}}targetFound=!0}})})},SunburstView.prototype._rootToNode=function(node){node!==this.seriesModel.getViewRoot()&&this.api.dispatchAction({type:"sunburstRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:node})},SunburstView.prototype.containPoint=function(point,seriesModel){var itemLayout=seriesModel.getData().getItemLayout(0);if(itemLayout){var dx=point[0]-itemLayout.cx,dy=point[1]-itemLayout.cy,radius=Math.sqrt(dx*dx+dy*dy);return radius<=itemLayout.r&&radius>=itemLayout.r0}},SunburstView.type="sunburst",SunburstView}(Chart.A);const sunburst_SunburstView=SunburstView;var SunburstSeriesModel=function(_super){function SunburstSeriesModel(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=SunburstSeriesModel.type,_this.ignoreStyleOnData=!0,_this}return(0,tslib_es6.C6)(SunburstSeriesModel,_super),SunburstSeriesModel.prototype.getInitialData=function(option,ecModel){var root={name:option.name,children:option.data};SunburstSeries_completeTreeValue(root);var levelModels=this._levelModels=util.map(option.levels||[],function(levelDefine){return new Model.A(levelDefine,this,ecModel)},this),tree=data_Tree.createTree(root,this,function beforeLink(nodeData){nodeData.wrapMethod("getItemModel",function(model,idx){var node=tree.getNodeByDataIndex(idx),levelModel=levelModels[node.depth];return levelModel&&(model.parentModel=levelModel),model})});return tree.data},SunburstSeriesModel.prototype.optionUpdated=function(){this.resetViewRoot()},SunburstSeriesModel.prototype.getDataParams=function(dataIndex){var params=_super.prototype.getDataParams.apply(this,arguments),node=this.getData().tree.getNodeByDataIndex(dataIndex);return params.treePathInfo=wrapTreePathInfo(node,this),params},SunburstSeriesModel.prototype.getLevelModel=function(node){return this._levelModels&&this._levelModels[node.depth]},SunburstSeriesModel.prototype.getViewRoot=function(){return this._viewRoot},SunburstSeriesModel.prototype.resetViewRoot=function(viewRoot){viewRoot?this._viewRoot=viewRoot:viewRoot=this._viewRoot;var root=this.getRawData().tree.root;viewRoot&&(viewRoot===root||root.contains(viewRoot))||(this._viewRoot=root)},SunburstSeriesModel.prototype.enableAriaDecal=function(){enableAriaDecalForTree(this)},SunburstSeriesModel.type="series.sunburst",SunburstSeriesModel.defaultOption={z:2,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,stillShowZeroSum:!0,nodeClick:"rootToNode",renderLabelForZeroData:!1,label:{rotate:"radial",show:!0,opacity:1,align:"center",position:"inside",distance:5,silent:!0},itemStyle:{borderWidth:1,borderColor:"white",borderType:"solid",shadowBlur:0,shadowColor:"rgba(0, 0, 0, 0.2)",shadowOffsetX:0,shadowOffsetY:0,opacity:1},emphasis:{focus:"descendant"},blur:{itemStyle:{opacity:.2},label:{opacity:.1}},animationType:"expansion",animationDuration:1e3,animationDurationUpdate:500,data:[],sort:"desc"},SunburstSeriesModel}(Series.A);function SunburstSeries_completeTreeValue(dataNode){var sum=0;util.each(dataNode.children,function(child){SunburstSeries_completeTreeValue(child);var childValue=child.value;util.isArray(childValue)&&(childValue=childValue[0]),sum+=childValue});var thisValue=dataNode.value;util.isArray(thisValue)&&(thisValue=thisValue[0]),(null==thisValue||isNaN(thisValue))&&(thisValue=sum),thisValue<0&&(thisValue=0),util.isArray(dataNode.value)?dataNode.value[0]=thisValue:dataNode.value=thisValue}const SunburstSeries=SunburstSeriesModel;var RADIAN=Math.PI/180;function sunburstLayout(seriesType,ecModel,api){ecModel.eachSeriesByType(seriesType,function(seriesModel){var center=seriesModel.get("center"),radius=seriesModel.get("radius");util.isArray(radius)||(radius=[0,radius]),util.isArray(center)||(center=[center,center]);var width=api.getWidth(),height=api.getHeight(),size=Math.min(width,height),cx=(0,number.lo)(center[0],width),cy=(0,number.lo)(center[1],height),r0=(0,number.lo)(radius[0],size/2),r=(0,number.lo)(radius[1],size/2),startAngle=-seriesModel.get("startAngle")*RADIAN,minAngle=seriesModel.get("minAngle")*RADIAN,virtualRoot=seriesModel.getData().tree.root,treeRoot=seriesModel.getViewRoot(),rootDepth=treeRoot.depth,sort=seriesModel.get("sort");null!=sort&&sunburstLayout_initChildren(treeRoot,sort);var validDataCount=0;util.each(treeRoot.children,function(child){!isNaN(child.getValue())&&validDataCount++});var sum=treeRoot.getValue(),unitRadian=Math.PI/(sum||validDataCount)*2,renderRollupNode=treeRoot.depth>0,levels=treeRoot.height-(renderRollupNode?-1:1),rPerLevel=(r-r0)/(levels||1),clockwise=seriesModel.get("clockwise"),stillShowZeroSum=seriesModel.get("stillShowZeroSum"),dir=clockwise?1:-1,renderNode=function(node,startAngle){if(node){var endAngle=startAngle;if(node!==virtualRoot){var value=node.getValue(),angle=0===sum&&stillShowZeroSum?unitRadian:value*unitRadian;angle<minAngle&&(angle=minAngle),endAngle=startAngle+dir*angle;var depth=node.depth-rootDepth-(renderRollupNode?-1:1),rStart=r0+rPerLevel*depth,rEnd=r0+rPerLevel*(depth+1),levelModel=seriesModel.getLevelModel(node);if(levelModel){var r0_1=levelModel.get("r0",!0),r_1=levelModel.get("r",!0),radius_1=levelModel.get("radius",!0);null!=radius_1&&(r0_1=radius_1[0],r_1=radius_1[1]),null!=r0_1&&(rStart=(0,number.lo)(r0_1,size/2)),null!=r_1&&(rEnd=(0,number.lo)(r_1,size/2))}node.setLayout({angle,startAngle,endAngle,clockwise,cx,cy,r0:rStart,r:rEnd})}if(node.children&&node.children.length){var siblingAngle_1=0;util.each(node.children,function(node){siblingAngle_1+=renderNode(node,startAngle+siblingAngle_1)})}return endAngle-startAngle}};if(renderRollupNode){var rStart=r0,rEnd=r0+rPerLevel,angle=2*Math.PI;virtualRoot.setLayout({angle,startAngle,endAngle:startAngle+angle,clockwise,cx,cy,r0:rStart,r:rEnd})}renderNode(treeRoot,startAngle)})}function sunburstLayout_initChildren(node,sortOrder){var children=node.children||[];node.children=function sunburstLayout_sort(children,sortOrder){if(util.isFunction(sortOrder)){var sortTargets=util.map(children,function(child,idx){var value=child.getValue();return{params:{depth:child.depth,height:child.height,dataIndex:child.dataIndex,getValue:function(){return value}},index:idx}});return sortTargets.sort(function(a,b){return sortOrder(a.params,b.params)}),util.map(sortTargets,function(target){return children[target.index]})}var isAsc_1="asc"===sortOrder;return children.sort(function(a,b){var diff=(a.getValue()-b.getValue())*(isAsc_1?1:-1);return 0===diff?(a.dataIndex-b.dataIndex)*(isAsc_1?-1:1):diff})}(children,sortOrder),children.length&&util.each(node.children,function(child){sunburstLayout_initChildren(child,sortOrder)})}function sunburstVisual(ecModel){var paletteScope={};ecModel.eachSeriesByType("sunburst",function(seriesModel){var data=seriesModel.getData(),tree=data.tree;tree.eachNode(function(node){var style=node.getModel().getModel("itemStyle").getItemStyle();style.fill||(style.fill=function pickColor(node,seriesModel,treeHeight){for(var current=node;current&&current.depth>1;)current=current.parentNode;var color=seriesModel.getColorFromPalette(current.name||current.dataIndex+"",paletteScope);return node.depth>1&&(0,util.isString)(color)&&(color=(0,tool_color.lift)(color,(node.depth-1)/(treeHeight-1)*.5)),color}(node,seriesModel,tree.root.height));var existsStyle=data.ensureUniqueItemVisual(node.dataIndex,"style");(0,util.extend)(existsStyle,style)})})}var STYLE_VISUAL_TYPE={color:"fill",borderColor:"stroke"},NON_STYLE_VISUAL_PROPS={symbol:1,symbolSize:1,symbolKeepAspect:1,legendIcon:1,visualMeta:1,liftZ:1,decal:1},customInnerStore=(0,util_model.$r)(),CustomSeriesModel=function(_super){function CustomSeriesModel(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=CustomSeriesModel.type,_this}return(0,tslib_es6.C6)(CustomSeriesModel,_super),CustomSeriesModel.prototype.optionUpdated=function(){this.currentZLevel=this.get("zlevel",!0),this.currentZ=this.get("z",!0)},CustomSeriesModel.prototype.getInitialData=function(option,ecModel){return(0,createSeriesData.A)(null,this)},CustomSeriesModel.prototype.getDataParams=function(dataIndex,dataType,el){var params=_super.prototype.getDataParams.call(this,dataIndex,dataType);return el&&(params.info=customInnerStore(el).info),params},CustomSeriesModel.type="series.custom",CustomSeriesModel.dependencies=["grid","polar","geo","singleAxis","calendar"],CustomSeriesModel.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,clip:!1},CustomSeriesModel}(Series.A);const CustomSeries=CustomSeriesModel;function dataToCoordSize(dataSize,dataItem){return dataItem=dataItem||[0,0],util.map(["x","y"],function(dim,dimIdx){var axis=this.getAxis(dim),val=dataItem[dimIdx],halfSize=dataSize[dimIdx]/2;return"category"===axis.type?axis.getBandWidth():Math.abs(axis.dataToCoord(val-halfSize)-axis.dataToCoord(val+halfSize))},this)}function prepareCustom_dataToCoordSize(dataSize,dataItem){return dataItem=dataItem||[0,0],util.map([0,1],function(dimIdx){var val=dataItem[dimIdx],halfSize=dataSize[dimIdx]/2,p1=[],p2=[];return p1[dimIdx]=val-halfSize,p2[dimIdx]=val+halfSize,p1[1-dimIdx]=p2[1-dimIdx]=dataItem[1-dimIdx],Math.abs(this.dataToPoint(p1)[dimIdx]-this.dataToPoint(p2)[dimIdx])},this)}function single_prepareCustom_dataToCoordSize(dataSize,dataItem){var axis=this.getAxis(),val=dataItem instanceof Array?dataItem[0]:dataItem,halfSize=(dataSize instanceof Array?dataSize[0]:dataSize)/2;return"category"===axis.type?axis.getBandWidth():Math.abs(axis.dataToCoord(val-halfSize)-axis.dataToCoord(val+halfSize))}function polar_prepareCustom_dataToCoordSize(dataSize,dataItem){return dataItem=dataItem||[0,0],util.map(["Radius","Angle"],function(dim,dimIdx){var axis=this["get"+dim+"Axis"](),val=dataItem[dimIdx],halfSize=dataSize[dimIdx]/2,result="category"===axis.type?axis.getBandWidth():Math.abs(axis.dataToCoord(val-halfSize)-axis.dataToCoord(val+halfSize));return"Angle"===dim&&(result=result*Math.PI/180),result},this)}function isEC4CompatibleStyle(style,elType,hasOwnTextContentOption,hasOwnTextConfig){return style&&(style.legacy||!1!==style.legacy&&!hasOwnTextContentOption&&!hasOwnTextConfig&&"tspan"!==elType&&("text"===elType||(0,util.hasOwn)(style,"text")))}function convertFromEC4CompatibleStyle(hostStyle,elType,isNormal){var textConfig,textContent,textContentStyle,srcStyle=hostStyle;if("text"===elType)textContentStyle=srcStyle;else{textContentStyle={},(0,util.hasOwn)(srcStyle,"text")&&(textContentStyle.text=srcStyle.text),(0,util.hasOwn)(srcStyle,"rich")&&(textContentStyle.rich=srcStyle.rich),(0,util.hasOwn)(srcStyle,"textFill")&&(textContentStyle.fill=srcStyle.textFill),(0,util.hasOwn)(srcStyle,"textStroke")&&(textContentStyle.stroke=srcStyle.textStroke),(0,util.hasOwn)(srcStyle,"fontFamily")&&(textContentStyle.fontFamily=srcStyle.fontFamily),(0,util.hasOwn)(srcStyle,"fontSize")&&(textContentStyle.fontSize=srcStyle.fontSize),(0,util.hasOwn)(srcStyle,"fontStyle")&&(textContentStyle.fontStyle=srcStyle.fontStyle),(0,util.hasOwn)(srcStyle,"fontWeight")&&(textContentStyle.fontWeight=srcStyle.fontWeight),textContent={type:"text",style:textContentStyle,silent:!0},textConfig={};var hasOwnPos=(0,util.hasOwn)(srcStyle,"textPosition");isNormal?textConfig.position=hasOwnPos?srcStyle.textPosition:"inside":hasOwnPos&&(textConfig.position=srcStyle.textPosition),(0,util.hasOwn)(srcStyle,"textPosition")&&(textConfig.position=srcStyle.textPosition),(0,util.hasOwn)(srcStyle,"textOffset")&&(textConfig.offset=srcStyle.textOffset),(0,util.hasOwn)(srcStyle,"textRotation")&&(textConfig.rotation=srcStyle.textRotation),(0,util.hasOwn)(srcStyle,"textDistance")&&(textConfig.distance=srcStyle.textDistance)}return convertEC4CompatibleRichItem(textContentStyle,hostStyle),(0,util.each)(textContentStyle.rich,function(richItem){convertEC4CompatibleRichItem(richItem,richItem)}),{textConfig,textContent}}function convertEC4CompatibleRichItem(out,richItem){richItem&&(richItem.font=richItem.textFont||richItem.font,(0,util.hasOwn)(richItem,"textStrokeWidth")&&(out.lineWidth=richItem.textStrokeWidth),(0,util.hasOwn)(richItem,"textAlign")&&(out.align=richItem.textAlign),(0,util.hasOwn)(richItem,"textVerticalAlign")&&(out.verticalAlign=richItem.textVerticalAlign),(0,util.hasOwn)(richItem,"textLineHeight")&&(out.lineHeight=richItem.textLineHeight),(0,util.hasOwn)(richItem,"textWidth")&&(out.width=richItem.textWidth),(0,util.hasOwn)(richItem,"textHeight")&&(out.height=richItem.textHeight),(0,util.hasOwn)(richItem,"textBackgroundColor")&&(out.backgroundColor=richItem.textBackgroundColor),(0,util.hasOwn)(richItem,"textPadding")&&(out.padding=richItem.textPadding),(0,util.hasOwn)(richItem,"textBorderColor")&&(out.borderColor=richItem.textBorderColor),(0,util.hasOwn)(richItem,"textBorderWidth")&&(out.borderWidth=richItem.textBorderWidth),(0,util.hasOwn)(richItem,"textBorderRadius")&&(out.borderRadius=richItem.textBorderRadius),(0,util.hasOwn)(richItem,"textBoxShadowColor")&&(out.shadowColor=richItem.textBoxShadowColor),(0,util.hasOwn)(richItem,"textBoxShadowBlur")&&(out.shadowBlur=richItem.textBoxShadowBlur),(0,util.hasOwn)(richItem,"textBoxShadowOffsetX")&&(out.shadowOffsetX=richItem.textBoxShadowOffsetX),(0,util.hasOwn)(richItem,"textBoxShadowOffsetY")&&(out.shadowOffsetY=richItem.textBoxShadowOffsetY))}function convertToEC4StyleForCustomSerise(itemStl,txStl,txCfg){var out=itemStl;out.textPosition=out.textPosition||txCfg.position||"inside",null!=txCfg.offset&&(out.textOffset=txCfg.offset),null!=txCfg.rotation&&(out.textRotation=txCfg.rotation),null!=txCfg.distance&&(out.textDistance=txCfg.distance);var isInside=out.textPosition.indexOf("inside")>=0,hostFill=itemStl.fill||"#000";convertToEC4RichItem(out,txStl);var textFillNotSet=null==out.textFill;return isInside?textFillNotSet&&(out.textFill=txCfg.insideFill||"#fff",!out.textStroke&&txCfg.insideStroke&&(out.textStroke=txCfg.insideStroke),!out.textStroke&&(out.textStroke=hostFill),null==out.textStrokeWidth&&(out.textStrokeWidth=2)):(textFillNotSet&&(out.textFill=itemStl.fill||txCfg.outsideFill||"#000"),!out.textStroke&&txCfg.outsideStroke&&(out.textStroke=txCfg.outsideStroke)),out.text=txStl.text,out.rich=txStl.rich,(0,util.each)(txStl.rich,function(richItem){convertToEC4RichItem(richItem,richItem)}),out}function convertToEC4RichItem(out,richItem){richItem&&((0,util.hasOwn)(richItem,"fill")&&(out.textFill=richItem.fill),(0,util.hasOwn)(richItem,"stroke")&&(out.textStroke=richItem.fill),(0,util.hasOwn)(richItem,"lineWidth")&&(out.textStrokeWidth=richItem.lineWidth),(0,util.hasOwn)(richItem,"font")&&(out.font=richItem.font),(0,util.hasOwn)(richItem,"fontStyle")&&(out.fontStyle=richItem.fontStyle),(0,util.hasOwn)(richItem,"fontWeight")&&(out.fontWeight=richItem.fontWeight),(0,util.hasOwn)(richItem,"fontSize")&&(out.fontSize=richItem.fontSize),(0,util.hasOwn)(richItem,"fontFamily")&&(out.fontFamily=richItem.fontFamily),(0,util.hasOwn)(richItem,"align")&&(out.textAlign=richItem.align),(0,util.hasOwn)(richItem,"verticalAlign")&&(out.textVerticalAlign=richItem.verticalAlign),(0,util.hasOwn)(richItem,"lineHeight")&&(out.textLineHeight=richItem.lineHeight),(0,util.hasOwn)(richItem,"width")&&(out.textWidth=richItem.width),(0,util.hasOwn)(richItem,"height")&&(out.textHeight=richItem.height),(0,util.hasOwn)(richItem,"backgroundColor")&&(out.textBackgroundColor=richItem.backgroundColor),(0,util.hasOwn)(richItem,"padding")&&(out.textPadding=richItem.padding),(0,util.hasOwn)(richItem,"borderColor")&&(out.textBorderColor=richItem.borderColor),(0,util.hasOwn)(richItem,"borderWidth")&&(out.textBorderWidth=richItem.borderWidth),(0,util.hasOwn)(richItem,"borderRadius")&&(out.textBorderRadius=richItem.borderRadius),(0,util.hasOwn)(richItem,"shadowColor")&&(out.textBoxShadowColor=richItem.shadowColor),(0,util.hasOwn)(richItem,"shadowBlur")&&(out.textBoxShadowBlur=richItem.shadowBlur),(0,util.hasOwn)(richItem,"shadowOffsetX")&&(out.textBoxShadowOffsetX=richItem.shadowOffsetX),(0,util.hasOwn)(richItem,"shadowOffsetY")&&(out.textBoxShadowOffsetY=richItem.shadowOffsetY),(0,util.hasOwn)(richItem,"textShadowColor")&&(out.textShadowColor=richItem.textShadowColor),(0,util.hasOwn)(richItem,"textShadowBlur")&&(out.textShadowBlur=richItem.textShadowBlur),(0,util.hasOwn)(richItem,"textShadowOffsetX")&&(out.textShadowOffsetX=richItem.textShadowOffsetX),(0,util.hasOwn)(richItem,"textShadowOffsetY")&&(out.textShadowOffsetY=richItem.textShadowOffsetY))}var Animator=__webpack_require__("./node_modules/zrender/lib/animation/Animator.js"),LEGACY_TRANSFORM_PROPS_MAP={position:["x","y"],scale:["scaleX","scaleY"],origin:["originX","originY"]},LEGACY_TRANSFORM_PROPS=(0,util.keys)(LEGACY_TRANSFORM_PROPS_MAP),ELEMENT_ANIMATABLE_PROPS=((0,util.reduce)(Transformable.Wx,function(obj,key){return obj[key]=1,obj},{}),Transformable.Wx.join(", "),["","style","shape","extra"]),transitionInnerStore=(0,util_model.$r)();function getElementAnimationConfig(animationType,el,elOption,parentModel,dataIndex){var animationProp=animationType+"Animation",config=(0,basicTransition.Jw)(animationType,parentModel,dataIndex)||{},userDuring=transitionInnerStore(el).userDuring;return config.duration>0&&(config.during=userDuring?(0,util.bind)(duringCall,{el,userDuring}):null,config.setToFinal=!0,config.scope=animationType),(0,util.extend)(config,elOption[animationProp]),config}function applyUpdateTransition(el,elOption,animatableModel,opts){var dataIndex=(opts=opts||{}).dataIndex,isInit=opts.isInit,clearStyle=opts.clearStyle,hasAnimation=animatableModel.isAnimationEnabled(),store=transitionInnerStore(el),styleOpt=elOption.style;store.userDuring=elOption.during;var transFromProps={},propsToSet={};if(function prepareTransformAllPropsFinal(el,elOption,allProps){for(var i=0;i<LEGACY_TRANSFORM_PROPS.length;i++){var legacyName=LEGACY_TRANSFORM_PROPS[i],xyName=LEGACY_TRANSFORM_PROPS_MAP[legacyName],legacyArr=elOption[legacyName];legacyArr&&(allProps[xyName[0]]=legacyArr[0],allProps[xyName[1]]=legacyArr[1])}for(i=0;i<Transformable.Wx.length;i++){var key=Transformable.Wx[i];null!=elOption[key]&&(allProps[key]=elOption[key])}}(0,elOption,propsToSet),prepareShapeOrExtraAllPropsFinal("shape",elOption,propsToSet),prepareShapeOrExtraAllPropsFinal("extra",elOption,propsToSet),!isInit&&hasAnimation&&(!function prepareTransformTransitionFrom(el,elOption,transFromProps){for(var transition=elOption.transition,transitionKeys=isTransitionAll(transition)?Transformable.Wx:(0,util_model.qB)(transition||[]),i=0;i<transitionKeys.length;i++){var key=transitionKeys[i];if("style"!==key&&"shape"!==key&&"extra"!==key){var elVal=el[key];0,transFromProps[key]=elVal}}}(el,elOption,transFromProps),prepareShapeOrExtraTransitionFrom("shape",el,elOption,transFromProps),prepareShapeOrExtraTransitionFrom("extra",el,elOption,transFromProps),function prepareStyleTransitionFrom(fromEl,elOption,styleOpt,transFromProps){if(!styleOpt)return;var transFromStyleProps,fromElStyle=fromEl.style;if(fromElStyle){var styleTransition=styleOpt.transition,elTransition=elOption.transition;if(styleTransition&&!isTransitionAll(styleTransition)){var transitionKeys=(0,util_model.qB)(styleTransition);!transFromStyleProps&&(transFromStyleProps=transFromProps.style={});for(var i=0;i<transitionKeys.length;i++){var elVal=fromElStyle[key=transitionKeys[i]];transFromStyleProps[key]=elVal}}else if(fromEl.getAnimationStyleProps&&(isTransitionAll(elTransition)||isTransitionAll(styleTransition)||(0,util.indexOf)(elTransition,"style")>=0)){var animationProps=fromEl.getAnimationStyleProps(),animationStyleProps=animationProps?animationProps.style:null;if(animationStyleProps){!transFromStyleProps&&(transFromStyleProps=transFromProps.style={});var styleKeys=(0,util.keys)(styleOpt);for(i=0;i<styleKeys.length;i++){var key;if(animationStyleProps[key=styleKeys[i]]){elVal=fromElStyle[key];transFromStyleProps[key]=elVal}}}}}}(el,elOption,styleOpt,transFromProps)),propsToSet.style=styleOpt,function applyPropsDirectly(el,allPropsFinal,clearStyle){var styleOpt=allPropsFinal.style;if(!el.isGroup&&styleOpt){if(clearStyle){el.useStyle({});for(var animators=el.animators,i=0;i<animators.length;i++){var animator=animators[i];"style"===animator.targetName&&animator.changeTarget(el.style)}}el.setStyle(styleOpt)}allPropsFinal&&(allPropsFinal.style=null,allPropsFinal&&el.attr(allPropsFinal),allPropsFinal.style=styleOpt)}(el,propsToSet,clearStyle),function applyMiscProps(el,elOption){(0,util.hasOwn)(elOption,"silent")&&(el.silent=elOption.silent),(0,util.hasOwn)(elOption,"ignore")&&(el.ignore=elOption.ignore),el instanceof Displayable.Ay&&(0,util.hasOwn)(elOption,"invisible")&&(el.invisible=elOption.invisible);el instanceof Path.Ay&&(0,util.hasOwn)(elOption,"autoBatch")&&(el.autoBatch=elOption.autoBatch)}(el,elOption),hasAnimation)if(isInit){var enterFromProps_1={};(0,util.each)(ELEMENT_ANIMATABLE_PROPS,function(propName){var prop=propName?elOption[propName]:elOption;prop&&prop.enterFrom&&(propName&&(enterFromProps_1[propName]=enterFromProps_1[propName]||{}),(0,util.extend)(propName?enterFromProps_1[propName]:enterFromProps_1,prop.enterFrom))});var config=getElementAnimationConfig("enter",el,elOption,animatableModel,dataIndex);config.duration>0&&el.animateFrom(enterFromProps_1,config)}else!function applyPropsTransition(el,elOption,dataIndex,model,transFromProps){if(transFromProps){var config=getElementAnimationConfig("update",el,elOption,model,dataIndex);config.duration>0&&el.animateFrom(transFromProps,config)}}(el,elOption,dataIndex||0,animatableModel,transFromProps);updateLeaveTo(el,elOption),styleOpt?el.dirty():el.markRedraw()}function updateLeaveTo(el,elOption){for(var leaveToProps=transitionInnerStore(el).leaveToProps,i=0;i<ELEMENT_ANIMATABLE_PROPS.length;i++){var propName=ELEMENT_ANIMATABLE_PROPS[i],prop=propName?elOption[propName]:elOption;prop&&prop.leaveTo&&(leaveToProps||(leaveToProps=transitionInnerStore(el).leaveToProps={}),propName&&(leaveToProps[propName]=leaveToProps[propName]||{}),(0,util.extend)(propName?leaveToProps[propName]:leaveToProps,prop.leaveTo))}}function applyLeaveTransition(el,elOption,animatableModel,onRemove){if(el){var parent_1=el.parent,leaveToProps=transitionInnerStore(el).leaveToProps;if(leaveToProps){var config=getElementAnimationConfig("update",el,elOption,animatableModel,0);config.done=function(){parent_1.remove(el),onRemove&&onRemove()},el.animateTo(leaveToProps,config)}else parent_1.remove(el),onRemove&&onRemove()}}function isTransitionAll(transition){return"all"===transition}var tmpDuringScope={},transitionDuringAPI={setTransform:function(key,val){return tmpDuringScope.el[key]=val,this},getTransform:function(key){return tmpDuringScope.el[key]},setShape:function(key,val){var el=tmpDuringScope.el;return(el.shape||(el.shape={}))[key]=val,el.dirtyShape&&el.dirtyShape(),this},getShape:function(key){var shape=tmpDuringScope.el.shape;if(shape)return shape[key]},setStyle:function(key,val){var el=tmpDuringScope.el,style=el.style;return style&&(style[key]=val,el.dirtyStyle&&el.dirtyStyle()),this},getStyle:function(key){var style=tmpDuringScope.el.style;if(style)return style[key]},setExtra:function(key,val){return(tmpDuringScope.el.extra||(tmpDuringScope.el.extra={}))[key]=val,this},getExtra:function(key){var extra=tmpDuringScope.el.extra;if(extra)return extra[key]}};function duringCall(){var el=this.el;if(el){var latestUserDuring=transitionInnerStore(el).userDuring,scopeUserDuring=this.userDuring;latestUserDuring===scopeUserDuring?(tmpDuringScope.el=el,scopeUserDuring(transitionDuringAPI)):this.el=this.userDuring=null}}function prepareShapeOrExtraTransitionFrom(mainAttr,fromEl,elOption,transFromProps){var attrOpt=elOption[mainAttr];if(attrOpt){var transFromPropsInAttr,elPropsInAttr=fromEl[mainAttr];if(elPropsInAttr){var transition=elOption.transition,attrTransition=attrOpt.transition;if(attrTransition)if(!transFromPropsInAttr&&(transFromPropsInAttr=transFromProps[mainAttr]={}),isTransitionAll(attrTransition))(0,util.extend)(transFromPropsInAttr,elPropsInAttr);else for(var transitionKeys=(0,util_model.qB)(attrTransition),i=0;i<transitionKeys.length;i++){var elVal=elPropsInAttr[key=transitionKeys[i]];transFromPropsInAttr[key]=elVal}else if(isTransitionAll(transition)||(0,util.indexOf)(transition,mainAttr)>=0){!transFromPropsInAttr&&(transFromPropsInAttr=transFromProps[mainAttr]={});var elPropsInAttrKeys=(0,util.keys)(elPropsInAttr);for(i=0;i<elPropsInAttrKeys.length;i++){var key;elVal=elPropsInAttr[key=elPropsInAttrKeys[i]];isNonStyleTransitionEnabled(attrOpt[key],elVal)&&(transFromPropsInAttr[key]=elVal)}}}}}function prepareShapeOrExtraAllPropsFinal(mainAttr,elOption,allProps){var attrOpt=elOption[mainAttr];if(attrOpt)for(var allPropsInAttr=allProps[mainAttr]={},keysInAttr=(0,util.keys)(attrOpt),i=0;i<keysInAttr.length;i++){var key=keysInAttr[i];allPropsInAttr[key]=(0,Animator.F)(attrOpt[key])}}function isNonStyleTransitionEnabled(optVal,elVal){return(0,util.isArrayLike)(optVal)?optVal!==elVal:null!=optVal&&isFinite(optVal)}var getStateToRestore=(0,util_model.$r)(),KEYFRAME_EXCLUDE_KEYS=["percent","easing","shape","style","extra"];function stopPreviousKeyframeAnimationAndRestore(el){el.stopAnimation("keyframe"),el.attr(getStateToRestore(el))}function applyKeyframeAnimation(el,animationOpts,animatableModel){if(animatableModel.isAnimationEnabled()&&animationOpts)if((0,util.isArray)(animationOpts))(0,util.each)(animationOpts,function(singleAnimationOpts){applyKeyframeAnimation(el,singleAnimationOpts,animatableModel)});else{var keyframes=animationOpts.keyframes,duration=animationOpts.duration;if(animatableModel&&null==duration){var config=(0,basicTransition.Jw)("enter",animatableModel,0);duration=config&&config.duration}if(keyframes&&duration){var stateToRestore=getStateToRestore(el);(0,util.each)(ELEMENT_ANIMATABLE_PROPS,function(targetPropName){if(!targetPropName||el[targetPropName]){var animator;keyframes.sort(function(a,b){return a.percent-b.percent}),(0,util.each)(keyframes,function(kf){var animators=el.animators,kfValues=targetPropName?kf[targetPropName]:kf;if(kfValues){var propKeys=(0,util.keys)(kfValues);if(targetPropName||(propKeys=(0,util.filter)(propKeys,function(key){return(0,util.indexOf)(KEYFRAME_EXCLUDE_KEYS,key)<0})),propKeys.length){animator||((animator=el.animate(targetPropName,animationOpts.loop,!0)).scope="keyframe");for(var i=0;i<animators.length;i++)animators[i]!==animator&&animators[i].targetName===animator.targetName&&animators[i].stopTracks(propKeys);targetPropName&&(stateToRestore[targetPropName]=stateToRestore[targetPropName]||{});var savedTarget=targetPropName?stateToRestore[targetPropName]:stateToRestore;(0,util.each)(propKeys,function(key){savedTarget[key]=((targetPropName?el[targetPropName]:el)||{})[key]}),animator.whenWithKeys(duration*kf.percent,kfValues,propKeys,kf.easing)}}}),animator&&animator.delay(animationOpts.delay||0).duration(duration).start(animationOpts.easing)}})}}}var NORMAL="normal",STATES=["normal","emphasis","blur","select"],PATH_ITEM_STYLE={normal:["itemStyle"],emphasis:["emphasis","itemStyle"],blur:["blur","itemStyle"],select:["select","itemStyle"]},PATH_LABEL={normal:["label"],emphasis:["emphasis","label"],blur:["blur","label"],select:["select","label"]},DEFAULT_TRANSITION=["x","y"],attachedTxInfoTmp={normal:{},emphasis:{},blur:{},select:{}},prepareCustoms={cartesian2d:function cartesianPrepareCustom(coordSys){var rect=coordSys.master.getRect();return{coordSys:{type:"cartesian2d",x:rect.x,y:rect.y,width:rect.width,height:rect.height},api:{coord:function(data){return coordSys.dataToPoint(data)},size:util.bind(dataToCoordSize,coordSys)}}},geo:function geoPrepareCustom(coordSys){var rect=coordSys.getBoundingRect();return{coordSys:{type:"geo",x:rect.x,y:rect.y,width:rect.width,height:rect.height,zoom:coordSys.getZoom()},api:{coord:function(data){return coordSys.dataToPoint(data)},size:util.bind(prepareCustom_dataToCoordSize,coordSys)}}},single:function singlePrepareCustom(coordSys){var rect=coordSys.getRect();return{coordSys:{type:"singleAxis",x:rect.x,y:rect.y,width:rect.width,height:rect.height},api:{coord:function(val){return coordSys.dataToPoint(val)},size:(0,util.bind)(single_prepareCustom_dataToCoordSize,coordSys)}}},polar:function polarPrepareCustom(coordSys){var radiusAxis=coordSys.getRadiusAxis(),angleAxis=coordSys.getAngleAxis(),radius=radiusAxis.getExtent();return radius[0]>radius[1]&&radius.reverse(),{coordSys:{type:"polar",cx:coordSys.cx,cy:coordSys.cy,r:radius[1],r0:radius[0]},api:{coord:function(data){var radius=radiusAxis.dataToRadius(data[0]),angle=angleAxis.dataToAngle(data[1]),coord=coordSys.coordToPoint([radius,angle]);return coord.push(radius,angle*Math.PI/180),coord},size:util.bind(polar_prepareCustom_dataToCoordSize,coordSys)}}},calendar:function calendarPrepareCustom(coordSys){var rect=coordSys.getRect(),rangeInfo=coordSys.getRangeInfo();return{coordSys:{type:"calendar",x:rect.x,y:rect.y,width:rect.width,height:rect.height,cellWidth:coordSys.getCellWidth(),cellHeight:coordSys.getCellHeight(),rangeInfo:{start:rangeInfo.start,end:rangeInfo.end,weeks:rangeInfo.weeks,dayCount:rangeInfo.allDay}},api:{coord:function(data,clamp){return coordSys.dataToPoint(data,clamp)}}}}};function isPath(el){return el instanceof Path.Ay}function isDisplayable(el){return el instanceof Displayable.Ay}var CustomChartView=function(_super){function CustomChartView(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=CustomChartView.type,_this}return(0,tslib_es6.C6)(CustomChartView,_super),CustomChartView.prototype.render=function(customSeries,ecModel,api,payload){this._progressiveEls=null;var oldData=this._data,data=customSeries.getData(),group=this.group,renderItem=makeRenderItem(customSeries,data,ecModel,api);oldData||group.removeAll(),data.diff(oldData).add(function(newIdx){createOrUpdateItem(api,null,newIdx,renderItem(newIdx,payload),customSeries,group,data)}).remove(function(oldIdx){var el=oldData.getItemGraphicEl(oldIdx);el&&applyLeaveTransition(el,customInnerStore(el).option,customSeries)}).update(function(newIdx,oldIdx){var oldEl=oldData.getItemGraphicEl(oldIdx);createOrUpdateItem(api,oldEl,newIdx,renderItem(newIdx,payload),customSeries,group,data)}).execute();var clipPath=customSeries.get("clip",!0)?(0,createClipPathFromCoordSys.Ip)(customSeries.coordinateSystem,!1,customSeries):null;clipPath?group.setClipPath(clipPath):group.removeClipPath(),this._data=data},CustomChartView.prototype.incrementalPrepareRender=function(customSeries,ecModel,api){this.group.removeAll(),this._data=null},CustomChartView.prototype.incrementalRender=function(params,customSeries,ecModel,api,payload){var data=customSeries.getData(),renderItem=makeRenderItem(customSeries,data,ecModel,api),progressiveEls=this._progressiveEls=[];function setIncrementalAndHoverLayer(el){el.isGroup||(el.incremental=!0,el.ensureState("emphasis").hoverLayer=!0)}for(var idx=params.start;idx<params.end;idx++){var el=createOrUpdateItem(null,null,idx,renderItem(idx,payload),customSeries,this.group,data);el&&(el.traverse(setIncrementalAndHoverLayer),progressiveEls.push(el))}},CustomChartView.prototype.eachRendered=function(cb){graphic.traverseElements(this._progressiveEls||this.group,cb)},CustomChartView.prototype.filterForExposedEvent=function(eventType,query,targetEl,packedEvent){var elementName=query.element;if(null==elementName||targetEl.name===elementName)return!0;for(;(targetEl=targetEl.__hostTarget||targetEl.parent)&&targetEl!==this.group;)if(targetEl.name===elementName)return!0;return!1},CustomChartView.type="custom",CustomChartView}(Chart.A);const CustomView=CustomChartView;function createEl(elOption){var el,graphicType=elOption.type;if("path"===graphicType){var shape=elOption.shape,pathRect=null!=shape.width&&null!=shape.height?{x:shape.x||0,y:shape.y||0,width:shape.width,height:shape.height}:null,pathData=getPathData(shape);el=graphic.makePath(pathData,null,pathRect,shape.layout||"center"),customInnerStore(el).customPathData=pathData}else if("image"===graphicType)el=new graphic_Image.Ay({}),customInnerStore(el).customImagePath=elOption.style.image;else if("text"===graphicType)el=new Text.Ay({});else if("group"===graphicType)el=new Group.A;else{if("compoundPath"===graphicType)throw new Error('"compoundPath" is not supported yet.');var Clz=graphic.getShapeClass(graphicType);if(!Clz){0,(0,log.$8)("")}el=new Clz}return customInnerStore(el).customGraphicType=graphicType,el.name=elOption.name,el.z2EmphasisLift=1,el.z2SelectLift=1,el}function updateElNormal(api,el,dataIndex,elOption,attachedTxInfo,seriesModel,isInit){stopPreviousKeyframeAnimationAndRestore(el);var txCfgOpt=attachedTxInfo&&attachedTxInfo.normal.cfg;txCfgOpt&&el.setTextConfig(txCfgOpt),elOption&&null==elOption.transition&&(elOption.transition=DEFAULT_TRANSITION);var styleOpt=elOption&&elOption.style;if(styleOpt){if("text"===el.type){var textOptionStyle=styleOpt;(0,util.hasOwn)(textOptionStyle,"textFill")&&(textOptionStyle.fill=textOptionStyle.textFill),(0,util.hasOwn)(textOptionStyle,"textStroke")&&(textOptionStyle.stroke=textOptionStyle.textStroke)}var decalPattern=void 0,decalObj=isPath(el)?styleOpt.decal:null;api&&decalObj&&(decalObj.dirty=!0,decalPattern=(0,util_decal.w)(decalObj,api)),styleOpt.__decalPattern=decalPattern}isDisplayable(el)&&(styleOpt&&(decalPattern=styleOpt.__decalPattern)&&(styleOpt.decal=decalPattern));applyUpdateTransition(el,elOption,seriesModel,{dataIndex,isInit,clearStyle:!0}),applyKeyframeAnimation(el,elOption.keyframeAnimation,seriesModel)}function updateElOnState(state,el,elStateOpt,styleOpt,attachedTxInfo){var elDisplayable=el.isGroup?null:el,txCfgOpt=attachedTxInfo&&attachedTxInfo[state].cfg;if(elDisplayable){var stateObj=elDisplayable.ensureState(state);if(!1===styleOpt){var existingEmphasisState=elDisplayable.getState(state);existingEmphasisState&&(existingEmphasisState.style=null)}else stateObj.style=styleOpt||null;txCfgOpt&&(stateObj.textConfig=txCfgOpt),(0,states.DW)(elDisplayable)}}function updateZForEachState(elDisplayable,elOption,state){var isNormal="normal"===state,elStateOpt=isNormal?elOption:retrieveStateOption(elOption,state),optZ2=elStateOpt?elStateOpt.z2:null;null!=optZ2&&((isNormal?elDisplayable:elDisplayable.ensureState(state)).z2=optZ2||0)}function makeRenderItem(customSeries,data,ecModel,api){var renderItem=customSeries.get("renderItem"),coordSys=customSeries.coordinateSystem,prepareResult={};coordSys&&(prepareResult=coordSys.prepareCustoms?coordSys.prepareCustoms(coordSys):prepareCustoms[coordSys.type](coordSys));for(var currDataIndexInside,currItemModel,userAPI=(0,util.defaults)({getWidth:api.getWidth,getHeight:api.getHeight,getZr:api.getZr,getDevicePixelRatio:api.getDevicePixelRatio,value:function value(dim,dataIndexInside){return null==dataIndexInside&&(dataIndexInside=currDataIndexInside),data.getStore().get(data.getDimensionIndex(dim||0),dataIndexInside)},style:function style(userProps,dataIndexInside){0;null==dataIndexInside&&(dataIndexInside=currDataIndexInside);var style=data.getItemVisual(dataIndexInside,"style"),visualColor=style&&style.fill,opacity=style&&style.opacity,itemStyle=getItemStyleModel(dataIndexInside,"normal").getItemStyle();null!=visualColor&&(itemStyle.fill=visualColor),null!=opacity&&(itemStyle.opacity=opacity);var opt={inheritColor:(0,util.isString)(visualColor)?visualColor:"#000"},labelModel=getLabelModel(dataIndexInside,"normal"),textStyle=labelStyle.VB(labelModel,null,opt,!1,!0);textStyle.text=labelModel.getShallow("show")?(0,util.retrieve2)(customSeries.getFormattedLabel(dataIndexInside,"normal"),(0,labelHelper.i)(data,dataIndexInside)):null;var textConfig=labelStyle.sD(labelModel,opt,!1);return preFetchFromExtra(userProps,itemStyle),itemStyle=convertToEC4StyleForCustomSerise(itemStyle,textStyle,textConfig),userProps&&applyUserPropsAfter(itemStyle,userProps),itemStyle.legacy=!0,itemStyle},ordinalRawValue:function ordinalRawValue(dim,dataIndexInside){null==dataIndexInside&&(dataIndexInside=currDataIndexInside),dim=dim||0;var dimInfo=data.getDimensionInfo(dim);if(!dimInfo){var dimIndex=data.getDimensionIndex(dim);return dimIndex>=0?data.getStore().get(dimIndex,dataIndexInside):void 0}var val=data.get(dimInfo.name,dataIndexInside),ordinalMeta=dimInfo&&dimInfo.ordinalMeta;return ordinalMeta?ordinalMeta.categories[val]:val},styleEmphasis:function styleEmphasis(userProps,dataIndexInside){0;null==dataIndexInside&&(dataIndexInside=currDataIndexInside);var itemStyle=getItemStyleModel(dataIndexInside,"emphasis").getItemStyle(),labelModel=getLabelModel(dataIndexInside,"emphasis"),textStyle=labelStyle.VB(labelModel,null,null,!0,!0);textStyle.text=labelModel.getShallow("show")?(0,util.retrieve3)(customSeries.getFormattedLabel(dataIndexInside,"emphasis"),customSeries.getFormattedLabel(dataIndexInside,"normal"),(0,labelHelper.i)(data,dataIndexInside)):null;var textConfig=labelStyle.sD(labelModel,null,!0);return preFetchFromExtra(userProps,itemStyle),itemStyle=convertToEC4StyleForCustomSerise(itemStyle,textStyle,textConfig),userProps&&applyUserPropsAfter(itemStyle,userProps),itemStyle.legacy=!0,itemStyle},visual:function visual(visualType,dataIndexInside){if(null==dataIndexInside&&(dataIndexInside=currDataIndexInside),(0,util.hasOwn)(STYLE_VISUAL_TYPE,visualType)){var style_1=data.getItemVisual(dataIndexInside,"style");return style_1?style_1[STYLE_VISUAL_TYPE[visualType]]:null}if((0,util.hasOwn)(NON_STYLE_VISUAL_PROPS,visualType))return data.getItemVisual(dataIndexInside,visualType)},barLayout:function barLayout(opt){if("cartesian2d"===coordSys.type){var baseAxis=coordSys.getBaseAxis();return(0,barGrid.DL)((0,util.defaults)({axis:baseAxis},opt))}},currentSeriesIndices:function currentSeriesIndices(){return ecModel.getCurrentSeriesIndices()},font:function font(opt){return labelStyle.c8(opt,ecModel)}},prepareResult.api||{}),userParams={context:{},seriesId:customSeries.id,seriesName:customSeries.name,seriesIndex:customSeries.seriesIndex,coordSys:prepareResult.coordSys,dataInsideLength:data.count(),encode:wrapEncodeDef(customSeries.getData())},currItemStyleModels={},currLabelModels={},seriesItemStyleModels={},seriesLabelModels={},i=0;i<STATES.length;i++){var stateName=STATES[i];seriesItemStyleModels[stateName]=customSeries.getModel(PATH_ITEM_STYLE[stateName]),seriesLabelModels[stateName]=customSeries.getModel(PATH_LABEL[stateName])}function getItemModel(dataIndexInside){return dataIndexInside===currDataIndexInside?currItemModel||(currItemModel=data.getItemModel(dataIndexInside)):data.getItemModel(dataIndexInside)}function getItemStyleModel(dataIndexInside,state){return data.hasItemOption?dataIndexInside===currDataIndexInside?currItemStyleModels[state]||(currItemStyleModels[state]=getItemModel(dataIndexInside).getModel(PATH_ITEM_STYLE[state])):getItemModel(dataIndexInside).getModel(PATH_ITEM_STYLE[state]):seriesItemStyleModels[state]}function getLabelModel(dataIndexInside,state){return data.hasItemOption?dataIndexInside===currDataIndexInside?currLabelModels[state]||(currLabelModels[state]=getItemModel(dataIndexInside).getModel(PATH_LABEL[state])):getItemModel(dataIndexInside).getModel(PATH_LABEL[state]):seriesLabelModels[state]}return function(dataIndexInside,payload){return currDataIndexInside=dataIndexInside,currItemModel=null,currItemStyleModels={},currLabelModels={},renderItem&&renderItem((0,util.defaults)({dataIndexInside,dataIndex:data.getRawIndex(dataIndexInside),actionType:payload?payload.type:null},userParams),userAPI)};function applyUserPropsAfter(itemStyle,extra){for(var key in extra)(0,util.hasOwn)(extra,key)&&(itemStyle[key]=extra[key])}function preFetchFromExtra(extra,itemStyle){extra&&(extra.textFill&&(itemStyle.textFill=extra.textFill),extra.textPosition&&(itemStyle.textPosition=extra.textPosition))}}function wrapEncodeDef(data){var encodeDef={};return(0,util.each)(data.dimensions,function(dimName){var dimInfo=data.getDimensionInfo(dimName);if(!dimInfo.isExtraCoord){var coordDim=dimInfo.coordDim;(encodeDef[coordDim]=encodeDef[coordDim]||[])[dimInfo.coordDimIndex]=data.getDimensionIndex(dimName)}}),encodeDef}function createOrUpdateItem(api,existsEl,dataIndex,elOption,seriesModel,group,data){if(elOption){var el=doCreateOrUpdateEl(api,existsEl,dataIndex,elOption,seriesModel,group);return el&&data.setItemGraphicEl(dataIndex,el),el&&(0,states.Lm)(el,elOption.focus,elOption.blurScope,elOption.emphasisDisabled),el}group.remove(existsEl)}function doCreateOrUpdateEl(api,existsEl,dataIndex,elOption,seriesModel,group){var toBeReplacedIdx=-1,oldEl=existsEl;existsEl&&doesElNeedRecreate(existsEl,elOption,seriesModel)&&(toBeReplacedIdx=(0,util.indexOf)(group.childrenRef(),existsEl),existsEl=null);var isInit=!existsEl,el=existsEl;el?el.clearStates():(el=createEl(elOption),oldEl&&function copyElement(sourceEl,targetEl){targetEl.copyTransform(sourceEl),isDisplayable(targetEl)&&isDisplayable(sourceEl)&&(targetEl.setStyle(sourceEl.style),targetEl.z=sourceEl.z,targetEl.z2=sourceEl.z2,targetEl.zlevel=sourceEl.zlevel,targetEl.invisible=sourceEl.invisible,targetEl.ignore=sourceEl.ignore,isPath(targetEl)&&isPath(sourceEl)&&targetEl.setShape(sourceEl.shape))}(oldEl,el)),!1===elOption.morph?el.disableMorphing=!0:el.disableMorphing&&(el.disableMorphing=!1),attachedTxInfoTmp.normal.cfg=attachedTxInfoTmp.normal.conOpt=attachedTxInfoTmp.emphasis.cfg=attachedTxInfoTmp.emphasis.conOpt=attachedTxInfoTmp.blur.cfg=attachedTxInfoTmp.blur.conOpt=attachedTxInfoTmp.select.cfg=attachedTxInfoTmp.select.conOpt=null,attachedTxInfoTmp.isLegacy=!1,function doCreateOrUpdateAttachedTx(el,dataIndex,elOption,seriesModel,isInit,attachedTxInfo){if(el.isGroup)return;processTxInfo(elOption,null,attachedTxInfo),processTxInfo(elOption,"emphasis",attachedTxInfo);var txConOptNormal=attachedTxInfo.normal.conOpt,txConOptEmphasis=attachedTxInfo.emphasis.conOpt,txConOptBlur=attachedTxInfo.blur.conOpt,txConOptSelect=attachedTxInfo.select.conOpt;if(null!=txConOptNormal||null!=txConOptEmphasis||null!=txConOptSelect||null!=txConOptBlur){var textContent=el.getTextContent();if(!1===txConOptNormal)textContent&&el.removeTextContent();else{txConOptNormal=attachedTxInfo.normal.conOpt=txConOptNormal||{type:"text"},textContent?textContent.clearStates():(textContent=createEl(txConOptNormal),el.setTextContent(textContent)),updateElNormal(null,textContent,dataIndex,txConOptNormal,null,seriesModel,isInit);for(var txConStlOptNormal=txConOptNormal&&txConOptNormal.style,i=0;i<STATES.length;i++){var stateName=STATES[i];if(stateName!==NORMAL){var txConOptOtherState=attachedTxInfo[stateName].conOpt;updateElOnState(stateName,textContent,0,retrieveStyleOptionOnState(txConOptNormal,txConOptOtherState,stateName),null)}}txConStlOptNormal?textContent.dirty():textContent.markRedraw()}}}(el,dataIndex,elOption,seriesModel,isInit,attachedTxInfoTmp),function doCreateOrUpdateClipPath(el,dataIndex,elOption,seriesModel,isInit){var clipPathOpt=elOption.clipPath;if(!1===clipPathOpt)el&&el.getClipPath()&&el.removeClipPath();else if(clipPathOpt){var clipPath=el.getClipPath();clipPath&&doesElNeedRecreate(clipPath,clipPathOpt,seriesModel)&&(clipPath=null),clipPath||(clipPath=createEl(clipPathOpt),el.setClipPath(clipPath)),updateElNormal(null,clipPath,dataIndex,clipPathOpt,null,seriesModel,isInit)}}(el,dataIndex,elOption,seriesModel,isInit),updateElNormal(api,el,dataIndex,elOption,attachedTxInfoTmp,seriesModel,isInit),(0,util.hasOwn)(elOption,"info")&&(customInnerStore(el).info=elOption.info);for(var i=0;i<STATES.length;i++){var stateName=STATES[i];if(stateName!==NORMAL){var otherStateOpt=retrieveStateOption(elOption,stateName);updateElOnState(stateName,el,0,retrieveStyleOptionOnState(elOption,otherStateOpt,stateName),attachedTxInfoTmp)}}return function CustomView_updateZ(el,elOption,seriesModel){if(!el.isGroup){var elDisplayable=el,currentZ=seriesModel.currentZ,currentZLevel=seriesModel.currentZLevel;elDisplayable.z=currentZ,elDisplayable.zlevel=currentZLevel;var optZ2=elOption.z2;null!=optZ2&&(elDisplayable.z2=optZ2||0);for(var i=0;i<STATES.length;i++)updateZForEachState(elDisplayable,elOption,STATES[i])}}(el,elOption,seriesModel),"group"===elOption.type&&function mergeChildren(api,el,dataIndex,elOption,seriesModel){var newChildren=elOption.children,newLen=newChildren?newChildren.length:0,mergeChildren=elOption.$mergeChildren,byName="byName"===mergeChildren||elOption.diffChildrenByName,notMerge=!1===mergeChildren;if(!newLen&&!byName&&!notMerge)return;if(byName)return void function diffGroupChildren(context){new DataDiffer.A(context.oldChildren,context.newChildren,getKey,getKey,context).add(processAddUpdate).update(processAddUpdate).remove(processRemove).execute()}({api,oldChildren:el.children()||[],newChildren:newChildren||[],dataIndex,seriesModel,group:el});notMerge&&el.removeAll();for(var index=0;index<newLen;index++){var newChild=newChildren[index],oldChild=el.childAt(index);newChild?(null==newChild.ignore&&(newChild.ignore=!1),doCreateOrUpdateEl(api,oldChild,dataIndex,newChild,seriesModel,el)):oldChild.ignore=!0}for(var i=el.childCount()-1;i>=index;i--){var child=el.childAt(i);removeChildFromGroup(el,child,seriesModel)}}(api,el,dataIndex,elOption,seriesModel),toBeReplacedIdx>=0?group.replaceAt(el,toBeReplacedIdx):group.add(el),el}function doesElNeedRecreate(el,elOption,seriesModel){var elInner=customInnerStore(el),elOptionType=elOption.type,elOptionShape=elOption.shape,elOptionStyle=elOption.style;return seriesModel.isUniversalTransitionEnabled()||null!=elOptionType&&elOptionType!==elInner.customGraphicType||"path"===elOptionType&&function hasOwnPathData(shape){return shape&&((0,util.hasOwn)(shape,"pathData")||(0,util.hasOwn)(shape,"d"))}(elOptionShape)&&getPathData(elOptionShape)!==elInner.customPathData||"image"===elOptionType&&(0,util.hasOwn)(elOptionStyle,"image")&&elOptionStyle.image!==elInner.customImagePath}function processTxInfo(elOption,state,attachedTxInfo){var stateOpt=state?retrieveStateOption(elOption,state):elOption,styleOpt=state?retrieveStyleOptionOnState(elOption,stateOpt,"emphasis"):elOption.style,elType=elOption.type,txCfg=stateOpt?stateOpt.textConfig:null,txConOptNormal=elOption.textContent,txConOpt=txConOptNormal?state?retrieveStateOption(txConOptNormal,state):txConOptNormal:null;if(styleOpt&&(attachedTxInfo.isLegacy||isEC4CompatibleStyle(styleOpt,elType,!!txCfg,!!txConOpt))){attachedTxInfo.isLegacy=!0;var convertResult=convertFromEC4CompatibleStyle(styleOpt,elType,!state);!txCfg&&convertResult.textConfig&&(txCfg=convertResult.textConfig),!txConOpt&&convertResult.textContent&&(txConOpt=convertResult.textContent)}if(!state&&txConOpt){var txConOptNormal_1=txConOpt;!txConOptNormal_1.type&&(txConOptNormal_1.type="text")}var info=state?attachedTxInfo[state]:attachedTxInfo.normal;info.cfg=txCfg,info.conOpt=txConOpt}function retrieveStateOption(elOption,state){return state?elOption?elOption[state]:null:elOption}function retrieveStyleOptionOnState(stateOptionNormal,stateOption,state){var style=stateOption&&stateOption.style;return null==style&&"emphasis"===state&&stateOptionNormal&&(style=stateOptionNormal.styleEmphasis),style}function removeChildFromGroup(group,child,seriesModel){child&&applyLeaveTransition(child,customInnerStore(group).option,seriesModel)}function getKey(item,idx){var name=item&&item.name;return null!=name?name:"e\0\0"+idx}function processAddUpdate(newIndex,oldIndex){var context=this.context,childOption=null!=newIndex?context.newChildren[newIndex]:null,child=null!=oldIndex?context.oldChildren[oldIndex]:null;doCreateOrUpdateEl(context.api,child,context.dataIndex,childOption,context.seriesModel,context.group)}function processRemove(oldIndex){var context=this.context,child=context.oldChildren[oldIndex];child&&applyLeaveTransition(child,customInnerStore(child).option,context.seriesModel)}function getPathData(shape){return shape&&(shape.pathData||shape.d)}var grid_install=__webpack_require__("./node_modules/echarts/lib/component/grid/install.js"),polar_install=__webpack_require__("./node_modules/echarts/lib/component/polar/install.js");function singleAxisHelper_layout(axisModel,opt){opt=opt||{};var single=axisModel.coordinateSystem,axis=axisModel.axis,layout={},axisPosition=axis.position,orient=axis.orient,rect=single.getRect(),rectBound=[rect.x,rect.x+rect.width,rect.y,rect.y+rect.height],positionMap={horizontal:{top:rectBound[2],bottom:rectBound[3]},vertical:{left:rectBound[0],right:rectBound[1]}};layout.position=["vertical"===orient?positionMap.vertical[axisPosition]:rectBound[0],"horizontal"===orient?positionMap.horizontal[axisPosition]:rectBound[3]];layout.rotation=Math.PI/2*{horizontal:0,vertical:1}[orient];layout.labelDirection=layout.tickDirection=layout.nameDirection={top:-1,bottom:1,right:1,left:-1}[axisPosition],axisModel.get(["axisTick","inside"])&&(layout.tickDirection=-layout.tickDirection),util.retrieve(opt.labelInside,axisModel.get(["axisLabel","inside"]))&&(layout.labelDirection=-layout.labelDirection);var labelRotation=opt.rotate;return null==labelRotation&&(labelRotation=axisModel.get(["axisLabel","rotate"])),layout.labelRotation="top"===axisPosition?-labelRotation:labelRotation,layout.z2=1,layout}var AxisView=__webpack_require__("./node_modules/echarts/lib/component/axis/AxisView.js"),axisSplitHelper=__webpack_require__("./node_modules/echarts/lib/component/axis/axisSplitHelper.js"),axisBuilderAttrs=["axisLine","axisTickLabel","axisName"],selfBuilderAttrs=["splitArea","splitLine"],SingleAxisView=function(_super){function SingleAxisView(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=SingleAxisView.type,_this.axisPointerClass="SingleAxisPointer",_this}return(0,tslib_es6.C6)(SingleAxisView,_super),SingleAxisView.prototype.render=function(axisModel,ecModel,api,payload){var group=this.group;group.removeAll();var oldAxisGroup=this._axisGroup;this._axisGroup=new Group.A;var layout=singleAxisHelper_layout(axisModel),axisBuilder=new AxisBuilder.A(axisModel,layout);util.each(axisBuilderAttrs,axisBuilder.add,axisBuilder),group.add(this._axisGroup),group.add(axisBuilder.getGroup()),util.each(selfBuilderAttrs,function(name){axisModel.get([name,"show"])&&axisElementBuilders[name](this,this.group,this._axisGroup,axisModel)},this),graphic.groupTransition(oldAxisGroup,this._axisGroup,axisModel),_super.prototype.render.call(this,axisModel,ecModel,api,payload)},SingleAxisView.prototype.remove=function(){(0,axisSplitHelper.V)(this)},SingleAxisView.type="singleAxis",SingleAxisView}(AxisView.A),axisElementBuilders={splitLine:function(axisView,group,axisGroup,axisModel){var axis=axisModel.axis;if(!axis.scale.isBlank()){var splitLineModel=axisModel.getModel("splitLine"),lineStyleModel=splitLineModel.getModel("lineStyle"),lineColors=lineStyleModel.get("color");lineColors=lineColors instanceof Array?lineColors:[lineColors];for(var lineWidth=lineStyleModel.get("width"),gridRect=axisModel.coordinateSystem.getRect(),isHorizontal=axis.isHorizontal(),splitLines=[],lineCount=0,ticksCoords=axis.getTicksCoords({tickModel:splitLineModel}),p1=[],p2=[],i=0;i<ticksCoords.length;++i){var tickCoord=axis.toGlobalCoord(ticksCoords[i].coord);isHorizontal?(p1[0]=tickCoord,p1[1]=gridRect.y,p2[0]=tickCoord,p2[1]=gridRect.y+gridRect.height):(p1[0]=gridRect.x,p1[1]=tickCoord,p2[0]=gridRect.x+gridRect.width,p2[1]=tickCoord);var line=new Line.A({shape:{x1:p1[0],y1:p1[1],x2:p2[0],y2:p2[1]},silent:!0});graphic.subPixelOptimizeLine(line.shape,lineWidth);var colorIndex=lineCount++%lineColors.length;splitLines[colorIndex]=splitLines[colorIndex]||[],splitLines[colorIndex].push(line)}var lineStyle=lineStyleModel.getLineStyle(["color"]);for(i=0;i<splitLines.length;++i)group.add(graphic.mergePath(splitLines[i],{style:util.defaults({stroke:lineColors[i%lineColors.length]},lineStyle),silent:!0}))}},splitArea:function(axisView,group,axisGroup,axisModel){(0,axisSplitHelper.Y)(axisView,axisGroup,axisModel,axisModel)}};const axis_SingleAxisView=SingleAxisView;var SingleAxisModel=function(_super){function SingleAxisModel(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=SingleAxisModel.type,_this}return(0,tslib_es6.C6)(SingleAxisModel,_super),SingleAxisModel.prototype.getCoordSysModel=function(){return this},SingleAxisModel.type="singleAxis",SingleAxisModel.layoutMode="box",SingleAxisModel.defaultOption={left:"5%",top:"5%",right:"5%",bottom:"5%",type:"value",position:"bottom",orient:"horizontal",axisLine:{show:!0,lineStyle:{width:1,type:"solid"}},tooltip:{show:!0},axisTick:{show:!0,length:6,lineStyle:{width:1}},axisLabel:{show:!0,interval:"auto"},splitLine:{show:!0,lineStyle:{type:"dashed",opacity:.2}}},SingleAxisModel}(Component.A);(0,util.mixin)(SingleAxisModel,axisModelCommonMixin.L.prototype);const single_AxisModel=SingleAxisModel;var SingleAxis=function(_super){function SingleAxis(dim,scale,coordExtent,axisType,position){var _this=_super.call(this,dim,scale,coordExtent)||this;return _this.type=axisType||"value",_this.position=position||"bottom",_this}return(0,tslib_es6.C6)(SingleAxis,_super),SingleAxis.prototype.isHorizontal=function(){var position=this.position;return"top"===position||"bottom"===position},SingleAxis.prototype.pointToData=function(point,clamp){return this.coordinateSystem.pointToData(point)[0]},SingleAxis}(Axis.A);const single_SingleAxis=SingleAxis;var singleDimensions=["single"];function Single_getCoordSys(finder){var seriesModel=finder.seriesModel,singleModel=finder.singleAxisModel;return singleModel&&singleModel.coordinateSystem||seriesModel&&seriesModel.coordinateSystem}const single_Single=function(){function Single(axisModel,ecModel,api){this.type="single",this.dimension="single",this.dimensions=singleDimensions,this.axisPointerEnabled=!0,this.model=axisModel,this._init(axisModel,ecModel,api)}return Single.prototype._init=function(axisModel,ecModel,api){var dim=this.dimension,axis=new single_SingleAxis(dim,axisHelper.f$(axisModel),[0,0],axisModel.get("type"),axisModel.get("position")),isCategory="category"===axis.type;axis.onBand=isCategory&&axisModel.get("boundaryGap"),axis.inverse=axisModel.get("inverse"),axis.orient=axisModel.get("orient"),axisModel.axis=axis,axis.model=axisModel,axis.coordinateSystem=this,this._axis=axis},Single.prototype.update=function(ecModel,api){ecModel.eachSeries(function(seriesModel){if(seriesModel.coordinateSystem===this){var data_1=seriesModel.getData();(0,util.each)(data_1.mapDimensionsAll(this.dimension),function(dim){this._axis.scale.unionExtentFromData(data_1,dim)},this),axisHelper.af(this._axis.scale,this._axis.model)}},this)},Single.prototype.resize=function(axisModel,api){this._rect=(0,layout.dV)({left:axisModel.get("left"),top:axisModel.get("top"),right:axisModel.get("right"),bottom:axisModel.get("bottom"),width:axisModel.get("width"),height:axisModel.get("height")},{width:api.getWidth(),height:api.getHeight()}),this._adjustAxis()},Single.prototype.getRect=function(){return this._rect},Single.prototype._adjustAxis=function(){var rect=this._rect,axis=this._axis,isHorizontal=axis.isHorizontal(),extent=isHorizontal?[0,rect.width]:[0,rect.height],idx=axis.inverse?1:0;axis.setExtent(extent[idx],extent[1-idx]),this._updateAxisTransform(axis,isHorizontal?rect.x:rect.y)},Single.prototype._updateAxisTransform=function(axis,coordBase){var axisExtent=axis.getExtent(),extentSum=axisExtent[0]+axisExtent[1],isHorizontal=axis.isHorizontal();axis.toGlobalCoord=isHorizontal?function(coord){return coord+coordBase}:function(coord){return extentSum-coord+coordBase},axis.toLocalCoord=isHorizontal?function(coord){return coord-coordBase}:function(coord){return extentSum-coord+coordBase}},Single.prototype.getAxis=function(){return this._axis},Single.prototype.getBaseAxis=function(){return this._axis},Single.prototype.getAxes=function(){return[this._axis]},Single.prototype.getTooltipAxes=function(){return{baseAxes:[this.getAxis()],otherAxes:[]}},Single.prototype.containPoint=function(point){var rect=this.getRect(),axis=this.getAxis();return"horizontal"===axis.orient?axis.contain(axis.toLocalCoord(point[0]))&&point[1]>=rect.y&&point[1]<=rect.y+rect.height:axis.contain(axis.toLocalCoord(point[1]))&&point[0]>=rect.y&&point[0]<=rect.y+rect.height},Single.prototype.pointToData=function(point){var axis=this.getAxis();return[axis.coordToData(axis.toLocalCoord(point["horizontal"===axis.orient?0:1]))]},Single.prototype.dataToPoint=function(val){var axis=this.getAxis(),rect=this.getRect(),pt=[],idx="horizontal"===axis.orient?0:1;return val instanceof Array&&(val=val[0]),pt[idx]=axis.toGlobalCoord(axis.dataToCoord(+val)),pt[1-idx]=0===idx?rect.y+rect.height/2:rect.x+rect.width/2,pt},Single.prototype.convertToPixel=function(ecModel,finder,value){return Single_getCoordSys(finder)===this?this.dataToPoint(value):null},Single.prototype.convertFromPixel=function(ecModel,finder,pixel){return Single_getCoordSys(finder)===this?this.pointToData(pixel):null},Single}();const single_singleCreator={create:function create(ecModel,api){var singles=[];return ecModel.eachComponent("singleAxis",function(axisModel,idx){var single=new single_Single(axisModel,ecModel,api);single.name="single_"+idx,single.resize(axisModel,api),axisModel.coordinateSystem=single,singles.push(single)}),ecModel.eachSeries(function(seriesModel){if("singleAxis"===seriesModel.get("coordinateSystem")){var singleAxisModel=seriesModel.getReferringComponents("singleAxis",util_model.US).models[0];seriesModel.coordinateSystem=singleAxisModel&&singleAxisModel.coordinateSystem}}),singles},dimensions:singleDimensions};var axisPointer_install=__webpack_require__("./node_modules/echarts/lib/component/axisPointer/install.js"),BaseAxisPointer=__webpack_require__("./node_modules/echarts/lib/component/axisPointer/BaseAxisPointer.js"),viewHelper=__webpack_require__("./node_modules/echarts/lib/component/axisPointer/viewHelper.js"),XY=["x","y"],WH=["width","height"],SingleAxisPointer=function(_super){function SingleAxisPointer(){return null!==_super&&_super.apply(this,arguments)||this}return(0,tslib_es6.C6)(SingleAxisPointer,_super),SingleAxisPointer.prototype.makeElOption=function(elOption,value,axisModel,axisPointerModel,api){var axis=axisModel.axis,coordSys=axis.coordinateSystem,otherExtent=getGlobalExtent(coordSys,1-getPointDimIndex(axis)),pixelValue=coordSys.dataToPoint(value)[0],axisPointerType=axisPointerModel.get("type");if(axisPointerType&&"none"!==axisPointerType){var elStyle=viewHelper.bY(axisPointerModel),pointerOption=pointerShapeBuilder[axisPointerType](axis,pixelValue,otherExtent);pointerOption.style=elStyle,elOption.graphicKey=pointerOption.type,elOption.pointer=pointerOption}var layoutInfo=singleAxisHelper_layout(axisModel);viewHelper.DA(value,elOption,layoutInfo,axisModel,axisPointerModel,api)},SingleAxisPointer.prototype.getHandleTransform=function(value,axisModel,axisPointerModel){var layoutInfo=singleAxisHelper_layout(axisModel,{labelInside:!1});layoutInfo.labelMargin=axisPointerModel.get(["handle","margin"]);var position=viewHelper.Tc(axisModel.axis,value,layoutInfo);return{x:position[0],y:position[1],rotation:layoutInfo.rotation+(layoutInfo.labelDirection<0?Math.PI:0)}},SingleAxisPointer.prototype.updateHandleTransform=function(transform,delta,axisModel,axisPointerModel){var axis=axisModel.axis,coordSys=axis.coordinateSystem,dimIndex=getPointDimIndex(axis),axisExtent=getGlobalExtent(coordSys,dimIndex),currPosition=[transform.x,transform.y];currPosition[dimIndex]+=delta[dimIndex],currPosition[dimIndex]=Math.min(axisExtent[1],currPosition[dimIndex]),currPosition[dimIndex]=Math.max(axisExtent[0],currPosition[dimIndex]);var otherExtent=getGlobalExtent(coordSys,1-dimIndex),cursorOtherValue=(otherExtent[1]+otherExtent[0])/2,cursorPoint=[cursorOtherValue,cursorOtherValue];return cursorPoint[dimIndex]=currPosition[dimIndex],{x:currPosition[0],y:currPosition[1],rotation:transform.rotation,cursorPoint,tooltipOption:{verticalAlign:"middle"}}},SingleAxisPointer}(BaseAxisPointer.A),pointerShapeBuilder={line:function(axis,pixelValue,otherExtent){return{type:"Line",subPixelOptimize:!0,shape:viewHelper.MU([pixelValue,otherExtent[0]],[pixelValue,otherExtent[1]],getPointDimIndex(axis))}},shadow:function(axis,pixelValue,otherExtent){var bandWidth=axis.getBandWidth(),span=otherExtent[1]-otherExtent[0];return{type:"Rect",shape:viewHelper.cU([pixelValue-bandWidth/2,otherExtent[0]],[bandWidth,span],getPointDimIndex(axis))}}};function getPointDimIndex(axis){return axis.isHorizontal()?0:1}function getGlobalExtent(coordSys,dimIndex){var rect=coordSys.getRect();return[rect[XY[dimIndex]],rect[XY[dimIndex]]+rect[WH[dimIndex]]]}const axisPointer_SingleAxisPointer=SingleAxisPointer;var SingleView=function(_super){function SingleView(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=SingleView.type,_this}return(0,tslib_es6.C6)(SingleView,_super),SingleView.type="single",SingleView}(view_Component.A);var CalendarModel=function(_super){function CalendarModel(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=CalendarModel.type,_this}return(0,tslib_es6.C6)(CalendarModel,_super),CalendarModel.prototype.init=function(option,parentModel,ecModel){var inputPositionParams=(0,layout.vs)(option);_super.prototype.init.apply(this,arguments),mergeAndNormalizeLayoutParams(option,inputPositionParams)},CalendarModel.prototype.mergeOption=function(option){_super.prototype.mergeOption.apply(this,arguments),mergeAndNormalizeLayoutParams(this.option,option)},CalendarModel.prototype.getCellSize=function(){return this.option.cellSize},CalendarModel.type="calendar",CalendarModel.defaultOption={z:2,left:80,top:60,cellSize:20,orient:"horizontal",splitLine:{show:!0,lineStyle:{color:"#000",width:1,type:"solid"}},itemStyle:{color:"#fff",borderWidth:1,borderColor:"#ccc"},dayLabel:{show:!0,firstDay:0,position:"start",margin:"50%",color:"#000"},monthLabel:{show:!0,position:"start",margin:5,align:"center",formatter:null,color:"#000"},yearLabel:{show:!0,position:null,margin:30,formatter:null,color:"#ccc",fontFamily:"sans-serif",fontWeight:"bolder",fontSize:20}},CalendarModel}(Component.A);function mergeAndNormalizeLayoutParams(target,raw){var cellSizeArr,cellSize=target.cellSize;1===(cellSizeArr=util.isArray(cellSize)?cellSize:target.cellSize=[cellSize,cellSize]).length&&(cellSizeArr[1]=cellSizeArr[0]);var ignoreSize=util.map([0,1],function(hvIdx){return(0,layout.Qf)(raw,hvIdx)&&(cellSizeArr[hvIdx]="auto"),null!=cellSizeArr[hvIdx]&&"auto"!==cellSizeArr[hvIdx]});(0,layout.YA)(target,raw,{type:"box",ignoreSize})}const calendar_CalendarModel=CalendarModel;var locale=__webpack_require__("./node_modules/echarts/lib/core/locale.js"),CalendarView=function(_super){function CalendarView(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=CalendarView.type,_this}return(0,tslib_es6.C6)(CalendarView,_super),CalendarView.prototype.render=function(calendarModel,ecModel,api){var group=this.group;group.removeAll();var coordSys=calendarModel.coordinateSystem,rangeData=coordSys.getRangeInfo(),orient=coordSys.getOrient(),localeModel=ecModel.getLocaleModel();this._renderDayRect(calendarModel,rangeData,group),this._renderLines(calendarModel,rangeData,orient,group),this._renderYearText(calendarModel,rangeData,orient,group),this._renderMonthText(calendarModel,localeModel,orient,group),this._renderWeekText(calendarModel,localeModel,rangeData,orient,group)},CalendarView.prototype._renderDayRect=function(calendarModel,rangeData,group){for(var coordSys=calendarModel.coordinateSystem,itemRectStyleModel=calendarModel.getModel("itemStyle").getItemStyle(),sw=coordSys.getCellWidth(),sh=coordSys.getCellHeight(),i=rangeData.start.time;i<=rangeData.end.time;i=coordSys.getNextNDay(i,1).time){var point=coordSys.dataToRect([i],!1).tl,rect=new Rect.A({shape:{x:point[0],y:point[1],width:sw,height:sh},cursor:"default",style:itemRectStyleModel});group.add(rect)}},CalendarView.prototype._renderLines=function(calendarModel,rangeData,orient,group){var self=this,coordSys=calendarModel.coordinateSystem,lineStyleModel=calendarModel.getModel(["splitLine","lineStyle"]).getLineStyle(),show=calendarModel.get(["splitLine","show"]),lineWidth=lineStyleModel.lineWidth;this._tlpoints=[],this._blpoints=[],this._firstDayOfMonth=[],this._firstDayPoints=[];for(var firstDay=rangeData.start,i=0;firstDay.time<=rangeData.end.time;i++){addPoints(firstDay.formatedDate),0===i&&(firstDay=coordSys.getDateInfo(rangeData.start.y+"-"+rangeData.start.m));var date=firstDay.date;date.setMonth(date.getMonth()+1),firstDay=coordSys.getDateInfo(date)}function addPoints(date){self._firstDayOfMonth.push(coordSys.getDateInfo(date)),self._firstDayPoints.push(coordSys.dataToRect([date],!1).tl);var points=self._getLinePointsOfOneWeek(calendarModel,date,orient);self._tlpoints.push(points[0]),self._blpoints.push(points[points.length-1]),show&&self._drawSplitline(points,lineStyleModel,group)}addPoints(coordSys.getNextNDay(rangeData.end.time,1).formatedDate),show&&this._drawSplitline(self._getEdgesPoints(self._tlpoints,lineWidth,orient),lineStyleModel,group),show&&this._drawSplitline(self._getEdgesPoints(self._blpoints,lineWidth,orient),lineStyleModel,group)},CalendarView.prototype._getEdgesPoints=function(points,lineWidth,orient){var rs=[points[0].slice(),points[points.length-1].slice()],idx="horizontal"===orient?0:1;return rs[0][idx]=rs[0][idx]-lineWidth/2,rs[1][idx]=rs[1][idx]+lineWidth/2,rs},CalendarView.prototype._drawSplitline=function(points,lineStyle,group){var poyline=new shape_Polyline.A({z2:20,shape:{points},style:lineStyle});group.add(poyline)},CalendarView.prototype._getLinePointsOfOneWeek=function(calendarModel,date,orient){for(var coordSys=calendarModel.coordinateSystem,parsedDate=coordSys.getDateInfo(date),points=[],i=0;i<7;i++){var tmpD=coordSys.getNextNDay(parsedDate.time,i),point=coordSys.dataToRect([tmpD.time],!1);points[2*tmpD.day]=point.tl,points[2*tmpD.day+1]=point["horizontal"===orient?"bl":"tr"]}return points},CalendarView.prototype._formatterLabel=function(formatter,params){return(0,util.isString)(formatter)&&formatter?(0,format.io)(formatter,params):(0,util.isFunction)(formatter)?formatter(params):params.nameMap},CalendarView.prototype._yearTextPositionControl=function(textEl,point,orient,position,margin){var x=point[0],y=point[1],aligns=["center","bottom"];"bottom"===position?(y+=margin,aligns=["center","top"]):"left"===position?x-=margin:"right"===position?(x+=margin,aligns=["center","top"]):y-=margin;var rotate=0;return"left"!==position&&"right"!==position||(rotate=Math.PI/2),{rotation:rotate,x,y,style:{align:aligns[0],verticalAlign:aligns[1]}}},CalendarView.prototype._renderYearText=function(calendarModel,rangeData,orient,group){var yearLabel=calendarModel.getModel("yearLabel");if(yearLabel.get("show")){var margin=yearLabel.get("margin"),pos=yearLabel.get("position");pos||(pos="horizontal"!==orient?"top":"left");var points=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]],xc=(points[0][0]+points[1][0])/2,yc=(points[0][1]+points[1][1])/2,idx="horizontal"===orient?0:1,posPoints={top:[xc,points[idx][1]],bottom:[xc,points[1-idx][1]],left:[points[1-idx][0],yc],right:[points[idx][0],yc]},name=rangeData.start.y;+rangeData.end.y>+rangeData.start.y&&(name=name+"-"+rangeData.end.y);var formatter=yearLabel.get("formatter"),params={start:rangeData.start.y,end:rangeData.end.y,nameMap:name},content=this._formatterLabel(formatter,params),yearText=new Text.Ay({z2:30,style:(0,labelStyle.VB)(yearLabel,{text:content}),silent:yearLabel.get("silent")});yearText.attr(this._yearTextPositionControl(yearText,posPoints[pos],orient,pos,margin)),group.add(yearText)}},CalendarView.prototype._monthTextPositionControl=function(point,isCenter,orient,position,margin){var align="left",vAlign="top",x=point[0],y=point[1];return"horizontal"===orient?(y+=margin,isCenter&&(align="center"),"start"===position&&(vAlign="bottom")):(x+=margin,isCenter&&(vAlign="middle"),"start"===position&&(align="right")),{x,y,align,verticalAlign:vAlign}},CalendarView.prototype._renderMonthText=function(calendarModel,localeModel,orient,group){var monthLabel=calendarModel.getModel("monthLabel");if(monthLabel.get("show")){var nameMap=monthLabel.get("nameMap"),margin=monthLabel.get("margin"),pos=monthLabel.get("position"),align=monthLabel.get("align"),termPoints=[this._tlpoints,this._blpoints];nameMap&&!(0,util.isString)(nameMap)||(nameMap&&(localeModel=(0,locale.A4)(nameMap)||localeModel),nameMap=localeModel.get(["time","monthAbbr"])||[]);var idx="start"===pos?0:1,axis="horizontal"===orient?0:1;margin="start"===pos?-margin:margin;for(var isCenter="center"===align,labelSilent=monthLabel.get("silent"),i=0;i<termPoints[idx].length-1;i++){var tmp=termPoints[idx][i].slice(),firstDay=this._firstDayOfMonth[i];if(isCenter){var firstDayPoints=this._firstDayPoints[i];tmp[axis]=(firstDayPoints[axis]+termPoints[0][i+1][axis])/2}var formatter=monthLabel.get("formatter"),name_1=nameMap[+firstDay.m-1],params={yyyy:firstDay.y,yy:(firstDay.y+"").slice(2),MM:firstDay.m,M:+firstDay.m,nameMap:name_1},content=this._formatterLabel(formatter,params),monthText=new Text.Ay({z2:30,style:(0,util.extend)((0,labelStyle.VB)(monthLabel,{text:content}),this._monthTextPositionControl(tmp,isCenter,orient,pos,margin)),silent:labelSilent});group.add(monthText)}}},CalendarView.prototype._weekTextPositionControl=function(point,orient,position,margin,cellSize){var align="center",vAlign="middle",x=point[0],y=point[1],isStart="start"===position;return"horizontal"===orient?(x=x+margin+(isStart?1:-1)*cellSize[0]/2,align=isStart?"right":"left"):(y=y+margin+(isStart?1:-1)*cellSize[1]/2,vAlign=isStart?"bottom":"top"),{x,y,align,verticalAlign:vAlign}},CalendarView.prototype._renderWeekText=function(calendarModel,localeModel,rangeData,orient,group){var dayLabel=calendarModel.getModel("dayLabel");if(dayLabel.get("show")){var coordSys=calendarModel.coordinateSystem,pos=dayLabel.get("position"),nameMap=dayLabel.get("nameMap"),margin=dayLabel.get("margin"),firstDayOfWeek=coordSys.getFirstDayOfWeek();if(!nameMap||(0,util.isString)(nameMap))nameMap&&(localeModel=(0,locale.A4)(nameMap)||localeModel),nameMap=localeModel.get(["time","dayOfWeekShort"])||(0,util.map)(localeModel.get(["time","dayOfWeekAbbr"]),function(val){return val[0]});var start=coordSys.getNextNDay(rangeData.end.time,7-rangeData.lweek).time,cellSize=[coordSys.getCellWidth(),coordSys.getCellHeight()];margin=(0,number.lo)(margin,Math.min(cellSize[1],cellSize[0])),"start"===pos&&(start=coordSys.getNextNDay(rangeData.start.time,-(7+rangeData.fweek)).time,margin=-margin);for(var labelSilent=dayLabel.get("silent"),i=0;i<7;i++){var day,tmpD=coordSys.getNextNDay(start,i),point=coordSys.dataToRect([tmpD.time],!1).center;day=Math.abs((i+firstDayOfWeek)%7);var weekText=new Text.Ay({z2:30,style:(0,util.extend)((0,labelStyle.VB)(dayLabel,{text:nameMap[day]}),this._weekTextPositionControl(point,orient,pos,margin,cellSize)),silent:labelSilent});group.add(weekText)}}},CalendarView.type="calendar",CalendarView}(view_Component.A);const calendar_CalendarView=CalendarView;function Calendar_getCoordSys(finder){var calendarModel=finder.calendarModel,seriesModel=finder.seriesModel;return calendarModel?calendarModel.coordinateSystem:seriesModel?seriesModel.coordinateSystem:null}const calendar_Calendar=function(){function Calendar(calendarModel,ecModel,api){this.type="calendar",this.dimensions=Calendar.dimensions,this.getDimensionsInfo=Calendar.getDimensionsInfo,this._model=calendarModel}return Calendar.getDimensionsInfo=function(){return[{name:"time",type:"time"},"value"]},Calendar.prototype.getRangeInfo=function(){return this._rangeInfo},Calendar.prototype.getModel=function(){return this._model},Calendar.prototype.getRect=function(){return this._rect},Calendar.prototype.getCellWidth=function(){return this._sw},Calendar.prototype.getCellHeight=function(){return this._sh},Calendar.prototype.getOrient=function(){return this._orient},Calendar.prototype.getFirstDayOfWeek=function(){return this._firstDayOfWeek},Calendar.prototype.getDateInfo=function(date){var y=(date=number._U(date)).getFullYear(),m=date.getMonth()+1,mStr=m<10?"0"+m:""+m,d=date.getDate(),dStr=d<10?"0"+d:""+d,day=date.getDay();return{y:y+"",m:mStr,d:dStr,day:day=Math.abs((day+7-this.getFirstDayOfWeek())%7),time:date.getTime(),formatedDate:y+"-"+mStr+"-"+dStr,date}},Calendar.prototype.getNextNDay=function(date,n){return 0===(n=n||0)||(date=new Date(this.getDateInfo(date).time)).setDate(date.getDate()+n),this.getDateInfo(date)},Calendar.prototype.update=function(ecModel,api){this._firstDayOfWeek=+this._model.getModel("dayLabel").get("firstDay"),this._orient=this._model.get("orient"),this._lineWidth=this._model.getModel("itemStyle").getItemStyle().lineWidth||0,this._rangeInfo=this._getRangeInfo(this._initRangeOption());var weeks=this._rangeInfo.weeks||1,whNames=["width","height"],cellSize=this._model.getCellSize().slice(),layoutParams=this._model.getBoxLayoutParams(),cellNumbers="horizontal"===this._orient?[weeks,7]:[7,weeks];util.each([0,1],function(idx){cellSizeSpecified(cellSize,idx)&&(layoutParams[whNames[idx]]=cellSize[idx]*cellNumbers[idx])});var whGlobal={width:api.getWidth(),height:api.getHeight()},calendarRect=this._rect=layout.dV(layoutParams,whGlobal);function cellSizeSpecified(cellSize,idx){return null!=cellSize[idx]&&"auto"!==cellSize[idx]}util.each([0,1],function(idx){cellSizeSpecified(cellSize,idx)||(cellSize[idx]=calendarRect[whNames[idx]]/cellNumbers[idx])}),this._sw=cellSize[0],this._sh=cellSize[1]},Calendar.prototype.dataToPoint=function(data,clamp){util.isArray(data)&&(data=data[0]),null==clamp&&(clamp=!0);var dayInfo=this.getDateInfo(data),range=this._rangeInfo,date=dayInfo.formatedDate;if(clamp&&!(dayInfo.time>=range.start.time&&dayInfo.time<range.end.time+864e5))return[NaN,NaN];var week=dayInfo.day,nthWeek=this._getRangeInfo([range.start.time,date]).nthWeek;return"vertical"===this._orient?[this._rect.x+week*this._sw+this._sw/2,this._rect.y+nthWeek*this._sh+this._sh/2]:[this._rect.x+nthWeek*this._sw+this._sw/2,this._rect.y+week*this._sh+this._sh/2]},Calendar.prototype.pointToData=function(point){var date=this.pointToDate(point);return date&&date.time},Calendar.prototype.dataToRect=function(data,clamp){var point=this.dataToPoint(data,clamp);return{contentShape:{x:point[0]-(this._sw-this._lineWidth)/2,y:point[1]-(this._sh-this._lineWidth)/2,width:this._sw-this._lineWidth,height:this._sh-this._lineWidth},center:point,tl:[point[0]-this._sw/2,point[1]-this._sh/2],tr:[point[0]+this._sw/2,point[1]-this._sh/2],br:[point[0]+this._sw/2,point[1]+this._sh/2],bl:[point[0]-this._sw/2,point[1]+this._sh/2]}},Calendar.prototype.pointToDate=function(point){var nthX=Math.floor((point[0]-this._rect.x)/this._sw)+1,nthY=Math.floor((point[1]-this._rect.y)/this._sh)+1,range=this._rangeInfo.range;return"vertical"===this._orient?this._getDateByWeeksAndDay(nthY,nthX-1,range):this._getDateByWeeksAndDay(nthX,nthY-1,range)},Calendar.prototype.convertToPixel=function(ecModel,finder,value){var coordSys=Calendar_getCoordSys(finder);return coordSys===this?coordSys.dataToPoint(value):null},Calendar.prototype.convertFromPixel=function(ecModel,finder,pixel){var coordSys=Calendar_getCoordSys(finder);return coordSys===this?coordSys.pointToData(pixel):null},Calendar.prototype.containPoint=function(point){return console.warn("Not implemented."),!1},Calendar.prototype._initRangeOption=function(){var normalizedRange,range=this._model.get("range");if(util.isArray(range)&&1===range.length&&(range=range[0]),util.isArray(range))normalizedRange=range;else{var rangeStr=range.toString();if(/^\d{4}$/.test(rangeStr)&&(normalizedRange=[rangeStr+"-01-01",rangeStr+"-12-31"]),/^\d{4}[\/|-]\d{1,2}$/.test(rangeStr)){var start=this.getDateInfo(rangeStr),firstDay=start.date;firstDay.setMonth(firstDay.getMonth()+1);var end=this.getNextNDay(firstDay,-1);normalizedRange=[start.formatedDate,end.formatedDate]}/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(rangeStr)&&(normalizedRange=[rangeStr,rangeStr])}if(!normalizedRange)return range;var tmp=this._getRangeInfo(normalizedRange);return tmp.start.time>tmp.end.time&&normalizedRange.reverse(),normalizedRange},Calendar.prototype._getRangeInfo=function(range){var reversed,parsedRange=[this.getDateInfo(range[0]),this.getDateInfo(range[1])];parsedRange[0].time>parsedRange[1].time&&(reversed=!0,parsedRange.reverse());var allDay=Math.floor(parsedRange[1].time/864e5)-Math.floor(parsedRange[0].time/864e5)+1,date=new Date(parsedRange[0].time),startDateNum=date.getDate(),endDateNum=parsedRange[1].date.getDate();date.setDate(startDateNum+allDay-1);var dateNum=date.getDate();if(dateNum!==endDateNum)for(var sign=date.getTime()-parsedRange[1].time>0?1:-1;(dateNum=date.getDate())!==endDateNum&&(date.getTime()-parsedRange[1].time)*sign>0;)allDay-=sign,date.setDate(dateNum-sign);var weeks=Math.floor((allDay+parsedRange[0].day+6)/7),nthWeek=reversed?1-weeks:weeks-1;return reversed&&parsedRange.reverse(),{range:[parsedRange[0].formatedDate,parsedRange[1].formatedDate],start:parsedRange[0],end:parsedRange[1],allDay,weeks,nthWeek,fweek:parsedRange[0].day,lweek:parsedRange[1].day}},Calendar.prototype._getDateByWeeksAndDay=function(nthWeek,day,range){var rangeInfo=this._getRangeInfo(range);if(nthWeek>rangeInfo.weeks||0===nthWeek&&day<rangeInfo.fweek||nthWeek===rangeInfo.weeks&&day>rangeInfo.lweek)return null;var nthDay=7*(nthWeek-1)-rangeInfo.fweek+day,date=new Date(rangeInfo.start.time);return date.setDate(+rangeInfo.start.d+nthDay),this.getDateInfo(date)},Calendar.create=function(ecModel,api){var calendarList=[];return ecModel.eachComponent("calendar",function(calendarModel){var calendar=new Calendar(calendarModel,ecModel,api);calendarList.push(calendar),calendarModel.coordinateSystem=calendar}),ecModel.eachSeries(function(calendarSeries){"calendar"===calendarSeries.get("coordinateSystem")&&(calendarSeries.coordinateSystem=calendarList[calendarSeries.get("calendarIndex")||0])}),calendarList},Calendar.dimensions=["time","value"],Calendar}();function isSetLoc(obj,props){var isSet;return util.each(props,function(prop){null!=obj[prop]&&"auto"!==obj[prop]&&(isSet=!0)}),isSet}var TRANSITION_PROPS_TO_COPY=["transition","enterFrom","leaveTo"],ROOT_TRANSITION_PROPS_TO_COPY=TRANSITION_PROPS_TO_COPY.concat(["enterAnimation","updateAnimation","leaveAnimation"]);function copyTransitionInfo(target,source,targetProp){if(targetProp&&(!target[targetProp]&&source[targetProp]&&(target[targetProp]={}),target=target[targetProp],source=source[targetProp]),target&&source)for(var props=targetProp?TRANSITION_PROPS_TO_COPY:ROOT_TRANSITION_PROPS_TO_COPY,i=0;i<props.length;i++){var prop=props[i];null==target[prop]&&null!=source[prop]&&(target[prop]=source[prop])}}var GraphicComponentModel=function(_super){function GraphicComponentModel(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=GraphicComponentModel.type,_this.preventAutoZ=!0,_this}return(0,tslib_es6.C6)(GraphicComponentModel,_super),GraphicComponentModel.prototype.mergeOption=function(option,ecModel){var elements=this.option.elements;this.option.elements=null,_super.prototype.mergeOption.call(this,option,ecModel),this.option.elements=elements},GraphicComponentModel.prototype.optionUpdated=function(newOption,isInit){var thisOption=this.option,newList=(isInit?thisOption:newOption).elements,existList=thisOption.elements=isInit?[]:thisOption.elements,flattenedList=[];this._flatten(newList,flattenedList,null);var mappingResult=util_model.O2(existList,flattenedList,"normalMerge"),elOptionsToUpdate=this._elOptionsToUpdate=[];util.each(mappingResult,function(resultItem,index){var newElOption=resultItem.newOption;newElOption&&(elOptionsToUpdate.push(newElOption),function setKeyInfoToNewElOption(resultItem,newElOption){var existElOption=resultItem.existing;if(newElOption.id=resultItem.keyInfo.id,!newElOption.type&&existElOption&&(newElOption.type=existElOption.type),null==newElOption.parentId){var newElParentOption=newElOption.parentOption;newElParentOption?newElOption.parentId=newElParentOption.id:existElOption&&(newElOption.parentId=existElOption.parentId)}newElOption.parentOption=null}(resultItem,newElOption),function mergeNewElOptionToExist(existList,index,newElOption){var newElOptCopy=util.extend({},newElOption),existElOption=existList[index],$action=newElOption.$action||"merge";"merge"===$action?existElOption?(util.merge(existElOption,newElOptCopy,!0),(0,layout.YA)(existElOption,newElOptCopy,{ignoreSize:!0}),(0,layout.Ir)(newElOption,existElOption),copyTransitionInfo(newElOption,existElOption),copyTransitionInfo(newElOption,existElOption,"shape"),copyTransitionInfo(newElOption,existElOption,"style"),copyTransitionInfo(newElOption,existElOption,"extra"),newElOption.clipPath=existElOption.clipPath):existList[index]=newElOptCopy:"replace"===$action?existList[index]=newElOptCopy:"remove"===$action&&existElOption&&(existList[index]=null)}(existList,index,newElOption),function setLayoutInfoToExist(existItem,newElOption){if(existItem&&(existItem.hv=newElOption.hv=[isSetLoc(newElOption,["left","right"]),isSetLoc(newElOption,["top","bottom"])],"group"===existItem.type)){var existingGroupOpt=existItem,newGroupOpt=newElOption;null==existingGroupOpt.width&&(existingGroupOpt.width=newGroupOpt.width=0),null==existingGroupOpt.height&&(existingGroupOpt.height=newGroupOpt.height=0)}}(existList[index],newElOption))},this),thisOption.elements=util.filter(existList,function(item){return item&&delete item.$action,null!=item})},GraphicComponentModel.prototype._flatten=function(optionList,result,parentOption){util.each(optionList,function(option){if(option){parentOption&&(option.parentOption=parentOption),result.push(option);var children=option.children;children&&children.length&&this._flatten(children,result,option),delete option.children}},this)},GraphicComponentModel.prototype.useElOptionsToUpdate=function(){var els=this._elOptionsToUpdate;return this._elOptionsToUpdate=null,els},GraphicComponentModel.type="graphic",GraphicComponentModel.defaultOption={elements:[]},GraphicComponentModel}(Component.A),nonShapeGraphicElements={path:null,compoundPath:null,group:Group.A,image:graphic_Image.Ay,text:Text.Ay},GraphicView_inner=util_model.$r(),GraphicComponentView=function(_super){function GraphicComponentView(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=GraphicComponentView.type,_this}return(0,tslib_es6.C6)(GraphicComponentView,_super),GraphicComponentView.prototype.init=function(){this._elMap=util.createHashMap()},GraphicComponentView.prototype.render=function(graphicModel,ecModel,api){graphicModel!==this._lastGraphicModel&&this._clear(),this._lastGraphicModel=graphicModel,this._updateElements(graphicModel),this._relocate(graphicModel,api)},GraphicComponentView.prototype._updateElements=function(graphicModel){var elOptionsToUpdate=graphicModel.useElOptionsToUpdate();if(elOptionsToUpdate){var elMap=this._elMap,rootGroup=this.group,globalZ=graphicModel.get("z"),globalZLevel=graphicModel.get("zlevel");util.each(elOptionsToUpdate,function(elOption){var id=util_model.vS(elOption.id,null),elExisting=null!=id?elMap.get(id):null,parentId=util_model.vS(elOption.parentId,null),targetElParent=null!=parentId?elMap.get(parentId):rootGroup,elType=elOption.type,elOptionStyle=elOption.style;"text"===elType&&elOptionStyle&&elOption.hv&&elOption.hv[1]&&(elOptionStyle.textVerticalAlign=elOptionStyle.textBaseline=elOptionStyle.verticalAlign=elOptionStyle.align=null);var textContentOption=elOption.textContent,textConfig=elOption.textConfig;if(elOptionStyle&&isEC4CompatibleStyle(elOptionStyle,elType,!!textConfig,!!textContentOption)){var convertResult=convertFromEC4CompatibleStyle(elOptionStyle,elType,!0);!textConfig&&convertResult.textConfig&&(textConfig=elOption.textConfig=convertResult.textConfig),!textContentOption&&convertResult.textContent&&(textContentOption=convertResult.textContent)}var elOptionCleaned=function getCleanedElOption(elOption){return elOption=util.extend({},elOption),util.each(["id","parentId","$action","hv","bounding","textContent","clipPath"].concat(layout.Tj),function(name){delete elOption[name]}),elOption}(elOption);var $action=elOption.$action||"merge",isMerge="merge"===$action,isReplace="replace"===$action;if(isMerge){var el_1=elExisting;(isInit=!elExisting)?el_1=GraphicView_createEl(id,targetElParent,elOption.type,elMap):(el_1&&(GraphicView_inner(el_1).isNew=!1),stopPreviousKeyframeAnimationAndRestore(el_1)),el_1&&(applyUpdateTransition(el_1,elOptionCleaned,graphicModel,{isInit}),updateCommonAttrs(el_1,elOption,globalZ,globalZLevel))}else if(isReplace){removeEl(elExisting,elOption,elMap,graphicModel);var el_2=GraphicView_createEl(id,targetElParent,elOption.type,elMap);el_2&&(applyUpdateTransition(el_2,elOptionCleaned,graphicModel,{isInit:!0}),updateCommonAttrs(el_2,elOption,globalZ,globalZLevel))}else"remove"===$action&&(updateLeaveTo(elExisting,elOption),removeEl(elExisting,elOption,elMap,graphicModel));var el=elMap.get(id);if(el&&textContentOption)if(isMerge){var textContentExisting=el.getTextContent();textContentExisting?textContentExisting.attr(textContentOption):el.setTextContent(new Text.Ay(textContentOption))}else isReplace&&el.setTextContent(new Text.Ay(textContentOption));if(el){var clipPathOption=elOption.clipPath;if(clipPathOption){var clipPathType=clipPathOption.type,clipPath=void 0,isInit=!1;if(isMerge){var oldClipPath=el.getClipPath();clipPath=(isInit=!oldClipPath||GraphicView_inner(oldClipPath).type!==clipPathType)?newEl(clipPathType):oldClipPath}else isReplace&&(isInit=!0,clipPath=newEl(clipPathType));el.setClipPath(clipPath),applyUpdateTransition(clipPath,clipPathOption,graphicModel,{isInit}),applyKeyframeAnimation(clipPath,clipPathOption.keyframeAnimation,graphicModel)}var elInner=GraphicView_inner(el);el.setTextConfig(textConfig),elInner.option=elOption,function setEventData(el,graphicModel,elOption){var eventData=(0,innerStore.z)(el).eventData;el.silent||el.ignore||eventData||(eventData=(0,innerStore.z)(el).eventData={componentType:"graphic",componentIndex:graphicModel.componentIndex,name:el.name});eventData&&(eventData.info=elOption.info)}(el,graphicModel,elOption),graphic.setTooltipConfig({el,componentModel:graphicModel,itemName:el.name,itemTooltipOption:elOption.tooltip}),applyKeyframeAnimation(el,elOption.keyframeAnimation,graphicModel)}})}},GraphicComponentView.prototype._relocate=function(graphicModel,api){for(var elOptions=graphicModel.option.elements,rootGroup=this.group,elMap=this._elMap,apiWidth=api.getWidth(),apiHeight=api.getHeight(),xy=["x","y"],i=0;i<elOptions.length;i++){var elOption=elOptions[i];if((el=null!=(id=util_model.vS(elOption.id,null))?elMap.get(id):null)&&el.isGroup){var isParentRoot=(parentEl=el.parent)===rootGroup,elInner=GraphicView_inner(el),parentElInner=GraphicView_inner(parentEl);elInner.width=(0,number.lo)(elInner.option.width,isParentRoot?apiWidth:parentElInner.width)||0,elInner.height=(0,number.lo)(elInner.option.height,isParentRoot?apiHeight:parentElInner.height)||0}}for(i=elOptions.length-1;i>=0;i--){var id,el;elOption=elOptions[i];if(el=null!=(id=util_model.vS(elOption.id,null))?elMap.get(id):null){var parentEl=el.parent,containerInfo=(parentElInner=GraphicView_inner(parentEl),parentEl===rootGroup?{width:apiWidth,height:apiHeight}:{width:parentElInner.width,height:parentElInner.height}),layoutPos={},layouted=layout.m$(el,elOption,containerInfo,null,{hv:elOption.hv,boundingMode:elOption.bounding},layoutPos);if(!GraphicView_inner(el).isNew&&layouted){for(var transition=elOption.transition,animatePos={},k=0;k<xy.length;k++){var key=xy[k],val=layoutPos[key];transition&&(isTransitionAll(transition)||util.indexOf(transition,key)>=0)?animatePos[key]=val:el[key]=val}(0,basicTransition.oi)(el,animatePos,graphicModel,0)}else el.attr(layoutPos)}}},GraphicComponentView.prototype._clear=function(){var _this=this,elMap=this._elMap;elMap.each(function(el){removeEl(el,GraphicView_inner(el).option,elMap,_this._lastGraphicModel)}),this._elMap=util.createHashMap()},GraphicComponentView.prototype.dispose=function(){this._clear()},GraphicComponentView.type="graphic",GraphicComponentView}(view_Component.A);function newEl(graphicType){var el=new(util.hasOwn(nonShapeGraphicElements,graphicType)?nonShapeGraphicElements[graphicType]:graphic.getShapeClass(graphicType))({});return GraphicView_inner(el).type=graphicType,el}function GraphicView_createEl(id,targetElParent,graphicType,elMap){var el=newEl(graphicType);return targetElParent.add(el),elMap.set(id,el),GraphicView_inner(el).id=id,GraphicView_inner(el).isNew=!0,el}function removeEl(elExisting,elOption,elMap,graphicModel){elExisting&&elExisting.parent&&("group"===elExisting.type&&elExisting.traverse(function(el){removeEl(el,elOption,elMap,graphicModel)}),applyLeaveTransition(elExisting,elOption,graphicModel),elMap.removeKey(GraphicView_inner(elExisting).id))}function updateCommonAttrs(el,elOption,defaultZ,defaultZlevel){el.isGroup||util.each([["cursor",Displayable.Ay.prototype.cursor],["zlevel",defaultZlevel||0],["z",defaultZ||0],["z2",0]],function(item){var prop=item[0];util.hasOwn(elOption,prop)?el[prop]=util.retrieve2(elOption[prop],item[1]):null==el[prop]&&(el[prop]=item[1])}),util.each(util.keys(elOption),function(key){if(0===key.indexOf("on")){var val=elOption[key];el[key]=util.isFunction(val)?val:null}}),util.hasOwn(elOption,"draggable")&&(el.draggable=elOption.draggable),null!=elOption.name&&(el.name=elOption.name),null!=elOption.id&&(el.id=elOption.id)}var SelectDataZoomModel=function(_super){function SelectDataZoomModel(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=SelectDataZoomModel.type,_this}return(0,tslib_es6.C6)(SelectDataZoomModel,_super),SelectDataZoomModel.type="dataZoom.select",SelectDataZoomModel}(__webpack_require__("./node_modules/echarts/lib/component/dataZoom/DataZoomModel.js").A);const SelectZoomModel=SelectDataZoomModel;var SelectDataZoomView=function(_super){function SelectDataZoomView(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=SelectDataZoomView.type,_this}return(0,tslib_es6.C6)(SelectDataZoomView,_super),SelectDataZoomView.type="dataZoom.select",SelectDataZoomView}(__webpack_require__("./node_modules/echarts/lib/component/dataZoom/DataZoomView.js").A);const SelectZoomView=SelectDataZoomView;var installCommon=__webpack_require__("./node_modules/echarts/lib/component/dataZoom/installCommon.js");function installDataZoomSelect_install(registers){registers.registerComponentModel(SelectZoomModel),registers.registerComponentView(SelectZoomView),(0,installCommon.A)(registers)}var ToolboxFeature=function ToolboxFeature(){},features={};function registerFeature(name,ctor){features[name]=ctor}function getFeature(name){return features[name]}var ToolboxModel=function(_super){function ToolboxModel(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=ToolboxModel.type,_this}return(0,tslib_es6.C6)(ToolboxModel,_super),ToolboxModel.prototype.optionUpdated=function(){_super.prototype.optionUpdated.apply(this,arguments);var ecModel=this.ecModel;util.each(this.option.feature,function(featureOpt,featureName){var Feature=getFeature(featureName);Feature&&(Feature.getDefaultOption&&(Feature.defaultOption=Feature.getDefaultOption(ecModel)),util.merge(featureOpt,Feature.defaultOption))})},ToolboxModel.type="toolbox",ToolboxModel.layoutMode={type:"box",ignoreSize:!0},ToolboxModel.defaultOption={show:!0,z:6,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{borderColor:"#666",color:"none"},emphasis:{iconStyle:{borderColor:"#3E98C5"}},tooltip:{show:!1,position:"bottom"}},ToolboxModel}(Component.A);const toolbox_ToolboxModel=ToolboxModel;var listComponent=__webpack_require__("./node_modules/echarts/lib/component/helper/listComponent.js"),ToolboxView=function(_super){function ToolboxView(){return null!==_super&&_super.apply(this,arguments)||this}return(0,tslib_es6.C6)(ToolboxView,_super),ToolboxView.prototype.render=function(toolboxModel,ecModel,api,payload){var group=this.group;if(group.removeAll(),toolboxModel.get("show")){var itemSize=+toolboxModel.get("itemSize"),isVertical="vertical"===toolboxModel.get("orient"),featureOpts=toolboxModel.get("feature")||{},features=this._features||(this._features={}),featureNames=[];util.each(featureOpts,function(opt,name){featureNames.push(name)}),new DataDiffer.A(this._featureNames||[],featureNames).add(processFeature).update(processFeature).remove(util.curry(processFeature,null)).execute(),this._featureNames=featureNames,listComponent.Z(group,toolboxModel,api),group.add(listComponent.P(group.getBoundingRect(),toolboxModel)),isVertical||group.eachChild(function(icon){var titleText=icon.__title,emphasisState=icon.ensureState("emphasis"),emphasisTextConfig=emphasisState.textConfig||(emphasisState.textConfig={}),textContent=icon.getTextContent(),emphasisTextState=textContent&&textContent.ensureState("emphasis");if(emphasisTextState&&!util.isFunction(emphasisTextState)&&titleText){var emphasisTextStyle=emphasisTextState.style||(emphasisTextState.style={}),rect=contain_text.NO(titleText,Text.Ay.makeFont(emphasisTextStyle)),offsetX=icon.x+group.x,needPutOnTop=!1;icon.y+group.y+itemSize+rect.height>api.getHeight()&&(emphasisTextConfig.position="top",needPutOnTop=!0);var topOffset=needPutOnTop?-5-rect.height:itemSize+10;offsetX+rect.width/2>api.getWidth()?(emphasisTextConfig.position=["100%",topOffset],emphasisTextStyle.align="right"):offsetX-rect.width/2<0&&(emphasisTextConfig.position=[0,topOffset],emphasisTextStyle.align="left")}})}function processFeature(newIndex,oldIndex){var feature,featureName=featureNames[newIndex],oldName=featureNames[oldIndex],featureOpt=featureOpts[featureName],featureModel=new Model.A(featureOpt,toolboxModel,toolboxModel.ecModel);if(payload&&null!=payload.newTitle&&payload.featureName===featureName&&(featureOpt.title=payload.newTitle),featureName&&!oldName){if(function isUserFeatureName(featureName){return 0===featureName.indexOf("my")}(featureName))feature={onclick:featureModel.option.onclick,featureName};else{var Feature=getFeature(featureName);if(!Feature)return;feature=new Feature}features[featureName]=feature}else if(!(feature=features[oldName]))return;feature.uid=(0,component.$Q)("toolbox-feature"),feature.model=featureModel,feature.ecModel=ecModel,feature.api=api;var isToolboxFeature=feature instanceof ToolboxFeature;featureName||!oldName?!featureModel.get("show")||isToolboxFeature&&feature.unusable?isToolboxFeature&&feature.remove&&feature.remove(ecModel,api):(!function createIconPaths(featureModel,feature,featureName){var iconsMap,titlesMap,iconStyleModel=featureModel.getModel("iconStyle"),iconStyleEmphasisModel=featureModel.getModel(["emphasis","iconStyle"]),icons=feature instanceof ToolboxFeature&&feature.getIcons?feature.getIcons():featureModel.get("icon"),titles=featureModel.get("title")||{};util.isString(icons)?(iconsMap={})[featureName]=icons:iconsMap=icons;util.isString(titles)?(titlesMap={})[featureName]=titles:titlesMap=titles;var iconPaths=featureModel.iconPaths={};util.each(iconsMap,function(iconStr,iconName){var path=graphic.createIcon(iconStr,{},{x:-itemSize/2,y:-itemSize/2,width:itemSize,height:itemSize});path.setStyle(iconStyleModel.getItemStyle()),path.ensureState("emphasis").style=iconStyleEmphasisModel.getItemStyle();var textContent=new Text.Ay({style:{text:titlesMap[iconName],align:iconStyleEmphasisModel.get("textAlign"),borderRadius:iconStyleEmphasisModel.get("textBorderRadius"),padding:iconStyleEmphasisModel.get("textPadding"),fill:null,font:(0,labelStyle.c8)({fontStyle:iconStyleEmphasisModel.get("textFontStyle"),fontFamily:iconStyleEmphasisModel.get("textFontFamily"),fontSize:iconStyleEmphasisModel.get("textFontSize"),fontWeight:iconStyleEmphasisModel.get("textFontWeight")},ecModel)},ignore:!0});path.setTextContent(textContent),graphic.setTooltipConfig({el:path,componentModel:toolboxModel,itemName:iconName,formatterParamsExtra:{title:titlesMap[iconName]}}),path.__title=titlesMap[iconName],path.on("mouseover",function(){var hoverStyle=iconStyleEmphasisModel.getItemStyle(),defaultTextPosition=isVertical?null==toolboxModel.get("right")&&"right"!==toolboxModel.get("left")?"right":"left":null==toolboxModel.get("bottom")&&"bottom"!==toolboxModel.get("top")?"bottom":"top";textContent.setStyle({fill:iconStyleEmphasisModel.get("textFill")||hoverStyle.fill||hoverStyle.stroke||"#000",backgroundColor:iconStyleEmphasisModel.get("textBackgroundColor")}),path.setTextConfig({position:iconStyleEmphasisModel.get("textPosition")||defaultTextPosition}),textContent.ignore=!toolboxModel.get("showTitle"),api.enterEmphasis(this)}).on("mouseout",function(){"emphasis"!==featureModel.get(["iconStatus",iconName])&&api.leaveEmphasis(this),textContent.hide()}),("emphasis"===featureModel.get(["iconStatus",iconName])?states.HY:states.SD)(path),group.add(path),path.on("click",util.bind(feature.onclick,feature,ecModel,api,iconName)),iconPaths[iconName]=path})}(featureModel,feature,featureName),featureModel.setIconStatus=function(iconName,status){var option=this.option,iconPaths=this.iconPaths;option.iconStatus=option.iconStatus||{},option.iconStatus[iconName]=status,iconPaths[iconName]&&("emphasis"===status?states.HY:states.SD)(iconPaths[iconName])},feature instanceof ToolboxFeature&&feature.render&&feature.render(featureModel,ecModel,api,payload)):isToolboxFeature&&feature.dispose&&feature.dispose(ecModel,api)}},ToolboxView.prototype.updateView=function(toolboxModel,ecModel,api,payload){util.each(this._features,function(feature){feature instanceof ToolboxFeature&&feature.updateView&&feature.updateView(feature.model,ecModel,api,payload)})},ToolboxView.prototype.remove=function(ecModel,api){util.each(this._features,function(feature){feature instanceof ToolboxFeature&&feature.remove&&feature.remove(ecModel,api)}),this.group.removeAll()},ToolboxView.prototype.dispose=function(ecModel,api){util.each(this._features,function(feature){feature instanceof ToolboxFeature&&feature.dispose&&feature.dispose(ecModel,api)})},ToolboxView.type="toolbox",ToolboxView}(view_Component.A);const toolbox_ToolboxView=ToolboxView;var env=__webpack_require__("./node_modules/zrender/lib/core/env.js"),SaveAsImage=function(_super){function SaveAsImage(){return null!==_super&&_super.apply(this,arguments)||this}return(0,tslib_es6.C6)(SaveAsImage,_super),SaveAsImage.prototype.onclick=function(ecModel,api){var model=this.model,title=model.get("name")||ecModel.get("title.0.text")||"echarts",isSvg="svg"===api.getZr().painter.getType(),type=isSvg?"svg":model.get("type",!0)||"png",url=api.getConnectedDataURL({type,backgroundColor:model.get("backgroundColor",!0)||ecModel.get("backgroundColor")||"#fff",connectedBackgroundColor:model.get("connectedBackgroundColor"),excludeComponents:model.get("excludeComponents"),pixelRatio:model.get("pixelRatio")}),browser=env.A.browser;if("function"!=typeof MouseEvent||!browser.newEdge&&(browser.ie||browser.edge))if(window.navigator.msSaveOrOpenBlob||isSvg){var parts=url.split(","),base64Encoded=parts[0].indexOf("base64")>-1,bstr=isSvg?decodeURIComponent(parts[1]):parts[1];base64Encoded&&(bstr=window.atob(bstr));var filename=title+"."+type;if(window.navigator.msSaveOrOpenBlob){for(var n=bstr.length,u8arr=new Uint8Array(n);n--;)u8arr[n]=bstr.charCodeAt(n);var blob=new Blob([u8arr]);window.navigator.msSaveOrOpenBlob(blob,filename)}else{var frame=document.createElement("iframe");document.body.appendChild(frame);var cw=frame.contentWindow,doc=cw.document;doc.open("image/svg+xml","replace"),doc.write(bstr),doc.close(),cw.focus(),doc.execCommand("SaveAs",!0,filename),document.body.removeChild(frame)}}else{var lang=model.get("lang"),html='<body style="margin:0;"><img src="'+url+'" style="max-width:100%;" title="'+(lang&&lang[0]||"")+'" /></body>',tab=window.open();tab.document.write(html),tab.document.title=title}else{var $a=document.createElement("a");$a.download=title+"."+type,$a.target="_blank",$a.href=url;var evt=new MouseEvent("click",{view:document.defaultView,bubbles:!0,cancelable:!1});$a.dispatchEvent(evt)}},SaveAsImage.getDefaultOption=function(ecModel){return{show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:ecModel.getLocaleModel().get(["toolbox","saveAsImage","title"]),type:"png",connectedBackgroundColor:"#fff",name:"",excludeComponents:["toolbox"],lang:ecModel.getLocaleModel().get(["toolbox","saveAsImage","lang"])}},SaveAsImage}(ToolboxFeature);const feature_SaveAsImage=SaveAsImage;var echarts=__webpack_require__("./node_modules/echarts/lib/core/echarts.js"),radioTypes=[["line","bar"],["stack"]],MagicType=function(_super){function MagicType(){return null!==_super&&_super.apply(this,arguments)||this}return(0,tslib_es6.C6)(MagicType,_super),MagicType.prototype.getIcons=function(){var model=this.model,availableIcons=model.get("icon"),icons={};return util.each(model.get("type"),function(type){availableIcons[type]&&(icons[type]=availableIcons[type])}),icons},MagicType.getDefaultOption=function(ecModel){return{show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z"},title:ecModel.getLocaleModel().get(["toolbox","magicType","title"]),option:{},seriesIndex:{}}},MagicType.prototype.onclick=function(ecModel,api,type){var model=this.model,seriesIndex=model.get(["seriesIndex",type]);if(seriesOptGenreator[type]){var newTitle,newOption={series:[]};util.each(radioTypes,function(radio){util.indexOf(radio,type)>=0&&util.each(radio,function(item){model.setIconStatus(item,"normal")})}),model.setIconStatus(type,"emphasis"),ecModel.eachComponent({mainType:"series",query:null==seriesIndex?null:{seriesIndex}},function(seriesModel){var seriesType=seriesModel.subType,seriesId=seriesModel.id,newSeriesOpt=seriesOptGenreator[type](seriesType,seriesId,seriesModel,model);newSeriesOpt&&(util.defaults(newSeriesOpt,seriesModel.option),newOption.series.push(newSeriesOpt));var coordSys=seriesModel.coordinateSystem;if(coordSys&&"cartesian2d"===coordSys.type&&("line"===type||"bar"===type)){var categoryAxis=coordSys.getAxesByScale("ordinal")[0];if(categoryAxis){var axisType=categoryAxis.dim+"Axis",axisIndex=seriesModel.getReferringComponents(axisType,util_model.US).models[0].componentIndex;newOption[axisType]=newOption[axisType]||[];for(var i=0;i<=axisIndex;i++)newOption[axisType][axisIndex]=newOption[axisType][axisIndex]||{};newOption[axisType][axisIndex].boundaryGap="bar"===type}}});var currentType=type;"stack"===type&&(newTitle=util.merge({stack:model.option.title.tiled,tiled:model.option.title.stack},model.option.title),"emphasis"!==model.get(["iconStatus",type])&&(currentType="tiled")),api.dispatchAction({type:"changeMagicType",currentType,newOption,newTitle,featureName:"magicType"})}},MagicType}(ToolboxFeature),seriesOptGenreator={line:function(seriesType,seriesId,seriesModel,model){if("bar"===seriesType)return util.merge({id:seriesId,type:"line",data:seriesModel.get("data"),stack:seriesModel.get("stack"),markPoint:seriesModel.get("markPoint"),markLine:seriesModel.get("markLine")},model.get(["option","line"])||{},!0)},bar:function(seriesType,seriesId,seriesModel,model){if("line"===seriesType)return util.merge({id:seriesId,type:"bar",data:seriesModel.get("data"),stack:seriesModel.get("stack"),markPoint:seriesModel.get("markPoint"),markLine:seriesModel.get("markLine")},model.get(["option","bar"])||{},!0)},stack:function(seriesType,seriesId,seriesModel,model){var isStack="__ec_magicType_stack__"===seriesModel.get("stack");if("line"===seriesType||"bar"===seriesType)return model.setIconStatus("stack",isStack?"normal":"emphasis"),util.merge({id:seriesId,stack:isStack?"":"__ec_magicType_stack__"},model.get(["option","stack"])||{},!0)}};echarts.OH({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function(payload,ecModel){ecModel.mergeOption(payload.newOption)});const feature_MagicType=MagicType;var core_event=__webpack_require__("./node_modules/zrender/lib/core/event.js"),BLOCK_SPLITER=new Array(60).join("-");function trim(str){return str.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}var itemSplitRegex=new RegExp("[\t]+","g");function parseContents(str,blockMetaList){var blocks=str.split(new RegExp("\n*"+BLOCK_SPLITER+"\n*","g")),newOption={series:[]};return util.each(blocks,function(block,idx){if(function isTSVFormat(block){if(block.slice(0,block.indexOf("\n")).indexOf("\t")>=0)return!0}(block)){var result=function parseTSVContents(tsv){for(var tsvLines=tsv.split(/\n+/g),headers=trim(tsvLines.shift()).split(itemSplitRegex),categories=[],series=util.map(headers,function(header){return{name:header,data:[]}}),i=0;i<tsvLines.length;i++){var items=trim(tsvLines[i]).split(itemSplitRegex);categories.push(items.shift());for(var j=0;j<items.length;j++)series[j]&&(series[j].data[i]=items[j])}return{series,categories}}(block),blockMeta=blockMetaList[idx],axisKey=blockMeta.axisDim+"Axis";blockMeta&&(newOption[axisKey]=newOption[axisKey]||[],newOption[axisKey][blockMeta.axisIndex]={data:result.categories},newOption.series=newOption.series.concat(result.series))}else{result=function parseListContents(str){for(var lines=str.split(/\n+/g),seriesName=trim(lines.shift()),data=[],i=0;i<lines.length;i++){var line=trim(lines[i]);if(line){var items=line.split(itemSplitRegex),name_1="",value=void 0,hasName=!1;isNaN(items[0])?(hasName=!0,name_1=items[0],items=items.slice(1),data[i]={name:name_1,value:[]},value=data[i].value):value=data[i]=[];for(var j=0;j<items.length;j++)value.push(+items[j]);1===value.length&&(hasName?data[i].value=value[0]:data[i]=value[0])}}return{name:seriesName,data}}(block);newOption.series.push(result)}}),newOption}var DataView=function(_super){function DataView(){return null!==_super&&_super.apply(this,arguments)||this}return(0,tslib_es6.C6)(DataView,_super),DataView.prototype.onclick=function(ecModel,api){setTimeout(function(){api.dispatchAction({type:"hideTip"})});var container=api.getDom(),model=this.model;this._dom&&container.removeChild(this._dom);var root=document.createElement("div");root.style.cssText="position:absolute;top:0;bottom:0;left:0;right:0;padding:5px",root.style.backgroundColor=model.get("backgroundColor")||"#fff";var header=document.createElement("h4"),lang=model.get("lang")||[];header.innerHTML=lang[0]||model.get("title"),header.style.cssText="margin:10px 20px",header.style.color=model.get("textColor");var viewMain=document.createElement("div"),textarea=document.createElement("textarea");viewMain.style.cssText="overflow:auto";var optionToContent=model.get("optionToContent"),contentToOption=model.get("contentToOption"),result=function getContentFromModel(ecModel){var series,groups,tables,result=function groupSeries(ecModel){var seriesGroupByCategoryAxis={},otherSeries=[],meta=[];return ecModel.eachRawSeries(function(seriesModel){var coordSys=seriesModel.coordinateSystem;if(!coordSys||"cartesian2d"!==coordSys.type&&"polar"!==coordSys.type)otherSeries.push(seriesModel);else{var baseAxis=coordSys.getBaseAxis();if("category"===baseAxis.type){var key=baseAxis.dim+"_"+baseAxis.index;seriesGroupByCategoryAxis[key]||(seriesGroupByCategoryAxis[key]={categoryAxis:baseAxis,valueAxis:coordSys.getOtherAxis(baseAxis),series:[]},meta.push({axisDim:baseAxis.dim,axisIndex:baseAxis.index})),seriesGroupByCategoryAxis[key].series.push(seriesModel)}else otherSeries.push(seriesModel)}}),{seriesGroupByCategoryAxis,other:otherSeries,meta}}(ecModel);return{value:util.filter([(groups=result.seriesGroupByCategoryAxis,tables=[],util.each(groups,function(group,key){var categoryAxis=group.categoryAxis,valueAxisDim=group.valueAxis.dim,headers=[" "].concat(util.map(group.series,function(series){return series.name})),columns=[categoryAxis.model.getCategories()];util.each(group.series,function(series){var rawData=series.getRawData();columns.push(series.getRawData().mapArray(rawData.mapDimension(valueAxisDim),function(val){return val}))});for(var lines=[headers.join("\t")],i=0;i<columns[0].length;i++){for(var items=[],j=0;j<columns.length;j++)items.push(columns[j][i]);lines.push(items.join("\t"))}tables.push(lines.join("\n"))}),tables.join("\n\n"+BLOCK_SPLITER+"\n\n")),(series=result.other,util.map(series,function(series){var data=series.getRawData(),lines=[series.name],vals=[];return data.each(data.dimensions,function(){for(var argLen=arguments.length,dataIndex=arguments[argLen-1],name=data.getName(dataIndex),i=0;i<argLen-1;i++)vals[i]=arguments[i];lines.push((name?name+"\t":"")+vals.join("\t"))}),lines.join("\n")}).join("\n\n"+BLOCK_SPLITER+"\n\n"))],function(str){return!!str.replace(/[\n\t\s]/g,"")}).join("\n\n"+BLOCK_SPLITER+"\n\n"),meta:result.meta}}(ecModel);if(util.isFunction(optionToContent)){var htmlOrDom=optionToContent(api.getOption());util.isString(htmlOrDom)?viewMain.innerHTML=htmlOrDom:util.isDom(htmlOrDom)&&viewMain.appendChild(htmlOrDom)}else{textarea.readOnly=model.get("readOnly");var style=textarea.style;style.cssText="display:block;width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;resize:none;box-sizing:border-box;outline:none",style.color=model.get("textColor"),style.borderColor=model.get("textareaBorderColor"),style.backgroundColor=model.get("textareaColor"),textarea.value=result.value,viewMain.appendChild(textarea)}var blockMetaList=result.meta,buttonContainer=document.createElement("div");buttonContainer.style.cssText="position:absolute;bottom:5px;left:0;right:0";var buttonStyle="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",closeButton=document.createElement("div"),refreshButton=document.createElement("div");buttonStyle+=";background-color:"+model.get("buttonColor"),buttonStyle+=";color:"+model.get("buttonTextColor");var self=this;function close(){container.removeChild(root),self._dom=null}(0,core_event.q2)(closeButton,"click",close),(0,core_event.q2)(refreshButton,"click",function(){if(null==contentToOption&&null!=optionToContent||null!=contentToOption&&null==optionToContent)close();else{var newOption;try{newOption=util.isFunction(contentToOption)?contentToOption(viewMain,api.getOption()):parseContents(textarea.value,blockMetaList)}catch(e){throw close(),new Error("Data view format error "+e)}newOption&&api.dispatchAction({type:"changeDataView",newOption}),close()}}),closeButton.innerHTML=lang[1],refreshButton.innerHTML=lang[2],refreshButton.style.cssText=closeButton.style.cssText=buttonStyle,!model.get("readOnly")&&buttonContainer.appendChild(refreshButton),buttonContainer.appendChild(closeButton),root.appendChild(header),root.appendChild(viewMain),root.appendChild(buttonContainer),viewMain.style.height=container.clientHeight-80+"px",container.appendChild(root),this._dom=root},DataView.prototype.remove=function(ecModel,api){this._dom&&api.getDom().removeChild(this._dom)},DataView.prototype.dispose=function(ecModel,api){this.remove(ecModel,api)},DataView.getDefaultOption=function(ecModel){return{show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:ecModel.getLocaleModel().get(["toolbox","dataView","title"]),lang:ecModel.getLocaleModel().get(["toolbox","dataView","lang"]),backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"}},DataView}(ToolboxFeature);function tryMergeDataOption(newData,originalData){return util.map(newData,function(newVal,idx){var original=originalData&&originalData[idx];if(util.isObject(original)&&!util.isArray(original)){util.isObject(newVal)&&!util.isArray(newVal)||(newVal={value:newVal});var shouldDeleteName=null!=original.name&&null==newVal.name;return newVal=util.defaults(newVal,original),shouldDeleteName&&delete newVal.name,newVal}return newVal})}echarts.OH({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function(payload,ecModel){var newSeriesOptList=[];util.each(payload.newOption.series,function(seriesOpt){var seriesModel=ecModel.getSeriesByName(seriesOpt.name)[0];if(seriesModel){var originalData=seriesModel.get("data");newSeriesOptList.push({name:seriesOpt.name,data:tryMergeDataOption(seriesOpt.data,originalData)})}else newSeriesOptList.push(util.extend({type:"scatter"},seriesOpt))}),ecModel.mergeOption(util.defaults({series:newSeriesOptList},payload.newOption))});const feature_DataView=DataView;var history_each=util.each,history_inner=(0,util_model.$r)();function getStoreSnapshots(ecModel){var store=history_inner(ecModel);return store.snapshots||(store.snapshots=[{}]),store.snapshots}var RestoreOption=function(_super){function RestoreOption(){return null!==_super&&_super.apply(this,arguments)||this}return(0,tslib_es6.C6)(RestoreOption,_super),RestoreOption.prototype.onclick=function(ecModel,api){!function clear(ecModel){history_inner(ecModel).snapshots=null}(ecModel),api.dispatchAction({type:"restore",from:this.uid})},RestoreOption.getDefaultOption=function(ecModel){return{show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:ecModel.getLocaleModel().get(["toolbox","restore","title"])}},RestoreOption}(ToolboxFeature);echarts.OH({type:"restore",event:"restore",update:"prepareAndUpdate"},function(payload,ecModel){ecModel.resetOption("recreate")});const Restore=RestoreOption;var INCLUDE_FINDER_MAIN_TYPES=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"],BrushTargetManager=function(){function BrushTargetManager(finder,ecModel,opt){var _this=this;this._targetInfoList=[];var foundCpts=parseFinder(ecModel,finder);(0,util.each)(targetInfoBuilders,function(builder,type){(!opt||!opt.include||(0,util.indexOf)(opt.include,type)>=0)&&builder(foundCpts,_this._targetInfoList)})}return BrushTargetManager.prototype.setOutputRanges=function(areas,ecModel){return this.matchOutputRanges(areas,ecModel,function(area,coordRange,coordSys){if((area.coordRanges||(area.coordRanges=[])).push(coordRange),!area.coordRange){area.coordRange=coordRange;var result=coordConvert[area.brushType](0,coordSys,coordRange);area.__rangeOffset={offset:diffProcessor[area.brushType](result.values,area.range,[1,1]),xyMinMax:result.xyMinMax}}}),areas},BrushTargetManager.prototype.matchOutputRanges=function(areas,ecModel,cb){(0,util.each)(areas,function(area){var targetInfo=this.findTargetInfo(area,ecModel);targetInfo&&!0!==targetInfo&&(0,util.each)(targetInfo.coordSyses,function(coordSys){var result=coordConvert[area.brushType](1,coordSys,area.range,!0);cb(area,result.values,coordSys,ecModel)})},this)},BrushTargetManager.prototype.setInputRanges=function(areas,ecModel){(0,util.each)(areas,function(area){var targetInfo=this.findTargetInfo(area,ecModel);if(area.range=area.range||[],targetInfo&&!0!==targetInfo){area.panelId=targetInfo.panelId;var result=coordConvert[area.brushType](0,targetInfo.coordSys,area.coordRange),rangeOffset=area.__rangeOffset;area.range=rangeOffset?diffProcessor[area.brushType](result.values,rangeOffset.offset,function getScales(xyMinMaxCurr,xyMinMaxOrigin){var sizeCurr=getSize(xyMinMaxCurr),sizeOrigin=getSize(xyMinMaxOrigin),scales=[sizeCurr[0]/sizeOrigin[0],sizeCurr[1]/sizeOrigin[1]];return isNaN(scales[0])&&(scales[0]=1),isNaN(scales[1])&&(scales[1]=1),scales}(result.xyMinMax,rangeOffset.xyMinMax)):result.values}},this)},BrushTargetManager.prototype.makePanelOpts=function(api,getDefaultBrushType){return(0,util.map)(this._targetInfoList,function(targetInfo){var rect=targetInfo.getPanelRect();return{panelId:targetInfo.panelId,defaultBrushType:getDefaultBrushType?getDefaultBrushType(targetInfo):null,clipPath:makeRectPanelClipPath(rect),isTargetByCursor:makeRectIsTargetByCursor(rect,api,targetInfo.coordSysModel),getLinearBrushOtherExtent:makeLinearBrushOtherExtent(rect)}})},BrushTargetManager.prototype.controlSeries=function(area,seriesModel,ecModel){var targetInfo=this.findTargetInfo(area,ecModel);return!0===targetInfo||targetInfo&&(0,util.indexOf)(targetInfo.coordSyses,seriesModel.coordinateSystem)>=0},BrushTargetManager.prototype.findTargetInfo=function(area,ecModel){for(var targetInfoList=this._targetInfoList,foundCpts=parseFinder(ecModel,area),i=0;i<targetInfoList.length;i++){var targetInfo=targetInfoList[i],areaPanelId=area.panelId;if(areaPanelId){if(targetInfo.panelId===areaPanelId)return targetInfo}else for(var j=0;j<targetInfoMatchers.length;j++)if(targetInfoMatchers[j](foundCpts,targetInfo))return targetInfo}return!0},BrushTargetManager}();function formatMinMax(minMax){return minMax[0]>minMax[1]&&minMax.reverse(),minMax}function parseFinder(ecModel,finder){return(0,util_model._e)(ecModel,finder,{includeMainTypes:INCLUDE_FINDER_MAIN_TYPES})}var targetInfoBuilders={grid:function(foundCpts,targetInfoList){var xAxisModels=foundCpts.xAxisModels,yAxisModels=foundCpts.yAxisModels,gridModels=foundCpts.gridModels,gridModelMap=(0,util.createHashMap)(),xAxesHas={},yAxesHas={};(xAxisModels||yAxisModels||gridModels)&&((0,util.each)(xAxisModels,function(axisModel){var gridModel=axisModel.axis.grid.model;gridModelMap.set(gridModel.id,gridModel),xAxesHas[gridModel.id]=!0}),(0,util.each)(yAxisModels,function(axisModel){var gridModel=axisModel.axis.grid.model;gridModelMap.set(gridModel.id,gridModel),yAxesHas[gridModel.id]=!0}),(0,util.each)(gridModels,function(gridModel){gridModelMap.set(gridModel.id,gridModel),xAxesHas[gridModel.id]=!0,yAxesHas[gridModel.id]=!0}),gridModelMap.each(function(gridModel){var grid=gridModel.coordinateSystem,cartesians=[];(0,util.each)(grid.getCartesians(),function(cartesian,index){((0,util.indexOf)(xAxisModels,cartesian.getAxis("x").model)>=0||(0,util.indexOf)(yAxisModels,cartesian.getAxis("y").model)>=0)&&cartesians.push(cartesian)}),targetInfoList.push({panelId:"grid--"+gridModel.id,gridModel,coordSysModel:gridModel,coordSys:cartesians[0],coordSyses:cartesians,getPanelRect:panelRectBuilders.grid,xAxisDeclared:xAxesHas[gridModel.id],yAxisDeclared:yAxesHas[gridModel.id]})}))},geo:function(foundCpts,targetInfoList){(0,util.each)(foundCpts.geoModels,function(geoModel){var coordSys=geoModel.coordinateSystem;targetInfoList.push({panelId:"geo--"+geoModel.id,geoModel,coordSysModel:geoModel,coordSys,coordSyses:[coordSys],getPanelRect:panelRectBuilders.geo})})}},targetInfoMatchers=[function(foundCpts,targetInfo){var xAxisModel=foundCpts.xAxisModel,yAxisModel=foundCpts.yAxisModel,gridModel=foundCpts.gridModel;return!gridModel&&xAxisModel&&(gridModel=xAxisModel.axis.grid.model),!gridModel&&yAxisModel&&(gridModel=yAxisModel.axis.grid.model),gridModel&&gridModel===targetInfo.gridModel},function(foundCpts,targetInfo){var geoModel=foundCpts.geoModel;return geoModel&&geoModel===targetInfo.geoModel}],panelRectBuilders={grid:function(){return this.coordSys.master.getRect().clone()},geo:function(){var coordSys=this.coordSys,rect=coordSys.getBoundingRect().clone();return rect.applyTransform(graphic.getTransform(coordSys)),rect}},coordConvert={lineX:(0,util.curry)(axisConvert,0),lineY:(0,util.curry)(axisConvert,1),rect:function(to,coordSys,rangeOrCoordRange,clamp){var xminymin=to?coordSys.pointToData([rangeOrCoordRange[0][0],rangeOrCoordRange[1][0]],clamp):coordSys.dataToPoint([rangeOrCoordRange[0][0],rangeOrCoordRange[1][0]],clamp),xmaxymax=to?coordSys.pointToData([rangeOrCoordRange[0][1],rangeOrCoordRange[1][1]],clamp):coordSys.dataToPoint([rangeOrCoordRange[0][1],rangeOrCoordRange[1][1]],clamp),values=[formatMinMax([xminymin[0],xmaxymax[0]]),formatMinMax([xminymin[1],xmaxymax[1]])];return{values,xyMinMax:values}},polygon:function(to,coordSys,rangeOrCoordRange,clamp){var xyMinMax=[[1/0,-1/0],[1/0,-1/0]];return{values:(0,util.map)(rangeOrCoordRange,function(item){var p=to?coordSys.pointToData(item,clamp):coordSys.dataToPoint(item,clamp);return xyMinMax[0][0]=Math.min(xyMinMax[0][0],p[0]),xyMinMax[1][0]=Math.min(xyMinMax[1][0],p[1]),xyMinMax[0][1]=Math.max(xyMinMax[0][1],p[0]),xyMinMax[1][1]=Math.max(xyMinMax[1][1],p[1]),p}),xyMinMax}}};function axisConvert(axisNameIndex,to,coordSys,rangeOrCoordRange){var axis=coordSys.getAxis(["x","y"][axisNameIndex]),values=formatMinMax((0,util.map)([0,1],function(i){return to?axis.coordToData(axis.toLocalCoord(rangeOrCoordRange[i]),!0):axis.toGlobalCoord(axis.dataToCoord(rangeOrCoordRange[i]))})),xyMinMax=[];return xyMinMax[axisNameIndex]=values,xyMinMax[1-axisNameIndex]=[NaN,NaN],{values,xyMinMax}}var diffProcessor={lineX:(0,util.curry)(axisDiffProcessor,0),lineY:(0,util.curry)(axisDiffProcessor,1),rect:function(values,refer,scales){return[[values[0][0]-scales[0]*refer[0][0],values[0][1]-scales[0]*refer[0][1]],[values[1][0]-scales[1]*refer[1][0],values[1][1]-scales[1]*refer[1][1]]]},polygon:function(values,refer,scales){return(0,util.map)(values,function(item,idx){return[item[0]-scales[0]*refer[idx][0],item[1]-scales[1]*refer[idx][1]]})}};function axisDiffProcessor(axisNameIndex,values,refer,scales){return[values[0]-scales[axisNameIndex]*refer[0],values[1]-scales[axisNameIndex]*refer[1]]}function getSize(xyMinMax){return xyMinMax?[xyMinMax[0][1]-xyMinMax[0][0],xyMinMax[1][1]-xyMinMax[1][0]]:[NaN,NaN]}const helper_BrushTargetManager=BrushTargetManager;var internalComponentCreator=__webpack_require__("./node_modules/echarts/lib/model/internalComponentCreator.js"),DataZoom_each=util.each,DATA_ZOOM_ID_BASE=(0,util_model.S_)("toolbox-dataZoom_"),DataZoomFeature=function(_super){function DataZoomFeature(){return null!==_super&&_super.apply(this,arguments)||this}return(0,tslib_es6.C6)(DataZoomFeature,_super),DataZoomFeature.prototype.render=function(featureModel,ecModel,api,payload){this._brushController||(this._brushController=new helper_BrushController(api.getZr()),this._brushController.on("brush",util.bind(this._onBrush,this)).mount()),function updateZoomBtnStatus(featureModel,ecModel,view,payload,api){var zoomActive=view._isZoomActive;payload&&"takeGlobalCursor"===payload.type&&(zoomActive="dataZoomSelect"===payload.key&&payload.dataZoomSelectActive);view._isZoomActive=zoomActive,featureModel.setIconStatus("zoom",zoomActive?"emphasis":"normal");var brushTargetManager=new helper_BrushTargetManager(makeAxisFinder(featureModel),ecModel,{include:["grid"]}),panels=brushTargetManager.makePanelOpts(api,function(targetInfo){return targetInfo.xAxisDeclared&&!targetInfo.yAxisDeclared?"lineX":!targetInfo.xAxisDeclared&&targetInfo.yAxisDeclared?"lineY":"rect"});view._brushController.setPanels(panels).enableBrush(!(!zoomActive||!panels.length)&&{brushType:"auto",brushStyle:featureModel.getModel("brushStyle").getItemStyle()})}(featureModel,ecModel,this,payload,api),function updateBackBtnStatus(featureModel,ecModel){featureModel.setIconStatus("back",function count(ecModel){return getStoreSnapshots(ecModel).length}(ecModel)>1?"emphasis":"normal")}(featureModel,ecModel)},DataZoomFeature.prototype.onclick=function(ecModel,api,type){DataZoom_handlers[type].call(this)},DataZoomFeature.prototype.remove=function(ecModel,api){this._brushController&&this._brushController.unmount()},DataZoomFeature.prototype.dispose=function(ecModel,api){this._brushController&&this._brushController.dispose()},DataZoomFeature.prototype._onBrush=function(eventParam){var areas=eventParam.areas;if(eventParam.isEnd&&areas.length){var snapshot={},ecModel=this.ecModel;this._brushController.updateCovers([]),new helper_BrushTargetManager(makeAxisFinder(this.model),ecModel,{include:["grid"]}).matchOutputRanges(areas,ecModel,function(area,coordRange,coordSys){if("cartesian2d"===coordSys.type){var brushType=area.brushType;"rect"===brushType?(setBatch("x",coordSys,coordRange[0]),setBatch("y",coordSys,coordRange[1])):setBatch({lineX:"x",lineY:"y"}[brushType],coordSys,coordRange)}}),function push(ecModel,newSnapshot){var storedSnapshots=getStoreSnapshots(ecModel);history_each(newSnapshot,function(batchItem,dataZoomId){for(var i=storedSnapshots.length-1;i>=0&&!storedSnapshots[i][dataZoomId];i--);if(i<0){var dataZoomModel=ecModel.queryComponents({mainType:"dataZoom",subType:"select",id:dataZoomId})[0];if(dataZoomModel){var percentRange=dataZoomModel.getPercentRange();storedSnapshots[0][dataZoomId]={dataZoomId,start:percentRange[0],end:percentRange[1]}}}}),storedSnapshots.push(newSnapshot)}(ecModel,snapshot),this._dispatchZoomAction(snapshot)}function setBatch(dimName,coordSys,minMax){var axis=coordSys.getAxis(dimName),axisModel=axis.model,dataZoomModel=function findDataZoom(dimName,axisModel,ecModel){var found;return ecModel.eachComponent({mainType:"dataZoom",subType:"select"},function(dzModel){dzModel.getAxisModel(dimName,axisModel.componentIndex)&&(found=dzModel)}),found}(dimName,axisModel,ecModel),minMaxSpan=dataZoomModel.findRepresentativeAxisProxy(axisModel).getMinMaxSpan();null==minMaxSpan.minValueSpan&&null==minMaxSpan.maxValueSpan||(minMax=(0,sliderMove.A)(0,minMax.slice(),axis.scale.getExtent(),0,minMaxSpan.minValueSpan,minMaxSpan.maxValueSpan)),dataZoomModel&&(snapshot[dataZoomModel.id]={dataZoomId:dataZoomModel.id,startValue:minMax[0],endValue:minMax[1]})}},DataZoomFeature.prototype._dispatchZoomAction=function(snapshot){var batch=[];DataZoom_each(snapshot,function(batchItem,dataZoomId){batch.push(util.clone(batchItem))}),batch.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch})},DataZoomFeature.getDefaultOption=function(ecModel){return{show:!0,filterMode:"filter",icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:ecModel.getLocaleModel().get(["toolbox","dataZoom","title"]),brushStyle:{borderWidth:0,color:"rgba(210,219,238,0.2)"}}},DataZoomFeature}(ToolboxFeature),DataZoom_handlers={zoom:function(){var nextActive=!this._isZoomActive;this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:nextActive})},back:function(){this._dispatchZoomAction(function pop(ecModel){var storedSnapshots=getStoreSnapshots(ecModel),head=storedSnapshots[storedSnapshots.length-1];storedSnapshots.length>1&&storedSnapshots.pop();var snapshot={};return history_each(head,function(batchItem,dataZoomId){for(var i=storedSnapshots.length-1;i>=0;i--)if(batchItem=storedSnapshots[i][dataZoomId]){snapshot[dataZoomId]=batchItem;break}}),snapshot}(this.ecModel))}};function makeAxisFinder(dzFeatureModel){var setting={xAxisIndex:dzFeatureModel.get("xAxisIndex",!0),yAxisIndex:dzFeatureModel.get("yAxisIndex",!0),xAxisId:dzFeatureModel.get("xAxisId",!0),yAxisId:dzFeatureModel.get("yAxisId",!0)};return null==setting.xAxisIndex&&null==setting.xAxisId&&(setting.xAxisIndex="all"),null==setting.yAxisIndex&&null==setting.yAxisId&&(setting.yAxisIndex="all"),setting}(0,internalComponentCreator.S)("dataZoom",function(ecModel){var toolboxModel=ecModel.getComponent("toolbox",0),featureDataZoomPath=["feature","dataZoom"];if(toolboxModel&&null!=toolboxModel.get(featureDataZoomPath)){var dzFeatureModel=toolboxModel.getModel(featureDataZoomPath),dzOptions=[],finder=makeAxisFinder(dzFeatureModel),finderResult=(0,util_model._e)(ecModel,finder);return DataZoom_each(finderResult.xAxisModels,function(axisModel){return buildInternalOptions(axisModel,"xAxis","xAxisIndex")}),DataZoom_each(finderResult.yAxisModels,function(axisModel){return buildInternalOptions(axisModel,"yAxis","yAxisIndex")}),dzOptions}function buildInternalOptions(axisModel,axisMainType,axisIndexPropName){var axisIndex=axisModel.componentIndex,newOpt={type:"select",$fromToolbox:!0,filterMode:dzFeatureModel.get("filterMode",!0)||"filter",id:DATA_ZOOM_ID_BASE+axisMainType+axisIndex};newOpt[axisIndexPropName]=axisIndex,dzOptions.push(newOpt)}});const DataZoom=DataZoomFeature;var tooltip_install=__webpack_require__("./node_modules/echarts/lib/component/tooltip/install.js"),DEFAULT_TOOLBOX_BTNS=["rect","polygon","keep","clear"];function brushPreprocessor(option,isNew){var brushComponents=(0,util_model.qB)(option?option.brush:[]);if(brushComponents.length){var brushComponentSpecifiedBtns=[];util.each(brushComponents,function(brushOpt){var tbs=brushOpt.hasOwnProperty("toolbox")?brushOpt.toolbox:[];tbs instanceof Array&&(brushComponentSpecifiedBtns=brushComponentSpecifiedBtns.concat(tbs))});var toolbox=option&&option.toolbox;util.isArray(toolbox)&&(toolbox=toolbox[0]),toolbox||(toolbox={feature:{}},option.toolbox=[toolbox]);var toolboxFeature=toolbox.feature||(toolbox.feature={}),toolboxBrush=toolboxFeature.brush||(toolboxFeature.brush={}),brushTypes=toolboxBrush.type||(toolboxBrush.type=[]);brushTypes.push.apply(brushTypes,brushComponentSpecifiedBtns),function removeDuplicate(arr){var map={};util.each(arr,function(val){map[val]=1}),arr.length=0,util.each(map,function(flag,val){arr.push(val)})}(brushTypes),isNew&&!brushTypes.length&&brushTypes.push.apply(brushTypes,DEFAULT_TOOLBOX_BTNS)}}var visualSolution=__webpack_require__("./node_modules/echarts/lib/visual/visualSolution.js"),polygon=__webpack_require__("./node_modules/zrender/lib/contain/polygon.js");var selector={lineX:getLineSelectors(0),lineY:getLineSelectors(1),rect:{point:function(itemLayout,selectors,area){return itemLayout&&area.boundingRect.contain(itemLayout[0],itemLayout[1])},rect:function(itemLayout,selectors,area){return itemLayout&&area.boundingRect.intersect(itemLayout)}},polygon:{point:function(itemLayout,selectors,area){return itemLayout&&area.boundingRect.contain(itemLayout[0],itemLayout[1])&&polygon.l(area.range,itemLayout[0],itemLayout[1])},rect:function(itemLayout,selectors,area){var points=area.range;if(!itemLayout||points.length<=1)return!1;var x=itemLayout.x,y=itemLayout.y,width=itemLayout.width,height=itemLayout.height,p=points[0];return!!(polygon.l(points,x,y)||polygon.l(points,x+width,y)||polygon.l(points,x,y+height)||polygon.l(points,x+width,y+height)||BoundingRect.A.create(itemLayout).contain(p[0],p[1])||(0,graphic.linePolygonIntersect)(x,y,x+width,y,points)||(0,graphic.linePolygonIntersect)(x,y,x,y+height,points)||(0,graphic.linePolygonIntersect)(x+width,y,x+width,y+height,points)||(0,graphic.linePolygonIntersect)(x,y+height,x+width,y+height,points))||void 0}}};function getLineSelectors(xyIndex){var xy=["x","y"],wh=["width","height"];return{point:function(itemLayout,selectors,area){if(itemLayout){var range=area.range;return inLineRange(itemLayout[xyIndex],range)}},rect:function(itemLayout,selectors,area){if(itemLayout){var range=area.range,layoutRange=[itemLayout[xy[xyIndex]],itemLayout[xy[xyIndex]]+itemLayout[wh[xyIndex]]];return layoutRange[1]<layoutRange[0]&&layoutRange.reverse(),inLineRange(layoutRange[0],range)||inLineRange(layoutRange[1],range)||inLineRange(range[0],layoutRange)||inLineRange(range[1],layoutRange)}}}}function inLineRange(p,range){return range[0]<=p&&p<=range[1]}var STATE_LIST=["inBrush","outOfBrush"],DISPATCH_FLAG="__ecInBrushSelectEvent";function layoutCovers(ecModel){ecModel.eachComponent({mainType:"brush"},function(brushModel){(brushModel.brushTargetManager=new helper_BrushTargetManager(brushModel.option,ecModel)).setInputRanges(brushModel.areas,ecModel)})}function brushVisual(ecModel,api,payload){var throttleType,throttleDelay,brushSelected=[];ecModel.eachComponent({mainType:"brush"},function(brushModel){payload&&"takeGlobalCursor"===payload.type&&brushModel.setBrushOption("brush"===payload.key?payload.brushOption:{brushType:!1})}),layoutCovers(ecModel),ecModel.eachComponent({mainType:"brush"},function(brushModel,brushIndex){var thisBrushSelected={brushId:brushModel.id,brushIndex,brushName:brushModel.name,areas:util.clone(brushModel.areas),selected:[]};brushSelected.push(thisBrushSelected);var brushOption=brushModel.option,brushLink=brushOption.brushLink,linkedSeriesMap=[],selectedDataIndexForLink=[],rangeInfoBySeries=[],hasBrushExists=!1;brushIndex||(throttleType=brushOption.throttleType,throttleDelay=brushOption.throttleDelay);var areas=util.map(brushModel.areas,function(area){var builder=boundingRectBuilders[area.brushType],selectableArea=util.defaults({boundingRect:builder?builder(area):void 0},area);return selectableArea.selectors=function makeBrushCommonSelectorForSeries(area){var brushType=area.brushType,selectors={point:function(itemLayout){return selector[brushType].point(itemLayout,selectors,area)},rect:function(itemLayout){return selector[brushType].rect(itemLayout,selectors,area)}};return selectors}(selectableArea),selectableArea}),visualMappings=visualSolution.u1(brushModel.option,STATE_LIST,function(mappingOption){mappingOption.mappingMethod="fixed"});function linkOthers(seriesIndex){return"all"===brushLink||!!linkedSeriesMap[seriesIndex]}function brushed(rangeInfoList){return!!rangeInfoList.length}util.isArray(brushLink)&&util.each(brushLink,function(seriesIndex){linkedSeriesMap[seriesIndex]=1}),ecModel.eachSeries(function(seriesModel,seriesIndex){var rangeInfoList=rangeInfoBySeries[seriesIndex]=[];"parallel"===seriesModel.subType?function stepAParallel(seriesModel,seriesIndex){var coordSys=seriesModel.coordinateSystem;hasBrushExists=hasBrushExists||coordSys.hasAxisBrushed(),linkOthers(seriesIndex)&&coordSys.eachActiveState(seriesModel.getData(),function(activeState,dataIndex){"active"===activeState&&(selectedDataIndexForLink[dataIndex]=1)})}(seriesModel,seriesIndex):function stepAOthers(seriesModel,seriesIndex,rangeInfoList){if(!seriesModel.brushSelector||function brushModelNotControll(brushModel,seriesIndex){var seriesIndices=brushModel.option.seriesIndex;return null!=seriesIndices&&"all"!==seriesIndices&&(util.isArray(seriesIndices)?util.indexOf(seriesIndices,seriesIndex)<0:seriesIndex!==seriesIndices)}(brushModel,seriesIndex))return;if(util.each(areas,function(area){brushModel.brushTargetManager.controlSeries(area,seriesModel,ecModel)&&rangeInfoList.push(area),hasBrushExists=hasBrushExists||brushed(rangeInfoList)}),linkOthers(seriesIndex)&&brushed(rangeInfoList)){var data_1=seriesModel.getData();data_1.each(function(dataIndex){checkInRange(seriesModel,rangeInfoList,data_1,dataIndex)&&(selectedDataIndexForLink[dataIndex]=1)})}}(seriesModel,seriesIndex,rangeInfoList)}),ecModel.eachSeries(function(seriesModel,seriesIndex){var seriesBrushSelected={seriesId:seriesModel.id,seriesIndex,seriesName:seriesModel.name,dataIndex:[]};thisBrushSelected.selected.push(seriesBrushSelected);var rangeInfoList=rangeInfoBySeries[seriesIndex],data=seriesModel.getData(),getValueState=linkOthers(seriesIndex)?function(dataIndex){return selectedDataIndexForLink[dataIndex]?(seriesBrushSelected.dataIndex.push(data.getRawIndex(dataIndex)),"inBrush"):"outOfBrush"}:function(dataIndex){return checkInRange(seriesModel,rangeInfoList,data,dataIndex)?(seriesBrushSelected.dataIndex.push(data.getRawIndex(dataIndex)),"inBrush"):"outOfBrush"};(linkOthers(seriesIndex)?hasBrushExists:brushed(rangeInfoList))&&visualSolution.R3(STATE_LIST,visualMappings,data,getValueState)})}),function dispatchAction(api,throttleType,throttleDelay,brushSelected,payload){if(!payload)return;var zr=api.getZr();if(zr[DISPATCH_FLAG])return;zr.__ecBrushSelect||(zr.__ecBrushSelect=doDispatch);var fn=throttle.N(zr,"__ecBrushSelect",throttleDelay,throttleType);fn(api,brushSelected)}(api,throttleType,throttleDelay,brushSelected,payload)}function doDispatch(api,brushSelected){if(!api.isDisposed()){var zr=api.getZr();zr[DISPATCH_FLAG]=!0,api.dispatchAction({type:"brushSelect",batch:brushSelected}),zr[DISPATCH_FLAG]=!1}}function checkInRange(seriesModel,rangeInfoList,data,dataIndex){for(var i=0,len=rangeInfoList.length;i<len;i++){var area=rangeInfoList[i];if(seriesModel.brushSelector(dataIndex,data,area.selectors,area))return!0}}var boundingRectBuilders={rect:function(area){return getBoundingRectFromMinMax(area.range)},polygon:function(area){for(var minMax,range=area.range,i=0,len=range.length;i<len;i++){minMax=minMax||[[1/0,-1/0],[1/0,-1/0]];var rg=range[i];rg[0]<minMax[0][0]&&(minMax[0][0]=rg[0]),rg[0]>minMax[0][1]&&(minMax[0][1]=rg[0]),rg[1]<minMax[1][0]&&(minMax[1][0]=rg[1]),rg[1]>minMax[1][1]&&(minMax[1][1]=rg[1])}return minMax&&getBoundingRectFromMinMax(minMax)}};function getBoundingRectFromMinMax(minMax){return new BoundingRect.A(minMax[0][0],minMax[1][0],minMax[0][1]-minMax[0][0],minMax[1][1]-minMax[1][0])}var BrushView=function(_super){function BrushView(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=BrushView.type,_this}return(0,tslib_es6.C6)(BrushView,_super),BrushView.prototype.init=function(ecModel,api){this.ecModel=ecModel,this.api=api,this.model,(this._brushController=new helper_BrushController(api.getZr())).on("brush",util.bind(this._onBrush,this)).mount()},BrushView.prototype.render=function(brushModel,ecModel,api,payload){this.model=brushModel,this._updateController(brushModel,ecModel,api,payload)},BrushView.prototype.updateTransform=function(brushModel,ecModel,api,payload){layoutCovers(ecModel),this._updateController(brushModel,ecModel,api,payload)},BrushView.prototype.updateVisual=function(brushModel,ecModel,api,payload){this.updateTransform(brushModel,ecModel,api,payload)},BrushView.prototype.updateView=function(brushModel,ecModel,api,payload){this._updateController(brushModel,ecModel,api,payload)},BrushView.prototype._updateController=function(brushModel,ecModel,api,payload){(!payload||payload.$from!==brushModel.id)&&this._brushController.setPanels(brushModel.brushTargetManager.makePanelOpts(api)).enableBrush(brushModel.brushOption).updateCovers(brushModel.areas.slice())},BrushView.prototype.dispose=function(){this._brushController.dispose()},BrushView.prototype._onBrush=function(eventParam){var modelId=this.model.id,areas=this.model.brushTargetManager.setOutputRanges(eventParam.areas,this.ecModel);(!eventParam.isEnd||eventParam.removeOnClick)&&this.api.dispatchAction({type:"brush",brushId:modelId,areas:util.clone(areas),$from:modelId}),eventParam.isEnd&&this.api.dispatchAction({type:"brushEnd",brushId:modelId,areas:util.clone(areas),$from:modelId})},BrushView.type="brush",BrushView}(view_Component.A);const brush_BrushView=BrushView;var BrushModel=function(_super){function BrushModel(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=BrushModel.type,_this.areas=[],_this.brushOption={},_this}return(0,tslib_es6.C6)(BrushModel,_super),BrushModel.prototype.optionUpdated=function(newOption,isInit){var thisOption=this.option;!isInit&&visualSolution.St(thisOption,newOption,["inBrush","outOfBrush"]);var inBrush=thisOption.inBrush=thisOption.inBrush||{};thisOption.outOfBrush=thisOption.outOfBrush||{color:"#ddd"},inBrush.hasOwnProperty("liftZ")||(inBrush.liftZ=5)},BrushModel.prototype.setAreas=function(areas){areas&&(this.areas=util.map(areas,function(area){return generateBrushOption(this.option,area)},this))},BrushModel.prototype.setBrushOption=function(brushOption){this.brushOption=generateBrushOption(this.option,brushOption),this.brushType=this.brushOption.brushType},BrushModel.type="brush",BrushModel.dependencies=["geo","grid","xAxis","yAxis","parallel","series"],BrushModel.defaultOption={seriesIndex:"all",brushType:"rect",brushMode:"single",transformable:!0,brushStyle:{borderWidth:1,color:"rgba(210,219,238,0.3)",borderColor:"#D2DBEE"},throttleType:"fixRate",throttleDelay:0,removeOnClick:!0,z:1e4},BrushModel}(Component.A);function generateBrushOption(option,brushOption){return util.merge({brushType:option.brushType,brushMode:option.brushMode,transformable:option.transformable,brushStyle:new Model.A(option.brushStyle).getItemStyle(),removeOnClick:option.removeOnClick,z:option.z},brushOption,!0)}const brush_BrushModel=BrushModel;var Brush_ICON_TYPES=["rect","polygon","lineX","lineY","keep","clear"],BrushFeature=function(_super){function BrushFeature(){return null!==_super&&_super.apply(this,arguments)||this}return(0,tslib_es6.C6)(BrushFeature,_super),BrushFeature.prototype.render=function(featureModel,ecModel,api){var brushType,brushMode,isBrushed;ecModel.eachComponent({mainType:"brush"},function(brushModel){brushType=brushModel.brushType,brushMode=brushModel.brushOption.brushMode||"single",isBrushed=isBrushed||!!brushModel.areas.length}),this._brushType=brushType,this._brushMode=brushMode,util.each(featureModel.get("type",!0),function(type){featureModel.setIconStatus(type,("keep"===type?"multiple"===brushMode:"clear"===type?isBrushed:type===brushType)?"emphasis":"normal")})},BrushFeature.prototype.updateView=function(featureModel,ecModel,api){this.render(featureModel,ecModel,api)},BrushFeature.prototype.getIcons=function(){var model=this.model,availableIcons=model.get("icon",!0),icons={};return util.each(model.get("type",!0),function(type){availableIcons[type]&&(icons[type]=availableIcons[type])}),icons},BrushFeature.prototype.onclick=function(ecModel,api,type){var brushType=this._brushType,brushMode=this._brushMode;"clear"===type?(api.dispatchAction({type:"axisAreaSelect",intervals:[]}),api.dispatchAction({type:"brush",command:"clear",areas:[]})):api.dispatchAction({type:"takeGlobalCursor",key:"brush",brushOption:{brushType:"keep"===type?brushType:brushType!==type&&type,brushMode:"keep"===type?"multiple"===brushMode?"single":"multiple":brushMode}})},BrushFeature.getDefaultOption=function(ecModel){return{show:!0,type:Brush_ICON_TYPES.slice(),icon:{rect:"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",polygon:"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",lineX:"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",lineY:"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",keep:"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",clear:"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},title:ecModel.getLocaleModel().get(["toolbox","brush","title"])}},BrushFeature}(ToolboxFeature);const Brush=BrushFeature;var title_install=__webpack_require__("./node_modules/echarts/lib/component/title/install.js"),TimelineModel=function(_super){function TimelineModel(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=TimelineModel.type,_this.layoutMode="box",_this}return(0,tslib_es6.C6)(TimelineModel,_super),TimelineModel.prototype.init=function(option,parentModel,ecModel){this.mergeDefaultAndTheme(option,ecModel),this._initData()},TimelineModel.prototype.mergeOption=function(option){_super.prototype.mergeOption.apply(this,arguments),this._initData()},TimelineModel.prototype.setCurrentIndex=function(currentIndex){null==currentIndex&&(currentIndex=this.option.currentIndex);var count=this._data.count();this.option.loop?currentIndex=(currentIndex%count+count)%count:(currentIndex>=count&&(currentIndex=count-1),currentIndex<0&&(currentIndex=0)),this.option.currentIndex=currentIndex},TimelineModel.prototype.getCurrentIndex=function(){return this.option.currentIndex},TimelineModel.prototype.isIndexMax=function(){return this.getCurrentIndex()>=this._data.count()-1},TimelineModel.prototype.setPlayState=function(state){this.option.autoPlay=!!state},TimelineModel.prototype.getPlayState=function(){return!!this.option.autoPlay},TimelineModel.prototype._initData=function(){var processedDataArr,thisOption=this.option,dataArr=thisOption.data||[],axisType=thisOption.axisType,names=this._names=[];"category"===axisType?(processedDataArr=[],(0,util.each)(dataArr,function(item,index){var newItem,value=(0,util_model.vS)((0,util_model.vj)(item),"");(0,util.isObject)(item)?(newItem=(0,util.clone)(item)).value=index:newItem=index,processedDataArr.push(newItem),names.push(value)})):processedDataArr=dataArr;var dimType={category:"ordinal",time:"time",value:"number"}[axisType]||"number";(this._data=new SeriesData.A([{name:"value",type:dimType}],this)).initData(processedDataArr,names)},TimelineModel.prototype.getData=function(){return this._data},TimelineModel.prototype.getCategories=function(){if("category"===this.get("axisType"))return this._names.slice()},TimelineModel.type="timeline",TimelineModel.defaultOption={z:4,show:!0,axisType:"time",realtime:!0,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:5,controlPosition:"left",autoPlay:!1,rewind:!1,loop:!0,playInterval:2e3,currentIndex:0,itemStyle:{},label:{color:"#000"},data:[]},TimelineModel}(Component.A);const timeline_TimelineModel=TimelineModel;var dataFormat=__webpack_require__("./node_modules/echarts/lib/model/mixin/dataFormat.js"),SliderTimelineModel=function(_super){function SliderTimelineModel(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=SliderTimelineModel.type,_this}return(0,tslib_es6.C6)(SliderTimelineModel,_super),SliderTimelineModel.type="timeline.slider",SliderTimelineModel.defaultOption=(0,component.G_)(timeline_TimelineModel.defaultOption,{backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,orient:"horizontal",inverse:!1,tooltip:{trigger:"item"},symbol:"circle",symbolSize:12,lineStyle:{show:!0,width:2,color:"#DAE1F5"},label:{position:"auto",show:!0,interval:"auto",rotate:0,color:"#A4B1D7"},itemStyle:{color:"#A4B1D7",borderWidth:1},checkpointStyle:{symbol:"circle",symbolSize:15,color:"#316bf3",borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0, 0, 0, 0.3)",animation:!0,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:24,itemGap:12,position:"left",playIcon:"path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z",stopIcon:"path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z",nextIcon:"M2,18.5A1.52,1.52,0,0,1,.92,18a1.49,1.49,0,0,1,0-2.12L7.81,9.36,1,3.11A1.5,1.5,0,1,1,3,.89l8,7.34a1.48,1.48,0,0,1,.49,1.09,1.51,1.51,0,0,1-.46,1.1L3,18.08A1.5,1.5,0,0,1,2,18.5Z",prevIcon:"M10,.5A1.52,1.52,0,0,1,11.08,1a1.49,1.49,0,0,1,0,2.12L4.19,9.64,11,15.89a1.5,1.5,0,1,1-2,2.22L1,10.77A1.48,1.48,0,0,1,.5,9.68,1.51,1.51,0,0,1,1,8.58L9,.92A1.5,1.5,0,0,1,10,.5Z",prevBtnSize:18,nextBtnSize:18,color:"#A4B1D7",borderColor:"#A4B1D7",borderWidth:1},emphasis:{label:{show:!0,color:"#6f778d"},itemStyle:{color:"#316BF3"},controlStyle:{color:"#316BF3",borderColor:"#316BF3",borderWidth:2}},progress:{lineStyle:{color:"#316BF3"},itemStyle:{color:"#316BF3"},label:{color:"#6f778d"}},data:[]}),SliderTimelineModel}(timeline_TimelineModel);(0,util.mixin)(SliderTimelineModel,dataFormat.J.prototype);const timeline_SliderTimelineModel=SliderTimelineModel;var TimelineView=function(_super){function TimelineView(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=TimelineView.type,_this}return(0,tslib_es6.C6)(TimelineView,_super),TimelineView.type="timeline",TimelineView}(view_Component.A);const timeline_TimelineView=TimelineView;const timeline_TimelineAxis=function(_super){function TimelineAxis(dim,scale,coordExtent,axisType){var _this=_super.call(this,dim,scale,coordExtent)||this;return _this.type=axisType||"value",_this}return(0,tslib_es6.C6)(TimelineAxis,_super),TimelineAxis.prototype.getLabelModel=function(){return this.model.getModel("label")},TimelineAxis.prototype.isHorizontal=function(){return"horizontal"===this.model.get("orient")},TimelineAxis}(Axis.A);var Ordinal=__webpack_require__("./node_modules/echarts/lib/scale/Ordinal.js"),Time=__webpack_require__("./node_modules/echarts/lib/scale/Time.js"),Interval=__webpack_require__("./node_modules/echarts/lib/scale/Interval.js"),SliderTimelineView_PI=Math.PI,labelDataIndexStore=(0,util_model.$r)(),SliderTimelineView=function(_super){function SliderTimelineView(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=SliderTimelineView.type,_this}return(0,tslib_es6.C6)(SliderTimelineView,_super),SliderTimelineView.prototype.init=function(ecModel,api){this.api=api},SliderTimelineView.prototype.render=function(timelineModel,ecModel,api){if(this.model=timelineModel,this.api=api,this.ecModel=ecModel,this.group.removeAll(),timelineModel.get("show",!0)){var layoutInfo_1=this._layout(timelineModel,api),mainGroup_1=this._createGroup("_mainGroup"),labelGroup=this._createGroup("_labelGroup"),axis_1=this._axis=this._createAxis(layoutInfo_1,timelineModel);timelineModel.formatTooltip=function(dataIndex){var name=axis_1.scale.getLabel({value:dataIndex});return(0,tooltipMarkup.Qx)("nameValue",{noName:!0,value:name})},(0,util.each)(["AxisLine","AxisTick","Control","CurrentPointer"],function(name){this["_render"+name](layoutInfo_1,mainGroup_1,axis_1,timelineModel)},this),this._renderAxisLabel(layoutInfo_1,labelGroup,axis_1,timelineModel),this._position(layoutInfo_1,timelineModel)}this._doPlayStop(),this._updateTicksStatus()},SliderTimelineView.prototype.remove=function(){this._clearTimer(),this.group.removeAll()},SliderTimelineView.prototype.dispose=function(){this._clearTimer()},SliderTimelineView.prototype._layout=function(timelineModel,api){var parsedLabelPos,playPosition,prevBtnPosition,nextBtnPosition,labelPosOpt=timelineModel.get(["label","position"]),orient=timelineModel.get("orient"),viewRect=function SliderTimelineView_getViewRect(model,api){return layout.dV(model.getBoxLayoutParams(),{width:api.getWidth(),height:api.getHeight()},model.get("padding"))}(timelineModel,api),labelAlignMap={horizontal:"center",vertical:(parsedLabelPos=null==labelPosOpt||"auto"===labelPosOpt?"horizontal"===orient?viewRect.y+viewRect.height/2<api.getHeight()/2?"-":"+":viewRect.x+viewRect.width/2<api.getWidth()/2?"+":"-":(0,util.isString)(labelPosOpt)?{horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}}[orient][labelPosOpt]:labelPosOpt)>=0||"+"===parsedLabelPos?"left":"right"},labelBaselineMap={horizontal:parsedLabelPos>=0||"+"===parsedLabelPos?"top":"bottom",vertical:"middle"},rotationMap={horizontal:0,vertical:SliderTimelineView_PI/2},mainLength="vertical"===orient?viewRect.height:viewRect.width,controlModel=timelineModel.getModel("controlStyle"),showControl=controlModel.get("show",!0),controlSize=showControl?controlModel.get("itemSize"):0,controlGap=showControl?controlModel.get("itemGap"):0,sizePlusGap=controlSize+controlGap,labelRotation=timelineModel.get(["label","rotate"])||0;labelRotation=labelRotation*SliderTimelineView_PI/180;var controlPosition=controlModel.get("position",!0),showPlayBtn=showControl&&controlModel.get("showPlayBtn",!0),showPrevBtn=showControl&&controlModel.get("showPrevBtn",!0),showNextBtn=showControl&&controlModel.get("showNextBtn",!0),xLeft=0,xRight=mainLength;"left"===controlPosition||"bottom"===controlPosition?(showPlayBtn&&(playPosition=[0,0],xLeft+=sizePlusGap),showPrevBtn&&(prevBtnPosition=[xLeft,0],xLeft+=sizePlusGap),showNextBtn&&(nextBtnPosition=[xRight-controlSize,0],xRight-=sizePlusGap)):(showPlayBtn&&(playPosition=[xRight-controlSize,0],xRight-=sizePlusGap),showPrevBtn&&(prevBtnPosition=[0,0],xLeft+=sizePlusGap),showNextBtn&&(nextBtnPosition=[xRight-controlSize,0],xRight-=sizePlusGap));var axisExtent=[xLeft,xRight];return timelineModel.get("inverse")&&axisExtent.reverse(),{viewRect,mainLength,orient,rotation:rotationMap[orient],labelRotation,labelPosOpt:parsedLabelPos,labelAlign:timelineModel.get(["label","align"])||labelAlignMap[orient],labelBaseline:timelineModel.get(["label","verticalAlign"])||timelineModel.get(["label","baseline"])||labelBaselineMap[orient],playPosition,prevBtnPosition,nextBtnPosition,axisExtent,controlSize,controlGap}},SliderTimelineView.prototype._position=function(layoutInfo,timelineModel){var mainGroup=this._mainGroup,labelGroup=this._labelGroup,viewRect=layoutInfo.viewRect;if("vertical"===layoutInfo.orient){var m=matrix.create(),rotateOriginX=viewRect.x,rotateOriginY=viewRect.y+viewRect.height;matrix.translate(m,m,[-rotateOriginX,-rotateOriginY]),matrix.rotate(m,m,-SliderTimelineView_PI/2),matrix.translate(m,m,[rotateOriginX,rotateOriginY]),(viewRect=viewRect.clone()).applyTransform(m)}var viewBound=getBound(viewRect),mainBound=getBound(mainGroup.getBoundingRect()),labelBound=getBound(labelGroup.getBoundingRect()),mainPosition=[mainGroup.x,mainGroup.y],labelsPosition=[labelGroup.x,labelGroup.y];labelsPosition[0]=mainPosition[0]=viewBound[0][0];var mainBoundIdx,labelPosOpt=layoutInfo.labelPosOpt;null==labelPosOpt||(0,util.isString)(labelPosOpt)?(toBound(mainPosition,mainBound,viewBound,1,mainBoundIdx="+"===labelPosOpt?0:1),toBound(labelsPosition,labelBound,viewBound,1,1-mainBoundIdx)):(toBound(mainPosition,mainBound,viewBound,1,mainBoundIdx=labelPosOpt>=0?0:1),labelsPosition[1]=mainPosition[1]+labelPosOpt);function setOrigin(targetGroup){targetGroup.originX=viewBound[0][0]-targetGroup.x,targetGroup.originY=viewBound[1][0]-targetGroup.y}function getBound(rect){return[[rect.x,rect.x+rect.width],[rect.y,rect.y+rect.height]]}function toBound(fromPos,from,to,dimIdx,boundIdx){fromPos[dimIdx]+=to[dimIdx][boundIdx]-from[dimIdx][boundIdx]}mainGroup.setPosition(mainPosition),labelGroup.setPosition(labelsPosition),mainGroup.rotation=labelGroup.rotation=layoutInfo.rotation,setOrigin(mainGroup),setOrigin(labelGroup)},SliderTimelineView.prototype._createAxis=function(layoutInfo,timelineModel){var data=timelineModel.getData(),axisType=timelineModel.get("axisType"),scale=function createScaleByModel(model,axisType){if(axisType=axisType||model.get("type"),axisType)switch(axisType){case"category":return new Ordinal.A({ordinalMeta:model.getCategories(),extent:[1/0,-1/0]});case"time":return new Time.A({locale:model.ecModel.getLocaleModel(),useUTC:model.ecModel.get("useUTC")});default:return new Interval.A}}(timelineModel,axisType);scale.getTicks=function(){return data.mapArray(["value"],function(value){return{value}})};var dataExtent=data.getDataExtent("value");scale.setExtent(dataExtent[0],dataExtent[1]),scale.calcNiceTicks();var axis=new timeline_TimelineAxis("value",scale,layoutInfo.axisExtent,axisType);return axis.model=timelineModel,axis},SliderTimelineView.prototype._createGroup=function(key){var newGroup=this[key]=new Group.A;return this.group.add(newGroup),newGroup},SliderTimelineView.prototype._renderAxisLine=function(layoutInfo,group,axis,timelineModel){var axisExtent=axis.getExtent();if(timelineModel.get(["lineStyle","show"])){var line=new Line.A({shape:{x1:axisExtent[0],y1:0,x2:axisExtent[1],y2:0},style:(0,util.extend)({lineCap:"round"},timelineModel.getModel("lineStyle").getLineStyle()),silent:!0,z2:1});group.add(line);var progressLine=this._progressLine=new Line.A({shape:{x1:axisExtent[0],x2:this._currentPointer?this._currentPointer.x:axisExtent[0],y1:0,y2:0},style:(0,util.defaults)({lineCap:"round",lineWidth:line.style.lineWidth},timelineModel.getModel(["progress","lineStyle"]).getLineStyle()),silent:!0,z2:1});group.add(progressLine)}},SliderTimelineView.prototype._renderAxisTick=function(layoutInfo,group,axis,timelineModel){var _this=this,data=timelineModel.getData(),ticks=axis.scale.getTicks();this._tickSymbols=[],(0,util.each)(ticks,function(tick){var tickCoord=axis.dataToCoord(tick.value),itemModel=data.getItemModel(tick.value),itemStyleModel=itemModel.getModel("itemStyle"),hoverStyleModel=itemModel.getModel(["emphasis","itemStyle"]),progressStyleModel=itemModel.getModel(["progress","itemStyle"]),symbolOpt={x:tickCoord,y:0,onclick:(0,util.bind)(_this._changeTimeline,_this,tick.value)},el=giveSymbol(itemModel,itemStyleModel,group,symbolOpt);el.ensureState("emphasis").style=hoverStyleModel.getItemStyle(),el.ensureState("progress").style=progressStyleModel.getItemStyle(),(0,states.iJ)(el);var ecData=(0,innerStore.z)(el);itemModel.get("tooltip")?(ecData.dataIndex=tick.value,ecData.dataModel=timelineModel):ecData.dataIndex=ecData.dataModel=null,_this._tickSymbols.push(el)})},SliderTimelineView.prototype._renderAxisLabel=function(layoutInfo,group,axis,timelineModel){var _this=this;if(axis.getLabelModel().get("show")){var data=timelineModel.getData(),labels=axis.getViewLabels();this._tickLabels=[],(0,util.each)(labels,function(labelItem){var dataIndex=labelItem.tickValue,itemModel=data.getItemModel(dataIndex),normalLabelModel=itemModel.getModel("label"),hoverLabelModel=itemModel.getModel(["emphasis","label"]),progressLabelModel=itemModel.getModel(["progress","label"]),tickCoord=axis.dataToCoord(labelItem.tickValue),textEl=new Text.Ay({x:tickCoord,y:0,rotation:layoutInfo.labelRotation-layoutInfo.rotation,onclick:(0,util.bind)(_this._changeTimeline,_this,dataIndex),silent:!1,style:(0,labelStyle.VB)(normalLabelModel,{text:labelItem.formattedLabel,align:layoutInfo.labelAlign,verticalAlign:layoutInfo.labelBaseline})});textEl.ensureState("emphasis").style=(0,labelStyle.VB)(hoverLabelModel),textEl.ensureState("progress").style=(0,labelStyle.VB)(progressLabelModel),group.add(textEl),(0,states.iJ)(textEl),labelDataIndexStore(textEl).dataIndex=dataIndex,_this._tickLabels.push(textEl)})}},SliderTimelineView.prototype._renderControl=function(layoutInfo,group,axis,timelineModel){var controlSize=layoutInfo.controlSize,rotation=layoutInfo.rotation,itemStyle=timelineModel.getModel("controlStyle").getItemStyle(),hoverStyle=timelineModel.getModel(["emphasis","controlStyle"]).getItemStyle(),playState=timelineModel.getPlayState(),inverse=timelineModel.get("inverse",!0);function makeBtn(position,iconName,onclick,willRotate){if(position){var iconSize=(0,contain_text.lo)((0,util.retrieve2)(timelineModel.get(["controlStyle",iconName+"BtnSize"]),controlSize),controlSize),btn=function makeControlIcon(timelineModel,objPath,rect,opts){var style=opts.style,icon=graphic.createIcon(timelineModel.get(["controlStyle",objPath]),opts||{},new BoundingRect.A(rect[0],rect[1],rect[2],rect[3]));style&&icon.setStyle(style);return icon}(timelineModel,iconName+"Icon",[0,-iconSize/2,iconSize,iconSize],{x:position[0],y:position[1],originX:controlSize/2,originY:0,rotation:willRotate?-rotation:0,rectHover:!0,style:itemStyle,onclick});btn.ensureState("emphasis").style=hoverStyle,group.add(btn),(0,states.iJ)(btn)}}makeBtn(layoutInfo.nextBtnPosition,"next",(0,util.bind)(this._changeTimeline,this,inverse?"-":"+")),makeBtn(layoutInfo.prevBtnPosition,"prev",(0,util.bind)(this._changeTimeline,this,inverse?"+":"-")),makeBtn(layoutInfo.playPosition,playState?"stop":"play",(0,util.bind)(this._handlePlayClick,this,!playState),!0)},SliderTimelineView.prototype._renderCurrentPointer=function(layoutInfo,group,axis,timelineModel){var data=timelineModel.getData(),currentIndex=timelineModel.getCurrentIndex(),pointerModel=data.getItemModel(currentIndex).getModel("checkpointStyle"),me=this,callback={onCreate:function(pointer){pointer.draggable=!0,pointer.drift=(0,util.bind)(me._handlePointerDrag,me),pointer.ondragend=(0,util.bind)(me._handlePointerDragend,me),pointerMoveTo(pointer,me._progressLine,currentIndex,axis,timelineModel,!0)},onUpdate:function(pointer){pointerMoveTo(pointer,me._progressLine,currentIndex,axis,timelineModel)}};this._currentPointer=giveSymbol(pointerModel,pointerModel,this._mainGroup,{},this._currentPointer,callback)},SliderTimelineView.prototype._handlePlayClick=function(nextState){this._clearTimer(),this.api.dispatchAction({type:"timelinePlayChange",playState:nextState,from:this.uid})},SliderTimelineView.prototype._handlePointerDrag=function(dx,dy,e){this._clearTimer(),this._pointerChangeTimeline([e.offsetX,e.offsetY])},SliderTimelineView.prototype._handlePointerDragend=function(e){this._pointerChangeTimeline([e.offsetX,e.offsetY],!0)},SliderTimelineView.prototype._pointerChangeTimeline=function(mousePos,trigger){var toCoord=this._toAxisCoord(mousePos)[0],axis=this._axis,axisExtent=number.Y6(axis.getExtent().slice());toCoord>axisExtent[1]&&(toCoord=axisExtent[1]),toCoord<axisExtent[0]&&(toCoord=axisExtent[0]),this._currentPointer.x=toCoord,this._currentPointer.markRedraw();var progressLine=this._progressLine;progressLine&&(progressLine.shape.x2=toCoord,progressLine.dirty());var targetDataIndex=this._findNearestTick(toCoord),timelineModel=this.model;(trigger||targetDataIndex!==timelineModel.getCurrentIndex()&&timelineModel.get("realtime"))&&this._changeTimeline(targetDataIndex)},SliderTimelineView.prototype._doPlayStop=function(){var _this=this;this._clearTimer(),this.model.getPlayState()&&(this._timer=setTimeout(function(){var timelineModel=_this.model;_this._changeTimeline(timelineModel.getCurrentIndex()+(timelineModel.get("rewind",!0)?-1:1))},this.model.get("playInterval")))},SliderTimelineView.prototype._toAxisCoord=function(vertex){var trans=this._mainGroup.getLocalTransform();return graphic.applyTransform(vertex,trans,!0)},SliderTimelineView.prototype._findNearestTick=function(axisCoord){var targetDataIndex,data=this.model.getData(),dist=1/0,axis=this._axis;return data.each(["value"],function(value,dataIndex){var coord=axis.dataToCoord(value),d=Math.abs(coord-axisCoord);d<dist&&(dist=d,targetDataIndex=dataIndex)}),targetDataIndex},SliderTimelineView.prototype._clearTimer=function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},SliderTimelineView.prototype._changeTimeline=function(nextIndex){var currentIndex=this.model.getCurrentIndex();"+"===nextIndex?nextIndex=currentIndex+1:"-"===nextIndex&&(nextIndex=currentIndex-1),this.api.dispatchAction({type:"timelineChange",currentIndex:nextIndex,from:this.uid})},SliderTimelineView.prototype._updateTicksStatus=function(){var currentIndex=this.model.getCurrentIndex(),tickSymbols=this._tickSymbols,tickLabels=this._tickLabels;if(tickSymbols)for(var i=0;i<tickSymbols.length;i++)tickSymbols&&tickSymbols[i]&&tickSymbols[i].toggleState("progress",i<currentIndex);if(tickLabels)for(i=0;i<tickLabels.length;i++)tickLabels&&tickLabels[i]&&tickLabels[i].toggleState("progress",labelDataIndexStore(tickLabels[i]).dataIndex<=currentIndex)},SliderTimelineView.type="timeline.slider",SliderTimelineView}(timeline_TimelineView);function giveSymbol(hostModel,itemStyleModel,group,opt,symbol,callback){var color=itemStyleModel.get("color");if(symbol)symbol.setColor(color),group.add(symbol),callback&&callback.onUpdate(symbol);else{var symbolType=hostModel.get("symbol");(symbol=(0,util_symbol.v5)(symbolType,-1,-1,2,2,color)).setStyle("strokeNoScale",!0),group.add(symbol),callback&&callback.onCreate(symbol)}var itemStyle=itemStyleModel.getItemStyle(["color"]);symbol.setStyle(itemStyle),opt=(0,util.merge)({rectHover:!0,z2:100},opt,!0);var symbolSize=(0,util_symbol.xU)(hostModel.get("symbolSize"));opt.scaleX=symbolSize[0]/2,opt.scaleY=symbolSize[1]/2;var symbolOffset=(0,util_symbol.hV)(hostModel.get("symbolOffset"),symbolSize);symbolOffset&&(opt.x=(opt.x||0)+symbolOffset[0],opt.y=(opt.y||0)+symbolOffset[1]);var symbolRotate=hostModel.get("symbolRotate");return opt.rotation=(symbolRotate||0)*Math.PI/180||0,symbol.attr(opt),symbol.updateTransform(),symbol}function pointerMoveTo(pointer,progressLine,dataIndex,axis,timelineModel,noAnimation){if(!pointer.dragging){var pointerModel=timelineModel.getModel("checkpointStyle"),toCoord=axis.dataToCoord(timelineModel.getData().get("value",dataIndex));if(noAnimation||!pointerModel.get("animation",!0))pointer.attr({x:toCoord,y:0}),progressLine&&progressLine.attr({shape:{x2:toCoord}});else{var animationCfg={duration:pointerModel.get("animationDuration",!0),easing:pointerModel.get("animationEasing",!0)};pointer.stopAnimation(null,!0),pointer.animateTo({x:toCoord,y:0},animationCfg),progressLine&&progressLine.animateTo({shape:{x2:toCoord}},animationCfg)}}}const timeline_SliderTimelineView=SliderTimelineView;function timelinePreprocessor(option){var timelineOpt=option&&option.timeline;util.isArray(timelineOpt)||(timelineOpt=timelineOpt?[timelineOpt]:[]),util.each(timelineOpt,function(opt){opt&&function compatibleEC2(opt){var type=opt.type,ec2Types={number:"value",time:"time"};ec2Types[type]&&(opt.axisType=ec2Types[type],delete opt.type);if(transferItem(opt),has(opt,"controlPosition")){var controlStyle=opt.controlStyle||(opt.controlStyle={});has(controlStyle,"position")||(controlStyle.position=opt.controlPosition),"none"!==controlStyle.position||has(controlStyle,"show")||(controlStyle.show=!1,delete controlStyle.position),delete opt.controlPosition}util.each(opt.data||[],function(dataItem){util.isObject(dataItem)&&!util.isArray(dataItem)&&(!has(dataItem,"value")&&has(dataItem,"name")&&(dataItem.value=dataItem.name),transferItem(dataItem))})}(opt)})}function transferItem(opt){var itemStyle=opt.itemStyle||(opt.itemStyle={}),itemStyleEmphasis=itemStyle.emphasis||(itemStyle.emphasis={}),label=opt.label||opt.label||{},labelNormal=label.normal||(label.normal={}),excludeLabelAttr={normal:1,emphasis:1};util.each(label,function(value,name){excludeLabelAttr[name]||has(labelNormal,name)||(labelNormal[name]=value)}),itemStyleEmphasis.label&&!has(label,"emphasis")&&(label.emphasis=itemStyleEmphasis.label,delete itemStyleEmphasis.label)}function has(obj,attr){return obj.hasOwnProperty(attr)}function checkMarkerInSeries(seriesOpts,markerType){if(!seriesOpts)return!1;for(var seriesOptArr=(0,util.isArray)(seriesOpts)?seriesOpts:[seriesOpts],idx=0;idx<seriesOptArr.length;idx++)if(seriesOptArr[idx]&&seriesOptArr[idx][markerType])return!0;return!1}function fillLabel(opt){(0,util_model.M5)(opt,"label",["show"])}var MarkerModel_inner=(0,util_model.$r)(),MarkerModel=function(_super){function MarkerModel(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=MarkerModel.type,_this.createdBySelf=!1,_this}return(0,tslib_es6.C6)(MarkerModel,_super),MarkerModel.prototype.init=function(option,parentModel,ecModel){this.mergeDefaultAndTheme(option,ecModel),this._mergeOption(option,ecModel,!1,!0)},MarkerModel.prototype.isAnimationEnabled=function(){if(env.A.node)return!1;var hostSeries=this.__hostSeries;return this.getShallow("animation")&&hostSeries&&hostSeries.isAnimationEnabled()},MarkerModel.prototype.mergeOption=function(newOpt,ecModel){this._mergeOption(newOpt,ecModel,!1,!1)},MarkerModel.prototype._mergeOption=function(newOpt,ecModel,createdBySelf,isInit){var componentType=this.mainType;createdBySelf||ecModel.eachSeries(function(seriesModel){var markerOpt=seriesModel.get(this.mainType,!0),markerModel=MarkerModel_inner(seriesModel)[componentType];markerOpt&&markerOpt.data?(markerModel?markerModel._mergeOption(markerOpt,ecModel,!0):(isInit&&fillLabel(markerOpt),util.each(markerOpt.data,function(item){item instanceof Array?(fillLabel(item[0]),fillLabel(item[1])):fillLabel(item)}),markerModel=this.createMarkerModelFromSeries(markerOpt,this,ecModel),util.extend(markerModel,{mainType:this.mainType,seriesIndex:seriesModel.seriesIndex,name:seriesModel.name,createdBySelf:!0}),markerModel.__hostSeries=seriesModel),MarkerModel_inner(seriesModel)[componentType]=markerModel):MarkerModel_inner(seriesModel)[componentType]=null},this)},MarkerModel.prototype.formatTooltip=function(dataIndex,multipleSeries,dataType){var data=this.getData(),value=this.getRawValue(dataIndex),itemName=data.getName(dataIndex);return(0,tooltipMarkup.Qx)("section",{header:this.name,blocks:[(0,tooltipMarkup.Qx)("nameValue",{name:itemName,value,noName:!itemName,noValue:null==value})]})},MarkerModel.prototype.getData=function(){return this._data},MarkerModel.prototype.setData=function(data){this._data=data},MarkerModel.prototype.getDataParams=function(dataIndex,dataType){var params=dataFormat.J.prototype.getDataParams.call(this,dataIndex,dataType),hostSeries=this.__hostSeries;return hostSeries&&(params.seriesId=hostSeries.id,params.seriesName=hostSeries.name,params.seriesType=hostSeries.subType),params},MarkerModel.getMarkerModelFromSeries=function(seriesModel,componentType){return MarkerModel_inner(seriesModel)[componentType]},MarkerModel.type="marker",MarkerModel.dependencies=["series","grid","polar","geo"],MarkerModel}(Component.A);util.mixin(MarkerModel,dataFormat.J.prototype);const marker_MarkerModel=MarkerModel;var MarkPointModel=function(_super){function MarkPointModel(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=MarkPointModel.type,_this}return(0,tslib_es6.C6)(MarkPointModel,_super),MarkPointModel.prototype.createMarkerModelFromSeries=function(markerOpt,masterMarkerModel,ecModel){return new MarkPointModel(markerOpt,masterMarkerModel,ecModel)},MarkPointModel.type="markPoint",MarkPointModel.defaultOption={z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{show:!0,position:"inside"},itemStyle:{borderWidth:2},emphasis:{label:{show:!0}}},MarkPointModel}(marker_MarkerModel);const marker_MarkPointModel=MarkPointModel;var dataStackHelper=__webpack_require__("./node_modules/echarts/lib/data/helper/dataStackHelper.js"),dataValueHelper=__webpack_require__("./node_modules/echarts/lib/data/helper/dataValueHelper.js");function hasXOrY(item){return!(isNaN(parseFloat(item.x))&&isNaN(parseFloat(item.y)))}function markerTypeCalculatorWithExtent(markerType,data,otherDataDim,targetDataDim,otherCoordIndex,targetCoordIndex){var coordArr=[],calcDataDim=(0,dataStackHelper.sJ)(data,targetDataDim)?data.getCalculationInfo("stackResultDimension"):targetDataDim,value=numCalculate(data,calcDataDim,markerType),dataIndex=data.indicesOfNearest(calcDataDim,value)[0];coordArr[otherCoordIndex]=data.get(otherDataDim,dataIndex),coordArr[targetCoordIndex]=data.get(calcDataDim,dataIndex);var coordArrValue=data.get(targetDataDim,dataIndex),precision=number.XV(data.get(targetDataDim,dataIndex));return(precision=Math.min(precision,20))>=0&&(coordArr[targetCoordIndex]=+coordArr[targetCoordIndex].toFixed(precision)),[coordArr,coordArrValue]}var markerTypeCalculator={min:(0,util.curry)(markerTypeCalculatorWithExtent,"min"),max:(0,util.curry)(markerTypeCalculatorWithExtent,"max"),average:(0,util.curry)(markerTypeCalculatorWithExtent,"average"),median:(0,util.curry)(markerTypeCalculatorWithExtent,"median")};function dataTransform(seriesModel,item){if(item){var data=seriesModel.getData(),coordSys=seriesModel.coordinateSystem,dims=coordSys&&coordSys.dimensions;if(!function hasXAndY(item){return!isNaN(parseFloat(item.x))&&!isNaN(parseFloat(item.y))}(item)&&!(0,util.isArray)(item.coord)&&(0,util.isArray)(dims)){var axisInfo=getAxisInfo(item,data,coordSys,seriesModel);if((item=(0,util.clone)(item)).type&&markerTypeCalculator[item.type]&&axisInfo.baseAxis&&axisInfo.valueAxis){var otherCoordIndex=(0,util.indexOf)(dims,axisInfo.baseAxis.dim),targetCoordIndex=(0,util.indexOf)(dims,axisInfo.valueAxis.dim),coordInfo=markerTypeCalculator[item.type](data,axisInfo.baseDataDim,axisInfo.valueDataDim,otherCoordIndex,targetCoordIndex);item.coord=coordInfo[0],item.value=coordInfo[1]}else item.coord=[null!=item.xAxis?item.xAxis:item.radiusAxis,null!=item.yAxis?item.yAxis:item.angleAxis]}if(null!=item.coord&&(0,util.isArray)(dims))for(var coord=item.coord,i=0;i<2;i++)markerTypeCalculator[coord[i]]&&(coord[i]=numCalculate(data,data.mapDimension(dims[i]),coord[i]));else item.coord=[];return item}}function getAxisInfo(item,data,coordSys,seriesModel){var ret={};return null!=item.valueIndex||null!=item.valueDim?(ret.valueDataDim=null!=item.valueIndex?data.getDimension(item.valueIndex):item.valueDim,ret.valueAxis=coordSys.getAxis(function dataDimToCoordDim(seriesModel,dataDim){var dimItem=seriesModel.getData().getDimensionInfo(dataDim);return dimItem&&dimItem.coordDim}(seriesModel,ret.valueDataDim)),ret.baseAxis=coordSys.getOtherAxis(ret.valueAxis),ret.baseDataDim=data.mapDimension(ret.baseAxis.dim)):(ret.baseAxis=seriesModel.getBaseAxis(),ret.valueAxis=coordSys.getOtherAxis(ret.baseAxis),ret.baseDataDim=data.mapDimension(ret.baseAxis.dim),ret.valueDataDim=data.mapDimension(ret.valueAxis.dim)),ret}function markerHelper_dataFilter(coordSys,item){return!(coordSys&&coordSys.containData&&item.coord&&!hasXOrY(item))||coordSys.containData(item.coord)}function createMarkerDimValueGetter(inCoordSys,dims){return inCoordSys?function(item,dimName,dataIndex,dimIndex){var rawVal=dimIndex<2?item.coord&&item.coord[dimIndex]:item.value;return(0,dataValueHelper.Pn)(rawVal,dims[dimIndex])}:function(item,dimName,dataIndex,dimIndex){return(0,dataValueHelper.Pn)(item.value,dims[dimIndex])}}function numCalculate(data,valueDataDim,type){if("average"===type){var sum_1=0,count_1=0;return data.each(valueDataDim,function(val,idx){isNaN(val)||(sum_1+=val,count_1++)}),sum_1/count_1}return"median"===type?data.getMedian(valueDataDim):data.getDataExtent(valueDataDim)["max"===type?1:0]}var MarkerView_inner=(0,util_model.$r)(),MarkerView=function(_super){function MarkerView(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=MarkerView.type,_this}return(0,tslib_es6.C6)(MarkerView,_super),MarkerView.prototype.init=function(){this.markerGroupMap=(0,util.createHashMap)()},MarkerView.prototype.render=function(markerModel,ecModel,api){var _this=this,markerGroupMap=this.markerGroupMap;markerGroupMap.each(function(item){MarkerView_inner(item).keep=!1}),ecModel.eachSeries(function(seriesModel){var markerModel=marker_MarkerModel.getMarkerModelFromSeries(seriesModel,_this.type);markerModel&&_this.renderSeries(seriesModel,markerModel,ecModel,api)}),markerGroupMap.each(function(item){!MarkerView_inner(item).keep&&_this.group.remove(item.group)})},MarkerView.prototype.markKeep=function(drawGroup){MarkerView_inner(drawGroup).keep=!0},MarkerView.prototype.toggleBlurSeries=function(seriesModelList,isBlur){var _this=this;(0,util.each)(seriesModelList,function(seriesModel){var markerModel=marker_MarkerModel.getMarkerModelFromSeries(seriesModel,_this.type);markerModel&&markerModel.getData().eachItemGraphicEl(function(el){el&&(isBlur?(0,states.QX)(el):(0,states.JC)(el))})})},MarkerView.type="marker",MarkerView}(view_Component.A);const marker_MarkerView=MarkerView;var visual_helper=__webpack_require__("./node_modules/echarts/lib/visual/helper.js");function updateMarkerLayout(mpData,seriesModel,api){var coordSys=seriesModel.coordinateSystem;mpData.each(function(idx){var point,itemModel=mpData.getItemModel(idx),xPx=number.lo(itemModel.get("x"),api.getWidth()),yPx=number.lo(itemModel.get("y"),api.getHeight());if(isNaN(xPx)||isNaN(yPx)){if(seriesModel.getMarkerPosition)point=seriesModel.getMarkerPosition(mpData.getValues(mpData.dimensions,idx));else if(coordSys){var x=mpData.get(coordSys.dimensions[0],idx),y=mpData.get(coordSys.dimensions[1],idx);point=coordSys.dataToPoint([x,y])}}else point=[xPx,yPx];isNaN(xPx)||(point[0]=xPx),isNaN(yPx)||(point[1]=yPx),mpData.setItemLayout(idx,point)})}var MarkPointView=function(_super){function MarkPointView(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=MarkPointView.type,_this}return(0,tslib_es6.C6)(MarkPointView,_super),MarkPointView.prototype.updateTransform=function(markPointModel,ecModel,api){ecModel.eachSeries(function(seriesModel){var mpModel=marker_MarkerModel.getMarkerModelFromSeries(seriesModel,"markPoint");mpModel&&(updateMarkerLayout(mpModel.getData(),seriesModel,api),this.markerGroupMap.get(seriesModel.id).updateLayout())},this)},MarkPointView.prototype.renderSeries=function(seriesModel,mpModel,ecModel,api){var coordSys=seriesModel.coordinateSystem,seriesId=seriesModel.id,seriesData=seriesModel.getData(),symbolDrawMap=this.markerGroupMap,symbolDraw=symbolDrawMap.get(seriesId)||symbolDrawMap.set(seriesId,new SymbolDraw.A),mpData=function createData(coordSys,seriesModel,mpModel){var coordDimsInfos;coordDimsInfos=coordSys?(0,util.map)(coordSys&&coordSys.dimensions,function(coordDim){var info=seriesModel.getData().getDimensionInfo(seriesModel.getData().mapDimension(coordDim))||{};return(0,util.extend)((0,util.extend)({},info),{name:coordDim,ordinalMeta:null})}):[{name:"value",type:"float"}];var mpData=new SeriesData.A(coordDimsInfos,mpModel),dataOpt=(0,util.map)(mpModel.get("data"),(0,util.curry)(dataTransform,seriesModel));coordSys&&(dataOpt=(0,util.filter)(dataOpt,(0,util.curry)(markerHelper_dataFilter,coordSys)));var dimValueGetter=createMarkerDimValueGetter(!!coordSys,coordDimsInfos);return mpData.initData(dataOpt,null,dimValueGetter),mpData}(coordSys,seriesModel,mpModel);mpModel.setData(mpData),updateMarkerLayout(mpModel.getData(),seriesModel,api),mpData.each(function(idx){var itemModel=mpData.getItemModel(idx),symbol=itemModel.getShallow("symbol"),symbolSize=itemModel.getShallow("symbolSize"),symbolRotate=itemModel.getShallow("symbolRotate"),symbolOffset=itemModel.getShallow("symbolOffset"),symbolKeepAspect=itemModel.getShallow("symbolKeepAspect");if((0,util.isFunction)(symbol)||(0,util.isFunction)(symbolSize)||(0,util.isFunction)(symbolRotate)||(0,util.isFunction)(symbolOffset)){var rawIdx=mpModel.getRawValue(idx),dataParams=mpModel.getDataParams(idx);(0,util.isFunction)(symbol)&&(symbol=symbol(rawIdx,dataParams)),(0,util.isFunction)(symbolSize)&&(symbolSize=symbolSize(rawIdx,dataParams)),(0,util.isFunction)(symbolRotate)&&(symbolRotate=symbolRotate(rawIdx,dataParams)),(0,util.isFunction)(symbolOffset)&&(symbolOffset=symbolOffset(rawIdx,dataParams))}var style=itemModel.getModel("itemStyle").getItemStyle(),color=(0,visual_helper.rI)(seriesData,"color");style.fill||(style.fill=color),mpData.setItemVisual(idx,{symbol,symbolSize,symbolRotate,symbolOffset,symbolKeepAspect,style})}),symbolDraw.updateData(mpData),this.group.add(symbolDraw.group),mpData.eachItemGraphicEl(function(el){el.traverse(function(child){(0,innerStore.z)(child).dataModel=mpModel})}),this.markKeep(symbolDraw),symbolDraw.group.silent=mpModel.get("silent")||seriesModel.get("silent")},MarkPointView.type="markPoint",MarkPointView}(marker_MarkerView);const marker_MarkPointView=MarkPointView;var MarkLineModel=function(_super){function MarkLineModel(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=MarkLineModel.type,_this}return(0,tslib_es6.C6)(MarkLineModel,_super),MarkLineModel.prototype.createMarkerModelFromSeries=function(markerOpt,masterMarkerModel,ecModel){return new MarkLineModel(markerOpt,masterMarkerModel,ecModel)},MarkLineModel.type="markLine",MarkLineModel.defaultOption={z:5,symbol:["circle","arrow"],symbolSize:[8,16],symbolOffset:0,precision:2,tooltip:{trigger:"item"},label:{show:!0,position:"end",distance:5},lineStyle:{type:"dashed"},emphasis:{label:{show:!0},lineStyle:{width:3}},animationEasing:"linear"},MarkLineModel}(marker_MarkerModel);const marker_MarkLineModel=MarkLineModel;var coord_CoordinateSystem=__webpack_require__("./node_modules/echarts/lib/coord/CoordinateSystem.js"),MarkLineView_inner=(0,util_model.$r)(),markLineTransform=function(seriesModel,coordSys,mlModel,item){var itemArray,data=seriesModel.getData();if((0,util.isArray)(item))itemArray=item;else{var mlType=item.type;if("min"===mlType||"max"===mlType||"average"===mlType||"median"===mlType||null!=item.xAxis||null!=item.yAxis){var valueAxis=void 0,value=void 0;if(null!=item.yAxis||null!=item.xAxis)valueAxis=coordSys.getAxis(null!=item.yAxis?"y":"x"),value=(0,util.retrieve)(item.yAxis,item.xAxis);else{var axisInfo=getAxisInfo(item,data,coordSys,seriesModel);valueAxis=axisInfo.valueAxis,value=numCalculate(data,(0,dataStackHelper.me)(data,axisInfo.valueDataDim),mlType)}var valueIndex="x"===valueAxis.dim?0:1,baseIndex=1-valueIndex,mlFrom=(0,util.clone)(item),mlTo={coord:[]};mlFrom.type=null,mlFrom.coord=[],mlFrom.coord[baseIndex]=-1/0,mlTo.coord[baseIndex]=1/0;var precision=mlModel.get("precision");precision>=0&&(0,util.isNumber)(value)&&(value=+value.toFixed(Math.min(precision,20))),mlFrom.coord[valueIndex]=mlTo.coord[valueIndex]=value,itemArray=[mlFrom,mlTo,{type:mlType,valueIndex:item.valueIndex,value}]}else itemArray=[]}var normalizedItem=[dataTransform(seriesModel,itemArray[0]),dataTransform(seriesModel,itemArray[1]),(0,util.extend)({},itemArray[2])];return normalizedItem[2].type=normalizedItem[2].type||null,(0,util.merge)(normalizedItem[2],normalizedItem[0]),(0,util.merge)(normalizedItem[2],normalizedItem[1]),normalizedItem};function isInfinity(val){return!isNaN(val)&&!isFinite(val)}function ifMarkLineHasOnlyDim(dimIndex,fromCoord,toCoord,coordSys){var otherDimIndex=1-dimIndex,dimName=coordSys.dimensions[dimIndex];return isInfinity(fromCoord[otherDimIndex])&&isInfinity(toCoord[otherDimIndex])&&fromCoord[dimIndex]===toCoord[dimIndex]&&coordSys.getAxis(dimName).containData(fromCoord[dimIndex])}function markLineFilter(coordSys,item){if("cartesian2d"===coordSys.type){var fromCoord=item[0].coord,toCoord=item[1].coord;if(fromCoord&&toCoord&&(ifMarkLineHasOnlyDim(1,fromCoord,toCoord,coordSys)||ifMarkLineHasOnlyDim(0,fromCoord,toCoord,coordSys)))return!0}return markerHelper_dataFilter(coordSys,item[0])&&markerHelper_dataFilter(coordSys,item[1])}function updateSingleMarkerEndLayout(data,idx,isFrom,seriesModel,api){var point,coordSys=seriesModel.coordinateSystem,itemModel=data.getItemModel(idx),xPx=number.lo(itemModel.get("x"),api.getWidth()),yPx=number.lo(itemModel.get("y"),api.getHeight());if(isNaN(xPx)||isNaN(yPx)){if(seriesModel.getMarkerPosition)point=seriesModel.getMarkerPosition(data.getValues(data.dimensions,idx));else{var dims=coordSys.dimensions,x=data.get(dims[0],idx),y=data.get(dims[1],idx);point=coordSys.dataToPoint([x,y])}if((0,coord_CoordinateSystem.g)(coordSys,"cartesian2d")){var xAxis=coordSys.getAxis("x"),yAxis=coordSys.getAxis("y");dims=coordSys.dimensions;isInfinity(data.get(dims[0],idx))?point[0]=xAxis.toGlobalCoord(xAxis.getExtent()[isFrom?0:1]):isInfinity(data.get(dims[1],idx))&&(point[1]=yAxis.toGlobalCoord(yAxis.getExtent()[isFrom?0:1]))}isNaN(xPx)||(point[0]=xPx),isNaN(yPx)||(point[1]=yPx)}else point=[xPx,yPx];data.setItemLayout(idx,point)}var MarkLineView=function(_super){function MarkLineView(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=MarkLineView.type,_this}return(0,tslib_es6.C6)(MarkLineView,_super),MarkLineView.prototype.updateTransform=function(markLineModel,ecModel,api){ecModel.eachSeries(function(seriesModel){var mlModel=marker_MarkerModel.getMarkerModelFromSeries(seriesModel,"markLine");if(mlModel){var mlData_1=mlModel.getData(),fromData_1=MarkLineView_inner(mlModel).from,toData_1=MarkLineView_inner(mlModel).to;fromData_1.each(function(idx){updateSingleMarkerEndLayout(fromData_1,idx,!0,seriesModel,api),updateSingleMarkerEndLayout(toData_1,idx,!1,seriesModel,api)}),mlData_1.each(function(idx){mlData_1.setItemLayout(idx,[fromData_1.getItemLayout(idx),toData_1.getItemLayout(idx)])}),this.markerGroupMap.get(seriesModel.id).updateLayout()}},this)},MarkLineView.prototype.renderSeries=function(seriesModel,mlModel,ecModel,api){var coordSys=seriesModel.coordinateSystem,seriesId=seriesModel.id,seriesData=seriesModel.getData(),lineDrawMap=this.markerGroupMap,lineDraw=lineDrawMap.get(seriesId)||lineDrawMap.set(seriesId,new helper_LineDraw);this.group.add(lineDraw.group);var mlData=function createList(coordSys,seriesModel,mlModel){var coordDimsInfos;coordDimsInfos=coordSys?(0,util.map)(coordSys&&coordSys.dimensions,function(coordDim){var info=seriesModel.getData().getDimensionInfo(seriesModel.getData().mapDimension(coordDim))||{};return(0,util.extend)((0,util.extend)({},info),{name:coordDim,ordinalMeta:null})}):[{name:"value",type:"float"}];var fromData=new SeriesData.A(coordDimsInfos,mlModel),toData=new SeriesData.A(coordDimsInfos,mlModel),lineData=new SeriesData.A([],mlModel),optData=(0,util.map)(mlModel.get("data"),(0,util.curry)(markLineTransform,seriesModel,coordSys,mlModel));coordSys&&(optData=(0,util.filter)(optData,(0,util.curry)(markLineFilter,coordSys)));var dimValueGetter=createMarkerDimValueGetter(!!coordSys,coordDimsInfos);return fromData.initData((0,util.map)(optData,function(item){return item[0]}),null,dimValueGetter),toData.initData((0,util.map)(optData,function(item){return item[1]}),null,dimValueGetter),lineData.initData((0,util.map)(optData,function(item){return item[2]})),lineData.hasItemOption=!0,{from:fromData,to:toData,line:lineData}}(coordSys,seriesModel,mlModel),fromData=mlData.from,toData=mlData.to,lineData=mlData.line;MarkLineView_inner(mlModel).from=fromData,MarkLineView_inner(mlModel).to=toData,mlModel.setData(lineData);var symbolType=mlModel.get("symbol"),symbolSize=mlModel.get("symbolSize"),symbolRotate=mlModel.get("symbolRotate"),symbolOffset=mlModel.get("symbolOffset");function updateDataVisualAndLayout(data,idx,isFrom){var itemModel=data.getItemModel(idx);updateSingleMarkerEndLayout(data,idx,isFrom,seriesModel,api);var style=itemModel.getModel("itemStyle").getItemStyle();null==style.fill&&(style.fill=(0,visual_helper.rI)(seriesData,"color")),data.setItemVisual(idx,{symbolKeepAspect:itemModel.get("symbolKeepAspect"),symbolOffset:(0,util.retrieve2)(itemModel.get("symbolOffset",!0),symbolOffset[isFrom?0:1]),symbolRotate:(0,util.retrieve2)(itemModel.get("symbolRotate",!0),symbolRotate[isFrom?0:1]),symbolSize:(0,util.retrieve2)(itemModel.get("symbolSize"),symbolSize[isFrom?0:1]),symbol:(0,util.retrieve2)(itemModel.get("symbol",!0),symbolType[isFrom?0:1]),style})}(0,util.isArray)(symbolType)||(symbolType=[symbolType,symbolType]),(0,util.isArray)(symbolSize)||(symbolSize=[symbolSize,symbolSize]),(0,util.isArray)(symbolRotate)||(symbolRotate=[symbolRotate,symbolRotate]),(0,util.isArray)(symbolOffset)||(symbolOffset=[symbolOffset,symbolOffset]),mlData.from.each(function(idx){updateDataVisualAndLayout(fromData,idx,!0),updateDataVisualAndLayout(toData,idx,!1)}),lineData.each(function(idx){var lineStyle=lineData.getItemModel(idx).getModel("lineStyle").getLineStyle();lineData.setItemLayout(idx,[fromData.getItemLayout(idx),toData.getItemLayout(idx)]),null==lineStyle.stroke&&(lineStyle.stroke=fromData.getItemVisual(idx,"style").fill),lineData.setItemVisual(idx,{fromSymbolKeepAspect:fromData.getItemVisual(idx,"symbolKeepAspect"),fromSymbolOffset:fromData.getItemVisual(idx,"symbolOffset"),fromSymbolRotate:fromData.getItemVisual(idx,"symbolRotate"),fromSymbolSize:fromData.getItemVisual(idx,"symbolSize"),fromSymbol:fromData.getItemVisual(idx,"symbol"),toSymbolKeepAspect:toData.getItemVisual(idx,"symbolKeepAspect"),toSymbolOffset:toData.getItemVisual(idx,"symbolOffset"),toSymbolRotate:toData.getItemVisual(idx,"symbolRotate"),toSymbolSize:toData.getItemVisual(idx,"symbolSize"),toSymbol:toData.getItemVisual(idx,"symbol"),style:lineStyle})}),lineDraw.updateData(lineData),mlData.line.eachItemGraphicEl(function(el){(0,innerStore.z)(el).dataModel=mlModel,el.traverse(function(child){(0,innerStore.z)(child).dataModel=mlModel})}),this.markKeep(lineDraw),lineDraw.group.silent=mlModel.get("silent")||seriesModel.get("silent")},MarkLineView.type="markLine",MarkLineView}(marker_MarkerView);const marker_MarkLineView=MarkLineView;var MarkAreaModel=function(_super){function MarkAreaModel(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=MarkAreaModel.type,_this}return(0,tslib_es6.C6)(MarkAreaModel,_super),MarkAreaModel.prototype.createMarkerModelFromSeries=function(markerOpt,masterMarkerModel,ecModel){return new MarkAreaModel(markerOpt,masterMarkerModel,ecModel)},MarkAreaModel.type="markArea",MarkAreaModel.defaultOption={z:1,tooltip:{trigger:"item"},animation:!1,label:{show:!0,position:"top"},itemStyle:{borderWidth:0},emphasis:{label:{show:!0,position:"top"}}},MarkAreaModel}(marker_MarkerModel);const marker_MarkAreaModel=MarkAreaModel;var MarkAreaView_inner=(0,util_model.$r)(),markAreaTransform=function(seriesModel,coordSys,maModel,item){var item0=item[0],item1=item[1];if(item0&&item1){var lt=dataTransform(seriesModel,item0),rb=dataTransform(seriesModel,item1),ltCoord=lt.coord,rbCoord=rb.coord;ltCoord[0]=(0,util.retrieve)(ltCoord[0],-1/0),ltCoord[1]=(0,util.retrieve)(ltCoord[1],-1/0),rbCoord[0]=(0,util.retrieve)(rbCoord[0],1/0),rbCoord[1]=(0,util.retrieve)(rbCoord[1],1/0);var result=(0,util.mergeAll)([{},lt,rb]);return result.coord=[lt.coord,rb.coord],result.x0=lt.x,result.y0=lt.y,result.x1=rb.x,result.y1=rb.y,result}};function MarkAreaView_isInfinity(val){return!isNaN(val)&&!isFinite(val)}function ifMarkAreaHasOnlyDim(dimIndex,fromCoord,toCoord,coordSys){var otherDimIndex=1-dimIndex;return MarkAreaView_isInfinity(fromCoord[otherDimIndex])&&MarkAreaView_isInfinity(toCoord[otherDimIndex])}function markAreaFilter(coordSys,item){var fromCoord=item.coord[0],toCoord=item.coord[1],item0={coord:fromCoord,x:item.x0,y:item.y0},item1={coord:toCoord,x:item.x1,y:item.y1};return(0,coord_CoordinateSystem.g)(coordSys,"cartesian2d")?!(!fromCoord||!toCoord||!ifMarkAreaHasOnlyDim(1,fromCoord,toCoord)&&!ifMarkAreaHasOnlyDim(0,fromCoord,toCoord))||function zoneFilter(coordSys,item1,item2){return!(coordSys&&coordSys.containZone&&item1.coord&&item2.coord&&!hasXOrY(item1)&&!hasXOrY(item2))||coordSys.containZone(item1.coord,item2.coord)}(coordSys,item0,item1):markerHelper_dataFilter(coordSys,item0)||markerHelper_dataFilter(coordSys,item1)}function getSingleMarkerEndPoint(data,idx,dims,seriesModel,api){var point,coordSys=seriesModel.coordinateSystem,itemModel=data.getItemModel(idx),xPx=number.lo(itemModel.get(dims[0]),api.getWidth()),yPx=number.lo(itemModel.get(dims[1]),api.getHeight());if(isNaN(xPx)||isNaN(yPx)){if(seriesModel.getMarkerPosition){var pointValue0=data.getValues(["x0","y0"],idx),pointValue1=data.getValues(["x1","y1"],idx),clampPointValue0=coordSys.clampData(pointValue0),clampPointValue1=coordSys.clampData(pointValue1),pointValue=[];"x0"===dims[0]?pointValue[0]=clampPointValue0[0]>clampPointValue1[0]?pointValue1[0]:pointValue0[0]:pointValue[0]=clampPointValue0[0]>clampPointValue1[0]?pointValue0[0]:pointValue1[0],"y0"===dims[1]?pointValue[1]=clampPointValue0[1]>clampPointValue1[1]?pointValue1[1]:pointValue0[1]:pointValue[1]=clampPointValue0[1]>clampPointValue1[1]?pointValue0[1]:pointValue1[1],point=seriesModel.getMarkerPosition(pointValue,dims,!0)}else{var pt=[x=data.get(dims[0],idx),y=data.get(dims[1],idx)];coordSys.clampData&&coordSys.clampData(pt,pt),point=coordSys.dataToPoint(pt,!0)}if((0,coord_CoordinateSystem.g)(coordSys,"cartesian2d")){var xAxis=coordSys.getAxis("x"),yAxis=coordSys.getAxis("y"),x=data.get(dims[0],idx),y=data.get(dims[1],idx);MarkAreaView_isInfinity(x)?point[0]=xAxis.toGlobalCoord(xAxis.getExtent()["x0"===dims[0]?0:1]):MarkAreaView_isInfinity(y)&&(point[1]=yAxis.toGlobalCoord(yAxis.getExtent()["y0"===dims[1]?0:1]))}isNaN(xPx)||(point[0]=xPx),isNaN(yPx)||(point[1]=yPx)}else point=[xPx,yPx];return point}var dimPermutations=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]],MarkAreaView=function(_super){function MarkAreaView(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=MarkAreaView.type,_this}return(0,tslib_es6.C6)(MarkAreaView,_super),MarkAreaView.prototype.updateTransform=function(markAreaModel,ecModel,api){ecModel.eachSeries(function(seriesModel){var maModel=marker_MarkerModel.getMarkerModelFromSeries(seriesModel,"markArea");if(maModel){var areaData_1=maModel.getData();areaData_1.each(function(idx){var points=(0,util.map)(dimPermutations,function(dim){return getSingleMarkerEndPoint(areaData_1,idx,dim,seriesModel,api)});areaData_1.setItemLayout(idx,points),areaData_1.getItemGraphicEl(idx).setShape("points",points)})}},this)},MarkAreaView.prototype.renderSeries=function(seriesModel,maModel,ecModel,api){var coordSys=seriesModel.coordinateSystem,seriesId=seriesModel.id,seriesData=seriesModel.getData(),areaGroupMap=this.markerGroupMap,polygonGroup=areaGroupMap.get(seriesId)||areaGroupMap.set(seriesId,{group:new Group.A});this.group.add(polygonGroup.group),this.markKeep(polygonGroup);var areaData=function MarkAreaView_createList(coordSys,seriesModel,maModel){var areaData,dataDims,dims=["x0","y0","x1","y1"];if(coordSys){var coordDimsInfos_1=(0,util.map)(coordSys&&coordSys.dimensions,function(coordDim){var data=seriesModel.getData(),info=data.getDimensionInfo(data.mapDimension(coordDim))||{};return(0,util.extend)((0,util.extend)({},info),{name:coordDim,ordinalMeta:null})});dataDims=(0,util.map)(dims,function(dim,idx){return{name:dim,type:coordDimsInfos_1[idx%2].type}}),areaData=new SeriesData.A(dataDims,maModel)}else dataDims=[{name:"value",type:"float"}],areaData=new SeriesData.A(dataDims,maModel);var optData=(0,util.map)(maModel.get("data"),(0,util.curry)(markAreaTransform,seriesModel,coordSys,maModel));coordSys&&(optData=(0,util.filter)(optData,(0,util.curry)(markAreaFilter,coordSys)));var dimValueGetter=coordSys?function(item,dimName,dataIndex,dimIndex){var rawVal=item.coord[Math.floor(dimIndex/2)][dimIndex%2];return(0,dataValueHelper.Pn)(rawVal,dataDims[dimIndex])}:function(item,dimName,dataIndex,dimIndex){return(0,dataValueHelper.Pn)(item.value,dataDims[dimIndex])};return areaData.initData(optData,null,dimValueGetter),areaData.hasItemOption=!0,areaData}(coordSys,seriesModel,maModel);maModel.setData(areaData),areaData.each(function(idx){var points=(0,util.map)(dimPermutations,function(dim){return getSingleMarkerEndPoint(areaData,idx,dim,seriesModel,api)}),xAxisScale=coordSys.getAxis("x").scale,yAxisScale=coordSys.getAxis("y").scale,xAxisExtent=xAxisScale.getExtent(),yAxisExtent=yAxisScale.getExtent(),xPointExtent=[xAxisScale.parse(areaData.get("x0",idx)),xAxisScale.parse(areaData.get("x1",idx))],yPointExtent=[yAxisScale.parse(areaData.get("y0",idx)),yAxisScale.parse(areaData.get("y1",idx))];number.Y6(xPointExtent),number.Y6(yPointExtent);var allClipped=!!(xAxisExtent[0]>xPointExtent[1]||xAxisExtent[1]<xPointExtent[0]||yAxisExtent[0]>yPointExtent[1]||yAxisExtent[1]<yPointExtent[0]);areaData.setItemLayout(idx,{points,allClipped});var style=areaData.getItemModel(idx).getModel("itemStyle").getItemStyle(),color=(0,visual_helper.rI)(seriesData,"color");style.fill||(style.fill=color,(0,util.isString)(style.fill)&&(style.fill=tool_color.modifyAlpha(style.fill,.4))),style.stroke||(style.stroke=color),areaData.setItemVisual(idx,"style",style)}),areaData.diff(MarkAreaView_inner(polygonGroup).data).add(function(idx){var layout=areaData.getItemLayout(idx);if(!layout.allClipped){var polygon=new Polygon.A({shape:{points:layout.points}});areaData.setItemGraphicEl(idx,polygon),polygonGroup.group.add(polygon)}}).update(function(newIdx,oldIdx){var polygon=MarkAreaView_inner(polygonGroup).data.getItemGraphicEl(oldIdx),layout=areaData.getItemLayout(newIdx);layout.allClipped?polygon&&polygonGroup.group.remove(polygon):(polygon?basicTransition.oi(polygon,{shape:{points:layout.points}},maModel,newIdx):polygon=new Polygon.A({shape:{points:layout.points}}),areaData.setItemGraphicEl(newIdx,polygon),polygonGroup.group.add(polygon))}).remove(function(idx){var polygon=MarkAreaView_inner(polygonGroup).data.getItemGraphicEl(idx);polygonGroup.group.remove(polygon)}).execute(),areaData.eachItemGraphicEl(function(polygon,idx){var itemModel=areaData.getItemModel(idx),style=areaData.getItemVisual(idx,"style");polygon.useStyle(areaData.getItemVisual(idx,"style")),(0,labelStyle.qM)(polygon,(0,labelStyle.lx)(itemModel),{labelFetcher:maModel,labelDataIndex:idx,defaultText:areaData.getName(idx)||"",inheritColor:(0,util.isString)(style.fill)?tool_color.modifyAlpha(style.fill,1):"#000"}),(0,states.Mx)(polygon,itemModel),(0,states.Lm)(polygon,null,null,itemModel.get(["emphasis","disabled"])),(0,innerStore.z)(polygon).dataModel=maModel}),MarkAreaView_inner(polygonGroup).data=areaData,polygonGroup.group.silent=maModel.get("silent")||seriesModel.get("silent")},MarkAreaView.type="markArea",MarkAreaView}(marker_MarkerView);const marker_MarkAreaView=MarkAreaView;var legend_install=__webpack_require__("./node_modules/echarts/lib/component/legend/install.js"),dataZoom_install=__webpack_require__("./node_modules/echarts/lib/component/dataZoom/install.js"),installDataZoomInside=__webpack_require__("./node_modules/echarts/lib/component/dataZoom/installDataZoomInside.js"),installDataZoomSlider=__webpack_require__("./node_modules/echarts/lib/component/dataZoom/installDataZoomSlider.js"),visualMap_install=__webpack_require__("./node_modules/echarts/lib/component/visualMap/install.js"),installVisualMapContinuous=__webpack_require__("./node_modules/echarts/lib/component/visualMap/installVisualMapContinuous.js"),installVisualMapPiecewise=__webpack_require__("./node_modules/echarts/lib/component/visualMap/installVisualMapPiecewise.js"),DEFAULT_OPTION={label:{enabled:!0},decal:{show:!1}},aria_inner=(0,util_model.$r)(),decalPaletteScope={};function ariaVisual(ecModel,api){var ariaModel=ecModel.getModel("aria");if(ariaModel.get("enabled")){var defaultOption=util.clone(DEFAULT_OPTION);util.merge(defaultOption.label,ecModel.getLocaleModel().get("aria"),!1),util.merge(ariaModel.option,defaultOption,!1),function setDecal(){if(ariaModel.getModel("decal").get("show")){var paletteScopeGroupByType_1=util.createHashMap();ecModel.eachSeries(function(seriesModel){if(!seriesModel.isColorBySeries()){var decalScope=paletteScopeGroupByType_1.get(seriesModel.type);decalScope||(decalScope={},paletteScopeGroupByType_1.set(seriesModel.type,decalScope)),aria_inner(seriesModel).scope=decalScope}}),ecModel.eachRawSeries(function(seriesModel){if(!ecModel.isSeriesFiltered(seriesModel))if(util.isFunction(seriesModel.enableAriaDecal))seriesModel.enableAriaDecal();else{var data=seriesModel.getData();if(seriesModel.isColorBySeries()){var paletteDecal=(0,palette.x)(seriesModel.ecModel,seriesModel.name,decalPaletteScope,ecModel.getSeriesCount()),specifiedDecal=data.getVisual("decal");data.setVisual("decal",mergeDecal(specifiedDecal,paletteDecal))}else{var dataAll_1=seriesModel.getRawData(),idxMap_1={},decalScope_1=aria_inner(seriesModel).scope;data.each(function(idx){var rawIdx=data.getRawIndex(idx);idxMap_1[rawIdx]=idx});var dataCount_1=dataAll_1.count();dataAll_1.each(function(rawIdx){var idx=idxMap_1[rawIdx],name=dataAll_1.getName(rawIdx)||rawIdx+"",paletteDecal=(0,palette.x)(seriesModel.ecModel,name,decalScope_1,dataCount_1),specifiedDecal=data.getItemVisual(idx,"decal");data.setItemVisual(idx,"decal",mergeDecal(specifiedDecal,paletteDecal))})}}function mergeDecal(specifiedDecal,paletteDecal){var resultDecal=specifiedDecal?util.extend(util.extend({},paletteDecal),specifiedDecal):paletteDecal;return resultDecal.dirty=!0,resultDecal}})}}(),function setLabel(){var dom=api.getZr().dom;if(!dom)return;var labelLocale=ecModel.getLocaleModel().get("aria"),labelModel=ariaModel.getModel("label");if(labelModel.option=util.defaults(labelModel.option,labelLocale),!labelModel.get("enabled"))return;if(dom.setAttribute("role","img"),labelModel.get("description"))return void dom.setAttribute("aria-label",labelModel.get("description"));var ariaLabel,seriesCnt=ecModel.getSeriesCount(),maxDataCnt=labelModel.get(["data","maxCount"])||10,maxSeriesCnt=labelModel.get(["series","maxCount"])||10,displaySeriesCnt=Math.min(seriesCnt,maxSeriesCnt);if(seriesCnt<1)return;var title=function getTitle(){var title=ecModel.get("title");title&&title.length&&(title=title[0]);return title&&title.text}();ariaLabel=title?replace(labelModel.get(["general","withTitle"]),{title}):labelModel.get(["general","withoutTitle"]);var seriesLabels_1=[];ariaLabel+=replace(seriesCnt>1?labelModel.get(["series","multiple","prefix"]):labelModel.get(["series","single","prefix"]),{seriesCount:seriesCnt}),ecModel.eachSeries(function(seriesModel,idx){if(idx<displaySeriesCnt){var seriesLabel=void 0,withName=seriesModel.get("name")?"withName":"withoutName";seriesLabel=replace(seriesLabel=seriesCnt>1?labelModel.get(["series","multiple",withName]):labelModel.get(["series","single",withName]),{seriesId:seriesModel.seriesIndex,seriesName:seriesModel.get("name"),seriesType:(type=seriesModel.subType,typeNames=ecModel.getLocaleModel().get(["series","typeNames"]),typeNames[type]||typeNames.chart)});var data=seriesModel.getData();if(data.count()>maxDataCnt)seriesLabel+=replace(labelModel.get(["data","partialData"]),{displayCnt:maxDataCnt});else seriesLabel+=labelModel.get(["data","allData"]);for(var middleSeparator_1=labelModel.get(["data","separator","middle"]),endSeparator_1=labelModel.get(["data","separator","end"]),excludeDimensionId_1=labelModel.get(["data","excludeDimensionId"]),dataLabels=[],i=0;i<data.count();i++)if(i<maxDataCnt){var name_1=data.getName(i),value=excludeDimensionId_1?util.filter(data.getValues(i),function(v,j){return-1===util.indexOf(excludeDimensionId_1,j)}):data.getValues(i),dataLabel=labelModel.get(["data",name_1?"withName":"withoutName"]);dataLabels.push(replace(dataLabel,{name:name_1,value:value.join(middleSeparator_1)}))}seriesLabel+=dataLabels.join(middleSeparator_1)+endSeparator_1,seriesLabels_1.push(seriesLabel)}var type,typeNames});var separatorModel=labelModel.getModel(["series","multiple","separator"]),middleSeparator=separatorModel.get("middle"),endSeparator=separatorModel.get("end");ariaLabel+=seriesLabels_1.join(middleSeparator)+endSeparator,dom.setAttribute("aria-label",ariaLabel)}()}function replace(str,keyValues){if(!util.isString(str))return str;var result=str;return util.each(keyValues,function(value,key){result=result.replace(new RegExp("\\{\\s*"+key+"\\s*\\}","g"),value)}),result}}function ariaPreprocessor(option){if(option&&option.aria){var aria=option.aria;null!=aria.show&&(aria.enabled=aria.show),aria.label=aria.label||{},util.each(["description","general","series","data"],function(name){null!=aria[name]&&(aria.label[name]=aria[name])})}}var RELATIONAL_EXPRESSION_OP_ALIAS_MAP={value:"eq","<":"lt","<=":"lte",">":"gt",">=":"gte","=":"eq","!=":"ne","<>":"ne"},RegExpEvaluator=function(){function RegExpEvaluator(rVal){if(null==(this._condVal=(0,util.isString)(rVal)?new RegExp(rVal):(0,util.isRegExp)(rVal)?rVal:null)){0,(0,log.$8)("")}}return RegExpEvaluator.prototype.evaluate=function(lVal){var type=typeof lVal;return(0,util.isString)(type)?this._condVal.test(lVal):!!(0,util.isNumber)(type)&&this._condVal.test(lVal+"")},RegExpEvaluator}(),ConstConditionInternal=function(){function ConstConditionInternal(){}return ConstConditionInternal.prototype.evaluate=function(){return this.value},ConstConditionInternal}(),AndConditionInternal=function(){function AndConditionInternal(){}return AndConditionInternal.prototype.evaluate=function(){for(var children=this.children,i=0;i<children.length;i++)if(!children[i].evaluate())return!1;return!0},AndConditionInternal}(),OrConditionInternal=function(){function OrConditionInternal(){}return OrConditionInternal.prototype.evaluate=function(){for(var children=this.children,i=0;i<children.length;i++)if(children[i].evaluate())return!0;return!1},OrConditionInternal}(),NotConditionInternal=function(){function NotConditionInternal(){}return NotConditionInternal.prototype.evaluate=function(){return!this.child.evaluate()},NotConditionInternal}(),RelationalConditionInternal=function(){function RelationalConditionInternal(){}return RelationalConditionInternal.prototype.evaluate=function(){for(var needParse=!!this.valueParser,tarValRaw=(0,this.getValue)(this.valueGetterParam),tarValParsed=needParse?this.valueParser(tarValRaw):null,i=0;i<this.subCondList.length;i++)if(!this.subCondList[i].evaluate(needParse?tarValParsed:tarValRaw))return!1;return!0},RelationalConditionInternal}();function parseOption(exprOption,getters){if(!0===exprOption||!1===exprOption){var cond=new ConstConditionInternal;return cond.value=exprOption,cond}return isObjectNotArray(exprOption)||(0,log.$8)(""),exprOption.and?parseAndOrOption("and",exprOption,getters):exprOption.or?parseAndOrOption("or",exprOption,getters):exprOption.not?function parseNotOption(exprOption,getters){var subOption=exprOption.not,errMsg="";0;isObjectNotArray(subOption)||(0,log.$8)(errMsg);var cond=new NotConditionInternal;cond.child=parseOption(subOption,getters),cond.child||(0,log.$8)(errMsg);return cond}(exprOption,getters):function parseRelationalOption(exprOption,getters){for(var errMsg="",valueGetterParam=getters.prepareGetValue(exprOption),subCondList=[],exprKeys=(0,util.keys)(exprOption),parserName=exprOption.parser,valueParser=parserName?(0,dataValueHelper.zC)(parserName):null,i=0;i<exprKeys.length;i++){var keyRaw=exprKeys[i];if("parser"!==keyRaw&&!getters.valueGetterAttrMap.get(keyRaw)){var op=(0,util.hasOwn)(RELATIONAL_EXPRESSION_OP_ALIAS_MAP,keyRaw)?RELATIONAL_EXPRESSION_OP_ALIAS_MAP[keyRaw]:keyRaw,condValueRaw=exprOption[keyRaw],condValueParsed=valueParser?valueParser(condValueRaw):condValueRaw,evaluator=(0,dataValueHelper.zs)(op,condValueParsed)||"reg"===op&&new RegExpEvaluator(condValueParsed);evaluator||(0,log.$8)(errMsg),subCondList.push(evaluator)}}subCondList.length||(0,log.$8)(errMsg);var cond=new RelationalConditionInternal;return cond.valueGetterParam=valueGetterParam,cond.valueParser=valueParser,cond.getValue=getters.getValue,cond.subCondList=subCondList,cond}(exprOption,getters)}function parseAndOrOption(op,exprOption,getters){var subOptionArr=exprOption[op];(0,util.isArray)(subOptionArr)||(0,log.$8)(""),subOptionArr.length||(0,log.$8)("");var cond="and"===op?new AndConditionInternal:new OrConditionInternal;return cond.children=(0,util.map)(subOptionArr,function(subOption){return parseOption(subOption,getters)}),cond.children.length||(0,log.$8)(""),cond}function isObjectNotArray(val){return(0,util.isObject)(val)&&!(0,util.isArrayLike)(val)}var ConditionalExpressionParsed=function(){function ConditionalExpressionParsed(exprOption,getters){this._cond=parseOption(exprOption,getters)}return ConditionalExpressionParsed.prototype.evaluate=function(){return this._cond.evaluate()},ConditionalExpressionParsed}();var filterTransform={type:"echarts:filter",transform:function(params){for(var rawItem,upstream=params.upstream,condition=function parseConditionalExpression(exprOption,getters){return new ConditionalExpressionParsed(exprOption,getters)}(params.config,{valueGetterAttrMap:(0,util.createHashMap)({dimension:!0}),prepareGetValue:function(exprOption){var dimLoose=exprOption.dimension;(0,util.hasOwn)(exprOption,"dimension")||(0,log.$8)("");var dimInfo=upstream.getDimensionInfo(dimLoose);return dimInfo||(0,log.$8)(""),{dimIdx:dimInfo.index}},getValue:function(param){return upstream.retrieveValueFromItem(rawItem,param.dimIdx)}}),resultData=[],i=0,len=upstream.count();i<len;i++)rawItem=upstream.getRawDataItem(i),condition.evaluate()&&resultData.push(rawItem);return{data:resultData}}};var sortTransform={type:"echarts:sort",transform:function(params){var upstream=params.upstream,config=params.config,orderExprList=(0,util_model.qB)(config);orderExprList.length||(0,log.$8)("");var orderDefList=[];(0,util.each)(orderExprList,function(orderExpr){var dimLoose=orderExpr.dimension,order=orderExpr.order,parserName=orderExpr.parser,incomparable=orderExpr.incomparable;if(null==dimLoose&&(0,log.$8)(""),"asc"!==order&&"desc"!==order&&(0,log.$8)(""),incomparable&&"min"!==incomparable&&"max"!==incomparable){0,(0,log.$8)("")}if("asc"!==order&&"desc"!==order){0,(0,log.$8)("")}var dimInfo=upstream.getDimensionInfo(dimLoose);dimInfo||(0,log.$8)("");var parser=parserName?(0,dataValueHelper.zC)(parserName):null;parserName&&!parser&&(0,log.$8)(""),orderDefList.push({dimIdx:dimInfo.index,parser,comparator:new dataValueHelper.Fl(order,incomparable)})});var sourceFormat=upstream.sourceFormat;sourceFormat!==types.Km&&sourceFormat!==types.Wk&&(0,log.$8)("");for(var resultData=[],i=0,len=upstream.count();i<len;i++)resultData.push(upstream.getRawDataItem(i));return resultData.sort(function(item0,item1){for(var i=0;i<orderDefList.length;i++){var orderDef=orderDefList[i],val0=upstream.retrieveValueFromItem(item0,orderDef.dimIdx),val1=upstream.retrieveValueFromItem(item1,orderDef.dimIdx);orderDef.parser&&(val0=orderDef.parser(val0),val1=orderDef.parser(val1));var result=orderDef.comparator.evaluate(val0,val1);if(0!==result)return result}return 0}),{data:resultData}}};var sourceManager=__webpack_require__("./node_modules/echarts/lib/data/helper/sourceManager.js"),DatasetModel=function(_super){function DatasetModel(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type="dataset",_this}return(0,tslib_es6.C6)(DatasetModel,_super),DatasetModel.prototype.init=function(option,parentModel,ecModel){_super.prototype.init.call(this,option,parentModel,ecModel),this._sourceManager=new sourceManager.R(this),(0,sourceManager.A)(this)},DatasetModel.prototype.mergeOption=function(newOption,ecModel){_super.prototype.mergeOption.call(this,newOption,ecModel),(0,sourceManager.A)(this)},DatasetModel.prototype.optionUpdated=function(){this._sourceManager.dirty()},DatasetModel.prototype.getSourceManager=function(){return this._sourceManager},DatasetModel.type="dataset",DatasetModel.defaultOption={seriesLayoutBy:types.i_},DatasetModel}(Component.A),DatasetView=function(_super){function DatasetView(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type="dataset",_this}return(0,tslib_es6.C6)(DatasetView,_super),DatasetView.type="dataset",DatasetView}(view_Component.A);var CMD=PathProxy.A.CMD;function aroundEqual(a,b){return Math.abs(a-b)<1e-5}function pathToBezierCurves(path){var currentSubpath,x1,y1,x2,y2,data=path.data,len=path.len(),bezierArrayGroups=[],xi=0,yi=0,x0=0,y0=0;function createNewSubpath(x,y){currentSubpath&&currentSubpath.length>2&&bezierArrayGroups.push(currentSubpath),currentSubpath=[x,y]}function addLine(x0,y0,x1,y1){aroundEqual(x0,x1)&&aroundEqual(y0,y1)||currentSubpath.push(x0,y0,x1,y1,x1,y1)}function addArc(startAngle,endAngle,cx,cy,rx,ry){var delta=Math.abs(endAngle-startAngle),len=4*Math.tan(delta/4)/3,dir=endAngle<startAngle?-1:1,c1=Math.cos(startAngle),s1=Math.sin(startAngle),c2=Math.cos(endAngle),s2=Math.sin(endAngle),x1=c1*rx+cx,y1=s1*ry+cy,x4=c2*rx+cx,y4=s2*ry+cy,hx=rx*len*dir,hy=ry*len*dir;currentSubpath.push(x1-hx*s1,y1+hy*c1,x4+hx*s2,y4-hy*c2,x4,y4)}for(var i=0;i<len;){var cmd=data[i++],isFirst=1===i;switch(isFirst&&(x0=xi=data[i],y0=yi=data[i+1],cmd!==CMD.L&&cmd!==CMD.C&&cmd!==CMD.Q||(currentSubpath=[x0,y0])),cmd){case CMD.M:xi=x0=data[i++],yi=y0=data[i++],createNewSubpath(x0,y0);break;case CMD.L:addLine(xi,yi,x1=data[i++],y1=data[i++]),xi=x1,yi=y1;break;case CMD.C:currentSubpath.push(data[i++],data[i++],data[i++],data[i++],xi=data[i++],yi=data[i++]);break;case CMD.Q:x1=data[i++],y1=data[i++],x2=data[i++],y2=data[i++],currentSubpath.push(xi+2/3*(x1-xi),yi+2/3*(y1-yi),x2+2/3*(x1-x2),y2+2/3*(y1-y2),x2,y2),xi=x2,yi=y2;break;case CMD.A:var cx=data[i++],cy=data[i++],rx=data[i++],ry=data[i++],startAngle=data[i++],endAngle=data[i++]+startAngle;i+=1;var anticlockwise=!data[i++];x1=Math.cos(startAngle)*rx+cx,y1=Math.sin(startAngle)*ry+cy,isFirst?createNewSubpath(x0=x1,y0=y1):addLine(xi,yi,x1,y1),xi=Math.cos(endAngle)*rx+cx,yi=Math.sin(endAngle)*ry+cy;for(var step=(anticlockwise?-1:1)*Math.PI/2,angle=startAngle;anticlockwise?angle>endAngle:angle<endAngle;angle+=step){addArc(angle,anticlockwise?Math.max(angle+step,endAngle):Math.min(angle+step,endAngle),cx,cy,rx,ry)}break;case CMD.R:x0=xi=data[i++],y0=yi=data[i++],x1=x0+data[i++],y1=y0+data[i++],createNewSubpath(x1,y0),addLine(x1,y0,x1,y1),addLine(x1,y1,x0,y1),addLine(x0,y1,x0,y0),addLine(x0,y0,x1,y0);break;case CMD.Z:currentSubpath&&addLine(xi,yi,x0,y0),xi=x0,yi=y0}}return currentSubpath&&currentSubpath.length>2&&bezierArrayGroups.push(currentSubpath),bezierArrayGroups}function adpativeBezier(x0,y0,x1,y1,x2,y2,x3,y3,out,scale){if(aroundEqual(x0,x1)&&aroundEqual(y0,y1)&&aroundEqual(x2,x3)&&aroundEqual(y2,y3))out.push(x3,y3);else{var PIXEL_DISTANCE=2/scale,PIXEL_DISTANCE_SQR=PIXEL_DISTANCE*PIXEL_DISTANCE,dx=x3-x0,dy=y3-y0,d=Math.sqrt(dx*dx+dy*dy);dx/=d,dy/=d;var dx1=x1-x0,dy1=y1-y0,dx2=x2-x3,dy2=y2-y3,cp1LenSqr=dx1*dx1+dy1*dy1,cp2LenSqr=dx2*dx2+dy2*dy2;if(cp1LenSqr<PIXEL_DISTANCE_SQR&&cp2LenSqr<PIXEL_DISTANCE_SQR)out.push(x3,y3);else{var projLen1=dx*dx1+dy*dy1,projLen2=-dx*dx2-dy*dy2;if(cp1LenSqr-projLen1*projLen1<PIXEL_DISTANCE_SQR&&projLen1>=0&&cp2LenSqr-projLen2*projLen2<PIXEL_DISTANCE_SQR&&projLen2>=0)out.push(x3,y3);else{var tmpSegX=[],tmpSegY=[];(0,curve.YT)(x0,x1,x2,x3,.5,tmpSegX),(0,curve.YT)(y0,y1,y2,y3,.5,tmpSegY),adpativeBezier(tmpSegX[0],tmpSegY[0],tmpSegX[1],tmpSegY[1],tmpSegX[2],tmpSegY[2],tmpSegX[3],tmpSegY[3],out,scale),adpativeBezier(tmpSegX[4],tmpSegY[4],tmpSegX[5],tmpSegY[5],tmpSegX[6],tmpSegY[6],tmpSegX[7],tmpSegY[7],out,scale)}}}}function getDividingGrids(dimSize,rowDim,count){var rowSize=dimSize[rowDim],columnSize=dimSize[1-rowDim],ratio=Math.abs(rowSize/columnSize),rowCount=Math.ceil(Math.sqrt(ratio*count)),columnCount=Math.floor(count/rowCount);0===columnCount&&(columnCount=1,rowCount=count);for(var grids=[],i=0;i<rowCount;i++)grids.push(columnCount);var remained=count-rowCount*columnCount;if(remained>0)for(i=0;i<remained;i++)grids[i%rowCount]+=1;return grids}function divideSector(sectorShape,count,outShapes){for(var r0=sectorShape.r0,r=sectorShape.r,startAngle=sectorShape.startAngle,endAngle=sectorShape.endAngle,angle=Math.abs(endAngle-startAngle),arcLen=angle*r,deltaR=r-r0,isAngleRow=arcLen>Math.abs(deltaR),grids=getDividingGrids([arcLen,deltaR],isAngleRow?0:1,count),rowSize=(isAngleRow?angle:deltaR)/grids.length,row=0;row<grids.length;row++)for(var columnSize=(isAngleRow?deltaR:angle)/grids[row],column=0;column<grids[row];column++){var newShape={};isAngleRow?(newShape.startAngle=startAngle+rowSize*row,newShape.endAngle=startAngle+rowSize*(row+1),newShape.r0=r0+columnSize*column,newShape.r=r0+columnSize*(column+1)):(newShape.startAngle=startAngle+columnSize*column,newShape.endAngle=startAngle+columnSize*(column+1),newShape.r0=r0+rowSize*row,newShape.r=r0+rowSize*(row+1)),newShape.clockwise=sectorShape.clockwise,newShape.cx=sectorShape.cx,newShape.cy=sectorShape.cy,outShapes.push(newShape)}}function crossProduct2d(x1,y1,x2,y2){return x1*y2-x2*y1}function lineLineIntersect(a1x,a1y,a2x,a2y,b1x,b1y,b2x,b2y){var mx=a2x-a1x,my=a2y-a1y,nx=b2x-b1x,ny=b2y-b1y,nmCrossProduct=crossProduct2d(nx,ny,mx,my);if(Math.abs(nmCrossProduct)<1e-6)return null;var p=crossProduct2d(a1x-b1x,a1y-b1y,nx,ny)/nmCrossProduct;return p<0||p>1?null:new Point.A(p*mx+a1x,p*my+a1y)}function projPtOnLine(pt,lineA,lineB){var dir=new Point.A;Point.A.sub(dir,lineB,lineA),dir.normalize();var dir2=new Point.A;return Point.A.sub(dir2,pt,lineA),dir2.dot(dir)}function addToPoly(poly,pt){var last=poly[poly.length-1];last&&last[0]===pt[0]&&last[1]===pt[1]||poly.push(pt)}function binaryDividePolygon(polygonShape){var points=polygonShape.points,min=[],max=[];(0,bbox.Cr)(points,min,max);var boundingRect=new BoundingRect.A(min[0],min[1],max[0]-min[0],max[1]-min[1]),width=boundingRect.width,height=boundingRect.height,x=boundingRect.x,y=boundingRect.y,pt0=new Point.A,pt1=new Point.A;return width>height?(pt0.x=pt1.x=x+width/2,pt0.y=y,pt1.y=y+height):(pt0.y=pt1.y=y+height/2,pt0.x=x,pt1.x=x+width),function splitPolygonByLine(points,lineA,lineB){for(var len=points.length,intersections=[],i=0;i<len;i++){var p0=points[i],p1=points[(i+1)%len],intersectionPt=lineLineIntersect(p0[0],p0[1],p1[0],p1[1],lineA.x,lineA.y,lineB.x,lineB.y);intersectionPt&&intersections.push({projPt:projPtOnLine(intersectionPt,lineA,lineB),pt:intersectionPt,idx:i})}if(intersections.length<2)return[{points},{points}];intersections.sort(function(a,b){return a.projPt-b.projPt});var splitPt0=intersections[0],splitPt1=intersections[intersections.length-1];if(splitPt1.idx<splitPt0.idx){var tmp=splitPt0;splitPt0=splitPt1,splitPt1=tmp}var splitPt0Arr=[splitPt0.pt.x,splitPt0.pt.y],splitPt1Arr=[splitPt1.pt.x,splitPt1.pt.y],newPolyA=[splitPt0Arr],newPolyB=[splitPt1Arr];for(i=splitPt0.idx+1;i<=splitPt1.idx;i++)addToPoly(newPolyA,points[i].slice());for(addToPoly(newPolyA,splitPt1Arr),addToPoly(newPolyA,splitPt0Arr),i=splitPt1.idx+1;i<=splitPt0.idx+len;i++)addToPoly(newPolyB,points[i%len].slice());return addToPoly(newPolyB,splitPt0Arr),addToPoly(newPolyB,splitPt1Arr),[{points:newPolyA},{points:newPolyB}]}(points,pt0,pt1)}function binaryDivideRecursive(divider,shape,count,out){if(1===count)out.push(shape);else{var mid=Math.floor(count/2),sub=divider(shape);binaryDivideRecursive(divider,sub[0],mid,out),binaryDivideRecursive(divider,sub[1],count-mid,out)}return out}function copyPathProps(source,target){target.setStyle(source.style),target.z=source.z,target.z2=source.z2,target.zlevel=source.zlevel}function split(path,count){var OutShapeCtor,outShapes=[],shape=path.shape;switch(path.type){case"rect":!function divideRect(rectShape,count,outShapes){for(var width=rectShape.width,height=rectShape.height,isHorizontalRow=width>height,grids=getDividingGrids([width,height],isHorizontalRow?0:1,count),rowSizeDim=isHorizontalRow?"width":"height",columnSizeDim=isHorizontalRow?"height":"width",rowDim=isHorizontalRow?"x":"y",columnDim=isHorizontalRow?"y":"x",rowSize=rectShape[rowSizeDim]/grids.length,row=0;row<grids.length;row++)for(var columnSize=rectShape[columnSizeDim]/grids[row],column=0;column<grids[row];column++){var newShape={};newShape[rowDim]=row*rowSize,newShape[columnDim]=column*columnSize,newShape[rowSizeDim]=rowSize,newShape[columnSizeDim]=columnSize,newShape.x+=rectShape.x,newShape.y+=rectShape.y,outShapes.push(newShape)}}(shape,count,outShapes),OutShapeCtor=Rect.A;break;case"sector":divideSector(shape,count,outShapes),OutShapeCtor=Sector.A;break;case"circle":divideSector({r0:0,r:shape.r,startAngle:0,endAngle:2*Math.PI,cx:shape.cx,cy:shape.cy},count,outShapes),OutShapeCtor=Sector.A;break;default:var m=path.getComputedTransform(),scale=m?Math.sqrt(Math.max(m[0]*m[0]+m[1]*m[1],m[2]*m[2]+m[3]*m[3])):1,polygons=(0,util.map)(function pathToPolygons(path,scale){var bezierArrayGroups=pathToBezierCurves(path),polygons=[];scale=scale||1;for(var i=0;i<bezierArrayGroups.length;i++){var beziers=bezierArrayGroups[i],polygon=[],x0=beziers[0],y0=beziers[1];polygon.push(x0,y0);for(var k=2;k<beziers.length;){var x1=beziers[k++],y1=beziers[k++],x2=beziers[k++],y2=beziers[k++],x3=beziers[k++],y3=beziers[k++];adpativeBezier(x0,y0,x1,y1,x2,y2,x3,y3,polygon,scale),x0=x3,y0=y3}polygons.push(polygon)}return polygons}(path.getUpdatedPathProxy(),scale),function(poly){return function polygonConvert(points){for(var out=[],i=0;i<points.length;)out.push([points[i++],points[i++]]);return out}(poly)}),polygonCount=polygons.length;if(0===polygonCount)binaryDivideRecursive(binaryDividePolygon,{points:polygons[0]},count,outShapes);else if(polygonCount===count)for(var i=0;i<polygonCount;i++)outShapes.push({points:polygons[i]});else{var totalArea_1=0,items=(0,util.map)(polygons,function(poly){var min=[],max=[];(0,bbox.Cr)(poly,min,max);var area=(max[1]-min[1])*(max[0]-min[0]);return totalArea_1+=area,{poly,area}});items.sort(function(a,b){return b.area-a.area});var left=count;for(i=0;i<polygonCount;i++){var item=items[i];if(left<=0)break;var selfCount=i===polygonCount-1?left:Math.ceil(item.area/totalArea_1*count);selfCount<0||(binaryDivideRecursive(binaryDividePolygon,{points:item.poly},selfCount,outShapes),left-=selfCount)}}OutShapeCtor=Polygon.A}if(!OutShapeCtor)return function clone(path,count){for(var paths=[],i=0;i<count;i++)paths.push((0,tool_path.rR)(path));return paths}(path,count);var out=[];for(i=0;i<outShapes.length;i++){var subPath=new OutShapeCtor;subPath.setShape(outShapes[i]),copyPathProps(path,subPath),out.push(subPath)}return out}function alignSubpath(subpath1,subpath2){var len1=subpath1.length,len2=subpath2.length;if(len1===len2)return[subpath1,subpath2];for(var tmpSegX=[],tmpSegY=[],shorterPath=len1<len2?subpath1:subpath2,shorterLen=Math.min(len1,len2),diff=Math.abs(len2-len1)/6,shorterBezierCount=(shorterLen-2)/6,eachCurveSubDivCount=Math.ceil(diff/shorterBezierCount)+1,newSubpath=[shorterPath[0],shorterPath[1]],remained=diff,i=2;i<shorterLen;){var x0=shorterPath[i-2],y0=shorterPath[i-1],x1=shorterPath[i++],y1=shorterPath[i++],x2=shorterPath[i++],y2=shorterPath[i++],x3=shorterPath[i++],y3=shorterPath[i++];if(remained<=0)newSubpath.push(x1,y1,x2,y2,x3,y3);else{for(var actualSubDivCount=Math.min(remained,eachCurveSubDivCount-1)+1,k=1;k<=actualSubDivCount;k++){var p=k/actualSubDivCount;(0,curve.YT)(x0,x1,x2,x3,p,tmpSegX),(0,curve.YT)(y0,y1,y2,y3,p,tmpSegY),x0=tmpSegX[3],y0=tmpSegY[3],newSubpath.push(tmpSegX[1],tmpSegY[1],tmpSegX[2],tmpSegY[2],x0,y0),x1=tmpSegX[5],y1=tmpSegY[5],x2=tmpSegX[6],y2=tmpSegY[6]}remained-=actualSubDivCount-1}}return shorterPath===subpath1?[newSubpath,subpath2]:[subpath1,newSubpath]}function createSubpath(lastSubpathSubpath,otherSubpath){for(var len=lastSubpathSubpath.length,lastX=lastSubpathSubpath[len-2],lastY=lastSubpathSubpath[len-1],newSubpath=[],i=0;i<otherSubpath.length;)newSubpath[i++]=lastX,newSubpath[i++]=lastY;return newSubpath}function centroid(array){for(var signedArea=0,cx=0,cy=0,len=array.length,i=0,j=len-2;i<len;j=i,i+=2){var x0=array[j],y0=array[j+1],x1=array[i],y1=array[i+1],a=x0*y1-x1*y0;signedArea+=a,cx+=(x0+x1)*a,cy+=(y0+y1)*a}return 0===signedArea?[array[0]||0,array[1]||0]:[cx/signedArea/3,cy/signedArea/3,signedArea]}function findBestRingOffset(fromSubBeziers,toSubBeziers,fromCp,toCp){for(var bezierCount=(fromSubBeziers.length-2)/6,bestScore=1/0,bestOffset=0,len=fromSubBeziers.length,len2=len-2,offset=0;offset<bezierCount;offset++){for(var cursorOffset=6*offset,score=0,k=0;k<len;k+=2){var idx=0===k?cursorOffset:(cursorOffset+k-2)%len2+2,x0=fromSubBeziers[idx]-fromCp[0],y0=fromSubBeziers[idx+1]-fromCp[1],dx=toSubBeziers[k]-toCp[0]-x0,dy=toSubBeziers[k+1]-toCp[1]-y0;score+=dx*dx+dy*dy}score<bestScore&&(bestScore=score,bestOffset=offset)}return bestOffset}function reverse(array){for(var newArr=[],len=array.length,i=0;i<len;i+=2)newArr[i]=array[len-i-2],newArr[i+1]=array[len-i-1];return newArr}function isCombineMorphing(path){return path.__isCombineMorphing}function saveAndModifyMethod(obj,methodName,modifiers){var savedMethodName="__mOriginal_"+methodName,originalMethod=obj[savedMethodName]||obj[methodName];obj[savedMethodName]||(obj[savedMethodName]=obj[methodName]);var replace=modifiers.replace,after=modifiers.after,before=modifiers.before;obj[methodName]=function(){var res,args=arguments;return before&&before.apply(this,args),res=replace?replace.apply(this,args):originalMethod.apply(this,args),after&&after.apply(this,args),res}}function restoreMethod(obj,methodName){var savedMethodName="__mOriginal_"+methodName;obj[savedMethodName]&&(obj[methodName]=obj[savedMethodName],obj[savedMethodName]=null)}function applyTransformOnBeziers(bezierCurves,mm){for(var i=0;i<bezierCurves.length;i++)for(var subBeziers=bezierCurves[i],k=0;k<subBeziers.length;){var x=subBeziers[k],y=subBeziers[k+1];subBeziers[k++]=mm[0]*x+mm[2]*y+mm[4],subBeziers[k++]=mm[1]*x+mm[3]*y+mm[5]}}function prepareMorphPath(fromPath,toPath){var fromPathProxy=fromPath.getUpdatedPathProxy(),toPathProxy=toPath.getUpdatedPathProxy(),_a=function alignBezierCurves(array1,array2){for(var _a,lastSubpath1,lastSubpath2,newArray1=[],newArray2=[],i=0;i<Math.max(array1.length,array2.length);i++){var subpath1=array1[i],subpath2=array2[i],newSubpath1=void 0,newSubpath2=void 0;subpath1?subpath2?(lastSubpath1=newSubpath1=(_a=alignSubpath(subpath1,subpath2))[0],lastSubpath2=newSubpath2=_a[1]):(newSubpath2=createSubpath(lastSubpath2||subpath1,subpath1),newSubpath1=subpath1):(newSubpath1=createSubpath(lastSubpath1||subpath2,subpath2),newSubpath2=subpath2),newArray1.push(newSubpath1),newArray2.push(newSubpath2)}return[newArray1,newArray2]}(pathToBezierCurves(fromPathProxy),pathToBezierCurves(toPathProxy)),fromBezierCurves=_a[0],toBezierCurves=_a[1],fromPathTransform=fromPath.getComputedTransform(),toPathTransform=toPath.getComputedTransform();fromPathTransform&&applyTransformOnBeziers(fromBezierCurves,fromPathTransform),toPathTransform&&applyTransformOnBeziers(toBezierCurves,toPathTransform),saveAndModifyMethod(toPath,"updateTransform",{replace:function updateIdentityTransform(){this.transform=null}}),toPath.transform=null;var morphingData=function findBestMorphingRotation(fromArr,toArr,searchAngleIteration,searchAngleRange){for(var fromNeedsReverse,result=[],i=0;i<fromArr.length;i++){var fromSubpathBezier=fromArr[i],toSubpathBezier=toArr[i],fromCp=centroid(fromSubpathBezier),toCp=centroid(toSubpathBezier);null==fromNeedsReverse&&(fromNeedsReverse=fromCp[2]<0!=toCp[2]<0);var newFromSubpathBezier=[],newToSubpathBezier=[],bestAngle=0,bestScore=1/0,tmpArr=[],len=fromSubpathBezier.length;fromNeedsReverse&&(fromSubpathBezier=reverse(fromSubpathBezier));for(var offset=6*findBestRingOffset(fromSubpathBezier,toSubpathBezier,fromCp,toCp),len2=len-2,k=0;k<len2;k+=2){var idx=(offset+k)%len2+2;newFromSubpathBezier[k+2]=fromSubpathBezier[idx]-fromCp[0],newFromSubpathBezier[k+3]=fromSubpathBezier[idx+1]-fromCp[1]}if(newFromSubpathBezier[0]=fromSubpathBezier[offset]-fromCp[0],newFromSubpathBezier[1]=fromSubpathBezier[offset+1]-fromCp[1],searchAngleIteration>0)for(var step=searchAngleRange/searchAngleIteration,angle=-searchAngleRange/2;angle<=searchAngleRange/2;angle+=step){var sa=Math.sin(angle),ca=Math.cos(angle),score=0;for(k=0;k<fromSubpathBezier.length;k+=2){var x0=newFromSubpathBezier[k],y0=newFromSubpathBezier[k+1],x1=toSubpathBezier[k]-toCp[0],y1=toSubpathBezier[k+1]-toCp[1],newX1=x1*ca-y1*sa,newY1=x1*sa+y1*ca;tmpArr[k]=newX1,tmpArr[k+1]=newY1;var dx=newX1-x0,dy=newY1-y0;score+=dx*dx+dy*dy}if(score<bestScore){bestScore=score,bestAngle=angle;for(var m=0;m<tmpArr.length;m++)newToSubpathBezier[m]=tmpArr[m]}}else for(var i_1=0;i_1<len;i_1+=2)newToSubpathBezier[i_1]=toSubpathBezier[i_1]-toCp[0],newToSubpathBezier[i_1+1]=toSubpathBezier[i_1+1]-toCp[1];result.push({from:newFromSubpathBezier,to:newToSubpathBezier,fromCp,toCp,rotation:-bestAngle})}return result}(fromBezierCurves,toBezierCurves,10,Math.PI),tmpArr=[];saveAndModifyMethod(toPath,"buildPath",{replace:function(path){for(var t=toPath.__morphT,onet=1-t,newCp=[],i=0;i<morphingData.length;i++){var item=morphingData[i],from=item.from,to=item.to,angle=item.rotation*t,fromCp=item.fromCp,toCp=item.toCp,sa=Math.sin(angle),ca=Math.cos(angle);(0,vector.lerp)(newCp,fromCp,toCp,t);for(var m=0;m<from.length;m+=2){var x0_1=from[m],y0_1=from[m+1],x=x0_1*onet+(x1=to[m])*t,y=y0_1*onet+(y1=to[m+1])*t;tmpArr[m]=x*ca-y*sa+newCp[0],tmpArr[m+1]=x*sa+y*ca+newCp[1]}var x0=tmpArr[0],y0=tmpArr[1];path.moveTo(x0,y0);for(m=2;m<from.length;){var x1=tmpArr[m++],y1=tmpArr[m++],x2=tmpArr[m++],y2=tmpArr[m++],x3=tmpArr[m++],y3=tmpArr[m++];x0===x1&&y0===y1&&x2===x3&&y2===y3?path.lineTo(x3,y3):path.bezierCurveTo(x1,y1,x2,y2,x3,y3),x0=x3,y0=y3}}}})}function morphPath(fromPath,toPath,animationOpts){if(!fromPath||!toPath)return toPath;var oldDone=animationOpts.done,oldDuring=animationOpts.during;return prepareMorphPath(fromPath,toPath),toPath.__morphT=0,toPath.animateTo({__morphT:1},(0,util.defaults)({during:function(p){toPath.dirtyShape(),oldDuring&&oldDuring(p)},done:function(){!function restoreToPath(){restoreMethod(toPath,"buildPath"),restoreMethod(toPath,"updateTransform"),toPath.__morphT=-1,toPath.createPathProxy(),toPath.dirtyShape()}(),oldDone&&oldDone()}},animationOpts)),toPath}function hilbert(x,y,minX,minY,maxX,maxY){x=maxX===minX?0:Math.round(32767*(x-minX)/(maxX-minX)),y=maxY===minY?0:Math.round(32767*(y-minY)/(maxY-minY));for(var tmp,d=0,s=32768;s>0;s/=2){var rx=0,ry=0;(x&s)>0&&(rx=1),(y&s)>0&&(ry=1),d+=s*s*(3*rx^ry),0===ry&&(1===rx&&(x=s-1-x,y=s-1-y),tmp=x,x=y,y=tmp)}return d}function sortPaths(pathList){var xMin=1/0,yMin=1/0,xMax=-1/0,yMax=-1/0,cps=(0,util.map)(pathList,function(path){var rect=path.getBoundingRect(),m=path.getComputedTransform(),x=rect.x+rect.width/2+(m?m[4]:0),y=rect.y+rect.height/2+(m?m[5]:0);return xMin=Math.min(x,xMin),yMin=Math.min(y,yMin),xMax=Math.max(x,xMax),yMax=Math.max(y,yMax),[x,y]});return(0,util.map)(cps,function(cp,idx){return{cp,z:hilbert(cp[0],cp[1],xMin,yMin,xMax,yMax),path:pathList[idx]}}).sort(function(a,b){return a.z-b.z}).map(function(item){return item.path})}function defaultDividePath(param){return split(param.path,param.count)}function isMultiple(elements){return(0,util.isArray)(elements[0])}function prepareMorphBatches(one,many){for(var batches=[],batchCount=one.length,i=0;i<batchCount;i++)batches.push({one:one[i],many:[]});for(i=0;i<many.length;i++){var len=many[i].length,k=void 0;for(k=0;k<len;k++)batches[k%batchCount].many.push(many[i][k])}var off=0;for(i=batchCount-1;i>=0;i--)if(!batches[i].many.length){var moveFrom=batches[off].many;if(moveFrom.length<=1){if(!off)return batches;off=0}len=moveFrom.length;var mid=Math.ceil(len/2);batches[i].many=moveFrom.slice(mid,len),batches[off].many=moveFrom.slice(0,mid),off++}return batches}var pathDividers={clone:function(params){for(var ret=[],approxOpacity=1-Math.pow(1-params.path.style.opacity,1/params.count),i=0;i<params.count;i++){var cloned=(0,tool_path.rR)(params.path);cloned.setStyle("opacity",approxOpacity),ret.push(cloned)}return ret},split:null};function applyMorphAnimation(from,to,divideShape,seriesModel,dataIndex,animateOtherProps){if(from.length&&to.length){var updateAnimationCfg=(0,basicTransition.Jw)("update",seriesModel,dataIndex);if(updateAnimationCfg&&updateAnimationCfg.duration>0){var many,one,animationDelay=seriesModel.getModel("universalTransition").get("delay"),animationCfg=Object.assign({setToFinal:!0},updateAnimationCfg);isMultiple(from)&&(many=from,one=to),isMultiple(to)&&(many=to,one=from);for(var fromIsMany=many?many===from:from.length>to.length,morphBatches=many?prepareMorphBatches(one,many):prepareMorphBatches(fromIsMany?to:from,[fromIsMany?from:to]),animateCount=0,i=0;i<morphBatches.length;i++)animateCount+=morphBatches[i].many.length;var animateIndex=0;for(i=0;i<morphBatches.length;i++)morphOneBatch(morphBatches[i],fromIsMany,animateIndex,animateCount),animateIndex+=morphBatches[i].many.length}}function morphOneBatch(batch,fromIsMany,animateIndex,animateCount,forceManyOne){var batchMany=batch.many,batchOne=batch.one;if(1!==batchMany.length||forceManyOne)for(var separateAnimationCfg=(0,util.defaults)({dividePath:pathDividers[divideShape],individualDelay:animationDelay&&function(idx,count,fromPath,toPath){return animationDelay(idx+animateIndex,animateCount)}},animationCfg),_a=fromIsMany?function combineMorph(fromList,toPath,animationOpts){var fromPathList=[];!function addFromPath(fromList){for(var i=0;i<fromList.length;i++){var from=fromList[i];isCombineMorphing(from)?addFromPath(from.childrenRef()):from instanceof Path.Ay&&fromPathList.push(from)}}(fromList);var separateCount=fromPathList.length;if(!separateCount)return{fromIndividuals:[],toIndividuals:[],count:0};var toSubPathList=(animationOpts.dividePath||defaultDividePath)({path:toPath,count:separateCount});if(toSubPathList.length!==separateCount)return console.error("Invalid morphing: unmatched splitted path"),{fromIndividuals:[],toIndividuals:[],count:0};fromPathList=sortPaths(fromPathList),toSubPathList=sortPaths(toSubPathList);for(var oldDone=animationOpts.done,oldDuring=animationOpts.during,individualDelay=animationOpts.individualDelay,identityTransform=new Transformable.Ay,i=0;i<separateCount;i++){var from=fromPathList[i],to=toSubPathList[i];to.parent=toPath,to.copyTransform(identityTransform),individualDelay||prepareMorphPath(from,to)}function addToSubPathListToZr(zr){for(var i=0;i<toSubPathList.length;i++)toSubPathList[i].addSelfToZr(zr)}function restoreToPath(){toPath.__isCombineMorphing=!1,toPath.__morphT=-1,toPath.childrenRef=null,restoreMethod(toPath,"addSelfToZr"),restoreMethod(toPath,"removeSelfFromZr")}toPath.__isCombineMorphing=!0,toPath.childrenRef=function(){return toSubPathList},saveAndModifyMethod(toPath,"addSelfToZr",{after:function(zr){addToSubPathListToZr(zr)}}),saveAndModifyMethod(toPath,"removeSelfFromZr",{after:function(zr){for(var i=0;i<toSubPathList.length;i++)toSubPathList[i].removeSelfFromZr(zr)}});var toLen=toSubPathList.length;if(individualDelay){var animating_1=toLen,eachDone=function(){0===--animating_1&&(restoreToPath(),oldDone&&oldDone())};for(i=0;i<toLen;i++){var indivdualAnimationOpts=individualDelay?(0,util.defaults)({delay:(animationOpts.delay||0)+individualDelay(i,toLen,fromPathList[i],toSubPathList[i]),done:eachDone},animationOpts):animationOpts;morphPath(fromPathList[i],toSubPathList[i],indivdualAnimationOpts)}}else toPath.__morphT=0,toPath.animateTo({__morphT:1},(0,util.defaults)({during:function(p){for(var i=0;i<toLen;i++){var child=toSubPathList[i];child.__morphT=toPath.__morphT,child.dirtyShape()}oldDuring&&oldDuring(p)},done:function(){restoreToPath();for(var i=0;i<fromList.length;i++)restoreMethod(fromList[i],"updateTransform");oldDone&&oldDone()}},animationOpts));return toPath.__zr&&addToSubPathListToZr(toPath.__zr),{fromIndividuals:fromPathList,toIndividuals:toSubPathList,count:toLen}}(batchMany,batchOne,separateAnimationCfg):function separateMorph(fromPath,toPathList,animationOpts){var toLen=toPathList.length,fromPathList=[],dividePath=animationOpts.dividePath||defaultDividePath;if(isCombineMorphing(fromPath)){!function addFromPath(fromList){for(var i=0;i<fromList.length;i++){var from=fromList[i];isCombineMorphing(from)?addFromPath(from.childrenRef()):from instanceof Path.Ay&&fromPathList.push(from)}}(fromPath.childrenRef());var fromLen=fromPathList.length;if(fromLen<toLen)for(var k=0,i=fromLen;i<toLen;i++)fromPathList.push((0,tool_path.rR)(fromPathList[k++%fromLen]));fromPathList.length=toLen}else{fromPathList=dividePath({path:fromPath,count:toLen});var fromPathTransform=fromPath.getComputedTransform();for(i=0;i<fromPathList.length;i++)fromPathList[i].setLocalTransform(fromPathTransform);if(fromPathList.length!==toLen)return console.error("Invalid morphing: unmatched splitted path"),{fromIndividuals:[],toIndividuals:[],count:0}}fromPathList=sortPaths(fromPathList),toPathList=sortPaths(toPathList);var individualDelay=animationOpts.individualDelay;for(i=0;i<toLen;i++){var indivdualAnimationOpts=individualDelay?(0,util.defaults)({delay:(animationOpts.delay||0)+individualDelay(i,toLen,fromPathList[i],toPathList[i])},animationOpts):animationOpts;morphPath(fromPathList[i],toPathList[i],indivdualAnimationOpts)}return{fromIndividuals:fromPathList,toIndividuals:toPathList,count:toPathList.length}}(batchOne,batchMany,separateAnimationCfg),fromIndividuals=_a.fromIndividuals,toIndividuals=_a.toIndividuals,count=fromIndividuals.length,k=0;k<count;k++){individualAnimationCfg=animationDelay?(0,util.defaults)({delay:animationDelay(k,count)},animationCfg):animationCfg;animateOtherProps(fromIndividuals[k],toIndividuals[k],fromIsMany?batchMany[k]:batch.one,fromIsMany?batch.one:batchMany[k],individualAnimationCfg)}else{var individualAnimationCfg,batchFrom=fromIsMany?batchMany[0]:batchOne,batchTo=fromIsMany?batchOne:batchMany[0];if(isCombineMorphing(batchFrom))morphOneBatch({many:[batchFrom],one:batchTo},!0,animateIndex,animateCount,!0);else morphPath(batchFrom,batchTo,individualAnimationCfg=animationDelay?(0,util.defaults)({delay:animationDelay(animateIndex,animateCount)},animationCfg):animationCfg),animateOtherProps(batchFrom,batchTo,batchFrom,batchTo,individualAnimationCfg)}}}function getPathList(elements){if(!elements)return[];if((0,util.isArray)(elements)){for(var pathList_1=[],i=0;i<elements.length;i++)pathList_1.push(getPathList(elements[i]));return pathList_1}var pathList=[];return elements.traverse(function(el){el instanceof Path.Ay&&!el.disableMorphing&&!el.invisible&&!el.ignore&&pathList.push(el)}),pathList}var getUniversalTransitionGlobalStore=(0,util_model.$r)();function getGroupId(data,dataIndex,dataGroupId,isChild){var groupIdDim=function getDimension(data,visualDimension){for(var dimensions=data.dimensions,i=0;i<dimensions.length;i++){var dimInfo=data.getDimensionInfo(dimensions[i]);if(dimInfo&&0===dimInfo.otherDims[visualDimension])return dimensions[i]}}(data,isChild?"itemChildGroupId":"itemGroupId");if(groupIdDim){var groupId=function getValueByDimension(data,dataIndex,dimension){var dimInfo=data.getDimensionInfo(dimension),dimOrdinalMeta=dimInfo&&dimInfo.ordinalMeta;if(dimInfo){var value=data.get(dimInfo.name,dataIndex);return dimOrdinalMeta&&dimOrdinalMeta.categories[value]||value+""}}(data,dataIndex,groupIdDim);return groupId}var rawDataItem=data.getRawDataItem(dataIndex),property=isChild?"childGroupId":"groupId";return rawDataItem&&rawDataItem[property]?rawDataItem[property]+"":isChild?void 0:dataGroupId||data.getId(dataIndex)}function flattenDataDiffItems(list){var items=[];return(0,util.each)(list,function(seriesInfo){var data=seriesInfo.data,dataGroupId=seriesInfo.dataGroupId;if(!(data.count()>1e4))for(var indices=data.getIndices(),dataIndex=0;dataIndex<indices.length;dataIndex++)items.push({data,groupId:getGroupId(data,dataIndex,dataGroupId,!1),childGroupId:getGroupId(data,dataIndex,dataGroupId,!0),divide:seriesInfo.divide,dataIndex})}),items}function fadeInElement(newEl,newSeries,newIndex){newEl.traverse(function(el){el instanceof Path.Ay&&(0,basicTransition.LW)(el,{style:{opacity:0}},newSeries,{dataIndex:newIndex,isFrom:!0})})}function universalTransition_removeEl(el){if(el.parent){var computedTransform=el.getComputedTransform();el.setLocalTransform(computedTransform),el.parent.remove(el)}}function stopAnimation(el){el.stopAnimation(),el.isGroup&&el.traverse(function(child){child.stopAnimation()})}function transitionBetween(oldList,newList,api){var oldDiffItems=flattenDataDiffItems(oldList),newDiffItems=flattenDataDiffItems(newList);function updateMorphingPathProps(from,to,rawFrom,rawTo,animationCfg){(rawFrom||from)&&to.animateFrom({style:rawFrom&&rawFrom!==from?(0,util.extend)((0,util.extend)({},rawFrom.style),from.style):from.style},animationCfg)}var hasMorphAnimation=!1,direction=0,oldGroupIds=(0,util.createHashMap)(),oldChildGroupIds=(0,util.createHashMap)();oldDiffItems.forEach(function(item){item.groupId&&oldGroupIds.set(item.groupId,!0),item.childGroupId&&oldChildGroupIds.set(item.childGroupId,!0)});for(var i=0;i<newDiffItems.length;i++){var newGroupId=newDiffItems[i].groupId;if(oldChildGroupIds.get(newGroupId)){direction=1;break}var newChildGroupId=newDiffItems[i].childGroupId;if(newChildGroupId&&oldGroupIds.get(newChildGroupId)){direction=2;break}}function createKeyGetter(isOld,onlyGetId){return function(diffItem){var data=diffItem.data,dataIndex=diffItem.dataIndex;return onlyGetId?data.getId(dataIndex):isOld?1===direction?diffItem.childGroupId:diffItem.groupId:2===direction?diffItem.childGroupId:diffItem.groupId}}var useId=function isAllIdSame(oldDiffItems,newDiffItems){var len=oldDiffItems.length;if(len!==newDiffItems.length)return!1;for(var i=0;i<len;i++){var oldItem=oldDiffItems[i],newItem=newDiffItems[i];if(oldItem.data.getId(oldItem.dataIndex)!==newItem.data.getId(newItem.dataIndex))return!1}return!0}(oldDiffItems,newDiffItems),isElementStillInChart={};if(!useId)for(i=0;i<newDiffItems.length;i++){var newItem=newDiffItems[i],el=newItem.data.getItemGraphicEl(newItem.dataIndex);el&&(isElementStillInChart[el.id]=!0)}function updateOneToOne(newIndex,oldIndex){var oldItem=oldDiffItems[oldIndex],newItem=newDiffItems[newIndex],newSeries=newItem.data.hostModel,oldEl=oldItem.data.getItemGraphicEl(oldItem.dataIndex),newEl=newItem.data.getItemGraphicEl(newItem.dataIndex);oldEl!==newEl?oldEl&&isElementStillInChart[oldEl.id]||newEl&&(stopAnimation(newEl),oldEl?(stopAnimation(oldEl),universalTransition_removeEl(oldEl),hasMorphAnimation=!0,applyMorphAnimation(getPathList(oldEl),getPathList(newEl),newItem.divide,newSeries,newIndex,updateMorphingPathProps)):fadeInElement(newEl,newSeries,newIndex)):newEl&&function animateElementStyles(el,dataIndex,seriesModel){var animationConfig=(0,basicTransition.Jw)("update",seriesModel,dataIndex);animationConfig&&el.traverse(function(child){if(child instanceof Displayable.Ay){var oldStyle=(0,basicTransition.Xr)(child);oldStyle&&child.animateFrom({style:oldStyle},animationConfig)}})}(newEl,newItem.dataIndex,newSeries)}new DataDiffer.A(oldDiffItems,newDiffItems,createKeyGetter(!0,useId),createKeyGetter(!1,useId),null,"multiple").update(updateOneToOne).updateManyToOne(function(newIndex,oldIndices){var newItem=newDiffItems[newIndex],newData=newItem.data,newSeries=newData.hostModel,newEl=newData.getItemGraphicEl(newItem.dataIndex),oldElsList=(0,util.filter)((0,util.map)(oldIndices,function(idx){return oldDiffItems[idx].data.getItemGraphicEl(oldDiffItems[idx].dataIndex)}),function(oldEl){return oldEl&&oldEl!==newEl&&!isElementStillInChart[oldEl.id]});newEl&&(stopAnimation(newEl),oldElsList.length?((0,util.each)(oldElsList,function(oldEl){stopAnimation(oldEl),universalTransition_removeEl(oldEl)}),hasMorphAnimation=!0,applyMorphAnimation(getPathList(oldElsList),getPathList(newEl),newItem.divide,newSeries,newIndex,updateMorphingPathProps)):fadeInElement(newEl,newSeries,newItem.dataIndex))}).updateOneToMany(function(newIndices,oldIndex){var oldItem=oldDiffItems[oldIndex],oldEl=oldItem.data.getItemGraphicEl(oldItem.dataIndex);if(!oldEl||!isElementStillInChart[oldEl.id]){var newElsList=(0,util.filter)((0,util.map)(newIndices,function(idx){return newDiffItems[idx].data.getItemGraphicEl(newDiffItems[idx].dataIndex)}),function(el){return el&&el!==oldEl}),newSeris=newDiffItems[newIndices[0]].data.hostModel;newElsList.length&&((0,util.each)(newElsList,function(newEl){return stopAnimation(newEl)}),oldEl?(stopAnimation(oldEl),universalTransition_removeEl(oldEl),hasMorphAnimation=!0,applyMorphAnimation(getPathList(oldEl),getPathList(newElsList),oldItem.divide,newSeris,newIndices[0],updateMorphingPathProps)):(0,util.each)(newElsList,function(newEl){return fadeInElement(newEl,newSeris,newIndices[0])}))}}).updateManyToMany(function(newIndices,oldIndices){new DataDiffer.A(oldIndices,newIndices,function(rawIdx){return oldDiffItems[rawIdx].data.getId(oldDiffItems[rawIdx].dataIndex)},function(rawIdx){return newDiffItems[rawIdx].data.getId(newDiffItems[rawIdx].dataIndex)}).update(function(newIndex,oldIndex){updateOneToOne(newIndices[newIndex],oldIndices[oldIndex])}).execute()}).execute(),hasMorphAnimation&&(0,util.each)(newList,function(_a){var seriesModel=_a.data.hostModel,view=seriesModel&&api.getViewOfSeriesModel(seriesModel),animationCfg=(0,basicTransition.Jw)("update",seriesModel,0);view&&seriesModel.isAnimationEnabled()&&animationCfg&&animationCfg.duration>0&&view.group.traverse(function(el){el instanceof Path.Ay&&!el.animators.length&&el.animateFrom({style:{opacity:0}},animationCfg)})})}function getSeriesTransitionKey(series){var seriesKey=series.getModel("universalTransition").get("seriesKey");return seriesKey||series.id}function convertArraySeriesKeyToString(seriesKey){return(0,util.isArray)(seriesKey)?seriesKey.sort().join(","):seriesKey}function getDivideShapeFromData(data){if(data.hostModel)return data.hostModel.getModel("universalTransition").get("divideShape")}function querySeries(series,finder){for(var i=0;i<series.length;i++){if(null!=finder.seriesIndex&&finder.seriesIndex===series[i].seriesIndex||null!=finder.seriesId&&finder.seriesId===series[i].id)return i}}var installLabelLayout=__webpack_require__("./node_modules/echarts/lib/label/installLabelLayout.js");(0,extension.Y)([installCanvasRenderer.a]),(0,extension.Y)([function install(registers){registers.registerPainter("svg",Painter)}]),(0,extension.Y)([line_install.a,bar_install.a,pie_install.a,scatter_install.a,radar_install.a,function map_install_install(registers){(0,extension.Y)(install_install),registers.registerChartView(map_MapView),registers.registerSeriesModel(map_MapSeries),registers.registerLayout(mapSymbolLayout),registers.registerProcessor(registers.PRIORITY.PROCESSOR.STATISTIC,mapDataStatistic),(0,dataSelectAction.I)("map",registers.registerAction)},function tree_install_install(registers){registers.registerChartView(tree_TreeView),registers.registerSeriesModel(TreeSeries),registers.registerLayout(treeLayout),registers.registerVisual(treeVisual),function installTreeAction(registers){registers.registerAction({type:"treeExpandAndCollapse",event:"treeExpandAndCollapse",update:"update"},function(payload,ecModel){ecModel.eachComponent({mainType:"series",subType:"tree",query:payload},function(seriesModel){var dataIndex=payload.dataIndex,node=seriesModel.getData().tree.getNodeByDataIndex(dataIndex);node.isExpand=!node.isExpand})}),registers.registerAction({type:"treeRoam",event:"treeRoam",update:"none"},function(payload,ecModel,api){ecModel.eachComponent({mainType:"series",subType:"tree",query:payload},function(seriesModel){var res=updateCenterAndZoom(seriesModel.coordinateSystem,payload,void 0,api);seriesModel.setCenter&&seriesModel.setCenter(res.center),seriesModel.setZoom&&seriesModel.setZoom(res.zoom)})})}(registers)},function treemap_install_install(registers){registers.registerSeriesModel(TreemapSeries),registers.registerChartView(treemap_TreemapView),registers.registerVisual(treemapVisual),registers.registerLayout(treemapLayout),function installTreemapAction(registers){for(var i=0;i<actionTypes.length;i++)registers.registerAction({type:actionTypes[i],update:"updateView"},util.noop);registers.registerAction({type:"treemapRootToNode",update:"updateView"},function(payload,ecModel){ecModel.eachComponent({mainType:"series",subType:"treemap",query:payload},function handleRootToNode(model,index){var targetInfo=retrieveTargetInfo(payload,["treemapZoomToNode","treemapRootToNode"],model);if(targetInfo){var originViewRoot=model.getViewRoot();originViewRoot&&(payload.direction=aboveViewRoot(originViewRoot,targetInfo.node)?"rollUp":"drillDown"),model.resetViewRoot(targetInfo.node)}})})}(registers)},function graph_install_install(registers){registers.registerChartView(graph_GraphView),registers.registerSeriesModel(GraphSeries),registers.registerProcessor(categoryFilter),registers.registerVisual(categoryVisual),registers.registerVisual(graphEdgeVisual),registers.registerLayout(graphSimpleLayout),registers.registerLayout(registers.PRIORITY.VISUAL.POST_CHART_LAYOUT,graphCircularLayout),registers.registerLayout(graphForceLayout),registers.registerCoordinateSystem("graphView",{dimensions:coord_View.dimensions,create:createViewCoordSys}),registers.registerAction({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series:focusNodeAdjacency"},util.noop),registers.registerAction({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series:unfocusNodeAdjacency"},util.noop),registers.registerAction(actionInfo,function(payload,ecModel,api){ecModel.eachComponent({mainType:"series",query:payload},function(seriesModel){var res=updateCenterAndZoom(seriesModel.coordinateSystem,payload,void 0,api);seriesModel.setCenter&&seriesModel.setCenter(res.center),seriesModel.setZoom&&seriesModel.setZoom(res.zoom)})})},gauge_install.a,function funnel_install_install(registers){registers.registerChartView(funnel_FunnelView),registers.registerSeriesModel(FunnelSeries),registers.registerLayout(funnelLayout),registers.registerProcessor((0,dataFilter.A)("funnel"))},function chart_parallel_install_install(registers){(0,extension.Y)(parallel_install_install),registers.registerChartView(parallel_ParallelView),registers.registerSeriesModel(ParallelSeries),registers.registerVisual(registers.PRIORITY.VISUAL.BRUSH,parallel_parallelVisual)},function sankey_install_install(registers){registers.registerChartView(sankey_SankeyView),registers.registerSeriesModel(SankeySeries),registers.registerLayout(sankeyLayout),registers.registerVisual(sankeyVisual),registers.registerAction({type:"dragNode",event:"dragnode",update:"update"},function(payload,ecModel){ecModel.eachComponent({mainType:"series",subType:"sankey",query:payload},function(seriesModel){seriesModel.setNodePosition(payload.dataIndex,[payload.localX,payload.localY])})})},function boxplot_install_install(registers){registers.registerSeriesModel(BoxplotSeries),registers.registerChartView(boxplot_BoxplotView),registers.registerLayout(boxplotLayout),registers.registerTransform(boxplotTransform)},function candlestick_install_install(registers){registers.registerChartView(candlestick_CandlestickView),registers.registerSeriesModel(CandlestickSeries),registers.registerPreprocessor(candlestickPreprocessor),registers.registerVisual(candlestick_candlestickVisual),registers.registerLayout(candlestick_candlestickLayout)},function effectScatter_install_install(registers){registers.registerChartView(effectScatter_EffectScatterView),registers.registerSeriesModel(EffectScatterSeries),registers.registerLayout((0,layout_points.A)("effectScatter"))},function lines_install_install(registers){registers.registerChartView(lines_LinesView),registers.registerSeriesModel(LinesSeries),registers.registerLayout(lines_linesLayout),registers.registerVisual(lines_linesVisual)},heatmap_install.a,function installPictorialBar_install(registers){registers.registerChartView(bar_PictorialBarView),registers.registerSeriesModel(PictorialBarSeries),registers.registerLayout(registers.PRIORITY.VISUAL.LAYOUT,(0,util.curry)(barGrid.Zp,"pictorialBar")),registers.registerLayout(registers.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,(0,barGrid.KF)("pictorialBar"))},function themeRiver_install_install(registers){registers.registerChartView(themeRiver_ThemeRiverView),registers.registerSeriesModel(ThemeRiverSeries),registers.registerLayout(themeRiverLayout),registers.registerProcessor((0,dataFilter.A)("themeRiver"))},function sunburst_install_install(registers){registers.registerChartView(sunburst_SunburstView),registers.registerSeriesModel(SunburstSeries),registers.registerLayout((0,util.curry)(sunburstLayout,"sunburst")),registers.registerProcessor((0,util.curry)(dataFilter.A,"sunburst")),registers.registerVisual(sunburstVisual),function installSunburstAction(registers){registers.registerAction({type:"sunburstRootToNode",update:"updateView"},function(payload,ecModel){ecModel.eachComponent({mainType:"series",subType:"sunburst",query:payload},function handleRootToNode(model,index){var targetInfo=retrieveTargetInfo(payload,["sunburstRootToNode"],model);if(targetInfo){var originViewRoot=model.getViewRoot();originViewRoot&&(payload.direction=aboveViewRoot(originViewRoot,targetInfo.node)?"rollUp":"drillDown"),model.resetViewRoot(targetInfo.node)}})}),registers.registerAction({type:"sunburstHighlight",update:"none"},function(payload,ecModel,api){payload=(0,util.extend)({},payload),ecModel.eachComponent({mainType:"series",subType:"sunburst",query:payload},function handleHighlight(model){var targetInfo=retrieveTargetInfo(payload,["sunburstHighlight"],model);targetInfo&&(payload.dataIndex=targetInfo.node.dataIndex)}),api.dispatchAction((0,util.extend)(payload,{type:"highlight"}))}),registers.registerAction({type:"sunburstUnhighlight",update:"updateView"},function(payload,ecModel,api){payload=(0,util.extend)({},payload),api.dispatchAction((0,util.extend)(payload,{type:"downplay"}))})}(registers)},function custom_install_install(registers){registers.registerChartView(CustomView),registers.registerSeriesModel(CustomSeries)}]),(0,extension.Y)(grid_install.a),(0,extension.Y)(polar_install.a),(0,extension.Y)(install_install),(0,extension.Y)(function singleAxis_install_install(registers){(0,extension.Y)(axisPointer_install.a),AxisView.A.registerAxisPointerClass("SingleAxisPointer",axisPointer_SingleAxisPointer),registers.registerComponentView(SingleView),registers.registerComponentView(axis_SingleAxisView),registers.registerComponentModel(single_AxisModel),(0,axisModelCreator.A)(registers,"single",single_AxisModel,single_AxisModel.defaultOption),registers.registerCoordinateSystem("single",single_singleCreator)}),(0,extension.Y)(parallel_install_install),(0,extension.Y)(function calendar_install_install(registers){registers.registerComponentModel(calendar_CalendarModel),registers.registerComponentView(calendar_CalendarView),registers.registerCoordinateSystem("calendar",calendar_Calendar)}),(0,extension.Y)(function graphic_install_install(registers){registers.registerComponentModel(GraphicComponentModel),registers.registerComponentView(GraphicComponentView),registers.registerPreprocessor(function(option){var graphicOption=option.graphic;(0,util.isArray)(graphicOption)?graphicOption[0]&&graphicOption[0].elements?option.graphic=[option.graphic[0]]:option.graphic=[{elements:graphicOption}]:graphicOption&&!graphicOption.elements&&(option.graphic=[{elements:[graphicOption]}])})}),(0,extension.Y)(function toolbox_install_install(registers){registers.registerComponentModel(toolbox_ToolboxModel),registers.registerComponentView(toolbox_ToolboxView),registerFeature("saveAsImage",feature_SaveAsImage),registerFeature("magicType",feature_MagicType),registerFeature("dataView",feature_DataView),registerFeature("dataZoom",DataZoom),registerFeature("restore",Restore),(0,extension.Y)(installDataZoomSelect_install)}),(0,extension.Y)(tooltip_install.a),(0,extension.Y)(axisPointer_install.a),(0,extension.Y)(function brush_install_install(registers){registers.registerComponentView(brush_BrushView),registers.registerComponentModel(brush_BrushModel),registers.registerPreprocessor(brushPreprocessor),registers.registerVisual(registers.PRIORITY.VISUAL.BRUSH,brushVisual),registers.registerAction({type:"brush",event:"brush",update:"updateVisual"},function(payload,ecModel){ecModel.eachComponent({mainType:"brush",query:payload},function(brushModel){brushModel.setAreas(payload.areas)})}),registers.registerAction({type:"brushSelect",event:"brushSelected",update:"none"},util.noop),registers.registerAction({type:"brushEnd",event:"brushEnd",update:"none"},util.noop),registerFeature("brush",Brush)}),(0,extension.Y)(title_install.a),(0,extension.Y)(function timeline_install_install(registers){registers.registerComponentModel(timeline_SliderTimelineModel),registers.registerComponentView(timeline_SliderTimelineView),registers.registerSubTypeDefaulter("timeline",function(){return"slider"}),function installTimelineAction(registers){registers.registerAction({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},function(payload,ecModel,api){var timelineModel=ecModel.getComponent("timeline");return timelineModel&&null!=payload.currentIndex&&(timelineModel.setCurrentIndex(payload.currentIndex),!timelineModel.get("loop",!0)&&timelineModel.isIndexMax()&&timelineModel.getPlayState()&&(timelineModel.setPlayState(!1),api.dispatchAction({type:"timelinePlayChange",playState:!1,from:payload.from}))),ecModel.resetOption("timeline",{replaceMerge:timelineModel.get("replaceMerge",!0)}),(0,util.defaults)({currentIndex:timelineModel.option.currentIndex},payload)}),registers.registerAction({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},function(payload,ecModel){var timelineModel=ecModel.getComponent("timeline");timelineModel&&null!=payload.playState&&timelineModel.setPlayState(payload.playState)})}(registers),registers.registerPreprocessor(timelinePreprocessor)}),(0,extension.Y)(function installMarkPoint_install(registers){registers.registerComponentModel(marker_MarkPointModel),registers.registerComponentView(marker_MarkPointView),registers.registerPreprocessor(function(opt){checkMarkerInSeries(opt.series,"markPoint")&&(opt.markPoint=opt.markPoint||{})})}),(0,extension.Y)(function installMarkLine_install(registers){registers.registerComponentModel(marker_MarkLineModel),registers.registerComponentView(marker_MarkLineView),registers.registerPreprocessor(function(opt){checkMarkerInSeries(opt.series,"markLine")&&(opt.markLine=opt.markLine||{})})}),(0,extension.Y)(function installMarkArea_install(registers){registers.registerComponentModel(marker_MarkAreaModel),registers.registerComponentView(marker_MarkAreaView),registers.registerPreprocessor(function(opt){checkMarkerInSeries(opt.series,"markArea")&&(opt.markArea=opt.markArea||{})})}),(0,extension.Y)(legend_install.a),(0,extension.Y)(dataZoom_install.a),(0,extension.Y)(installDataZoomInside.a),(0,extension.Y)(installDataZoomSlider.a),(0,extension.Y)(visualMap_install.a),(0,extension.Y)(installVisualMapContinuous.a),(0,extension.Y)(installVisualMapPiecewise.a),(0,extension.Y)(function aria_install_install(registers){registers.registerPreprocessor(ariaPreprocessor),registers.registerVisual(registers.PRIORITY.VISUAL.ARIA,ariaVisual)}),(0,extension.Y)(function transform_install_install(registers){registers.registerTransform(filterTransform),registers.registerTransform(sortTransform)}),(0,extension.Y)(function dataset_install_install(registers){registers.registerComponentModel(DatasetModel),registers.registerComponentView(DatasetView)}),(0,extension.Y)(function installUniversalTransition(registers){registers.registerUpdateLifecycle("series:beforeupdate",function(ecMOdel,api,params){(0,util.each)((0,util_model.qB)(params.seriesTransition),function(transOpt){(0,util.each)((0,util_model.qB)(transOpt.to),function(finder){for(var series=params.updatedSeries,i=0;i<series.length;i++)(null!=finder.seriesIndex&&finder.seriesIndex===series[i].seriesIndex||null!=finder.seriesId&&finder.seriesId===series[i].id)&&(series[i][Series.U]=!0)})})}),registers.registerUpdateLifecycle("series:transition",function(ecModel,api,params){var globalStore=getUniversalTransitionGlobalStore(api);if(globalStore.oldSeries&&params.updatedSeries&&params.optionChanged){var transitionOpt=params.seriesTransition;if(transitionOpt)(0,util.each)((0,util_model.qB)(transitionOpt),function(opt){!function transitionSeriesFromOpt(transitionOpt,globalStore,params,api){var from=[],to=[];(0,util.each)((0,util_model.qB)(transitionOpt.from),function(finder){var idx=querySeries(globalStore.oldSeries,finder);idx>=0&&from.push({dataGroupId:globalStore.oldDataGroupIds[idx],data:globalStore.oldData[idx],divide:getDivideShapeFromData(globalStore.oldData[idx]),groupIdDim:finder.dimension})}),(0,util.each)((0,util_model.qB)(transitionOpt.to),function(finder){var idx=querySeries(params.updatedSeries,finder);if(idx>=0){var data=params.updatedSeries[idx].getData();to.push({dataGroupId:globalStore.oldDataGroupIds[idx],data,divide:getDivideShapeFromData(data),groupIdDim:finder.dimension})}}),from.length>0&&to.length>0&&transitionBetween(from,to,api)}(opt,globalStore,params,api)});else{var updateBatches_1=function findTransitionSeriesBatches(globalStore,params){var updateBatches=(0,util.createHashMap)(),oldDataMap=(0,util.createHashMap)(),oldDataMapForSplit=(0,util.createHashMap)();return(0,util.each)(globalStore.oldSeries,function(series,idx){var oldDataGroupId=globalStore.oldDataGroupIds[idx],oldData=globalStore.oldData[idx],transitionKey=getSeriesTransitionKey(series),transitionKeyStr=convertArraySeriesKeyToString(transitionKey);oldDataMap.set(transitionKeyStr,{dataGroupId:oldDataGroupId,data:oldData}),(0,util.isArray)(transitionKey)&&(0,util.each)(transitionKey,function(key){oldDataMapForSplit.set(key,{key:transitionKeyStr,dataGroupId:oldDataGroupId,data:oldData})})}),(0,util.each)(params.updatedSeries,function(series){if(series.isUniversalTransitionEnabled()&&series.isAnimationEnabled()){var newDataGroupId=series.get("dataGroupId"),newData=series.getData(),transitionKey=getSeriesTransitionKey(series),transitionKeyStr=convertArraySeriesKeyToString(transitionKey),oldData=oldDataMap.get(transitionKeyStr);if(oldData)updateBatches.set(transitionKeyStr,{oldSeries:[{dataGroupId:oldData.dataGroupId,divide:getDivideShapeFromData(oldData.data),data:oldData.data}],newSeries:[{dataGroupId:newDataGroupId,divide:getDivideShapeFromData(newData),data:newData}]});else if((0,util.isArray)(transitionKey)){var oldSeries_1=[];(0,util.each)(transitionKey,function(key){var oldData=oldDataMap.get(key);oldData.data&&oldSeries_1.push({dataGroupId:oldData.dataGroupId,divide:getDivideShapeFromData(oldData.data),data:oldData.data})}),oldSeries_1.length&&updateBatches.set(transitionKeyStr,{oldSeries:oldSeries_1,newSeries:[{dataGroupId:newDataGroupId,data:newData,divide:getDivideShapeFromData(newData)}]})}else{var oldData_1=oldDataMapForSplit.get(transitionKey);if(oldData_1){var batch=updateBatches.get(oldData_1.key);batch||(batch={oldSeries:[{dataGroupId:oldData_1.dataGroupId,data:oldData_1.data,divide:getDivideShapeFromData(oldData_1.data)}],newSeries:[]},updateBatches.set(oldData_1.key,batch)),batch.newSeries.push({dataGroupId:newDataGroupId,data:newData,divide:getDivideShapeFromData(newData)})}}}}),updateBatches}(globalStore,params);(0,util.each)(updateBatches_1.keys(),function(key){var batch=updateBatches_1.get(key);transitionBetween(batch.oldSeries,batch.newSeries,api)})}(0,util.each)(params.updatedSeries,function(series){series[Series.U]&&(series[Series.U]=!1)})}for(var allSeries=ecModel.getSeries(),savedSeries=globalStore.oldSeries=[],savedDataGroupIds=globalStore.oldDataGroupIds=[],savedData=globalStore.oldData=[],i=0;i<allSeries.length;i++){var data=allSeries[i].getData();data.count()<1e4&&(savedSeries.push(allSeries[i]),savedDataGroupIds.push(allSeries[i].get("dataGroupId")),savedData.push(data))}})}),(0,extension.Y)(installLabelLayout._);var react=__webpack_require__("./node_modules/react/index.js"),lib=__webpack_require__("./node_modules/size-sensor/lib/index.js");function pick(obj,keys){var r={};return keys.forEach(function(key){r[key]=obj[key]}),r}function isFunction(v){return"function"==typeof v}var fast_deep_equal=__webpack_require__("./node_modules/fast-deep-equal/index.js"),fast_deep_equal_default=__webpack_require__.n(fast_deep_equal);const esm=function(_super){function EChartsReact(props){var _this=_super.call(this,props)||this;return _this.echarts=echarts_namespaceObject,_this}return(0,tslib_es6.C6)(EChartsReact,_super),EChartsReact}(function(_super){function EChartsReactCore(props){var _this=_super.call(this,props)||this;return _this.echarts=props.echarts,_this.ele=null,_this.isInitialResize=!0,_this.eventHandlerRefs={},_this}return(0,tslib_es6.C6)(EChartsReactCore,_super),EChartsReactCore.prototype.componentDidMount=function(){this.renderNewEcharts()},EChartsReactCore.prototype.componentDidUpdate=function(prevProps){var shouldSetOption=this.props.shouldSetOption;if(!isFunction(shouldSetOption)||shouldSetOption(prevProps,this.props)){if(!fast_deep_equal_default()(prevProps.theme,this.props.theme)||!fast_deep_equal_default()(prevProps.opts,this.props.opts))return this.dispose(),void this.renderNewEcharts();var echartsInstance=this.getEchartsInstance();fast_deep_equal_default()(prevProps.onEvents,this.props.onEvents)||(this.unbindEvents(echartsInstance),this.bindEvents(echartsInstance,this.props.onEvents));var pickKeys=["option","notMerge","replaceMerge","lazyUpdate","showLoading","loadingOption"];fast_deep_equal_default()(pick(this.props,pickKeys),pick(prevProps,pickKeys))||this.updateEChartsOption(),fast_deep_equal_default()(prevProps.style,this.props.style)&&fast_deep_equal_default()(prevProps.className,this.props.className)||this.resize()}},EChartsReactCore.prototype.componentWillUnmount=function(){this.dispose()},EChartsReactCore.prototype.initEchartsInstance=function(){return(0,tslib_es6.sH)(this,void 0,void 0,function(){var _this=this;return(0,tslib_es6.YH)(this,function(_a){return[2,new Promise(function(resolve){_this.echarts.init(_this.ele,_this.props.theme,_this.props.opts),_this.getEchartsInstance().on("finished",function(){var width=_this.ele.clientWidth,height=_this.ele.clientHeight;_this.echarts.dispose(_this.ele);var opts=(0,tslib_es6.Cl)({width,height},_this.props.opts);resolve(_this.echarts.init(_this.ele,_this.props.theme,opts))})})]})})},EChartsReactCore.prototype.getEchartsInstance=function(){return this.echarts.getInstanceByDom(this.ele)},EChartsReactCore.prototype.dispose=function(){if(this.ele){try{(0,lib.IU)(this.ele)}catch(e){console.warn(e)}this.echarts.dispose(this.ele)}},EChartsReactCore.prototype.renderNewEcharts=function(){return(0,tslib_es6.sH)(this,void 0,void 0,function(){var _a,onEvents,onChartReady,_b,autoResize,echartsInstance,_this=this;return(0,tslib_es6.YH)(this,function(_c){switch(_c.label){case 0:return _a=this.props,onEvents=_a.onEvents,onChartReady=_a.onChartReady,_b=_a.autoResize,autoResize=void 0===_b||_b,[4,this.initEchartsInstance()];case 1:return _c.sent(),echartsInstance=this.updateEChartsOption(),this.bindEvents(echartsInstance,onEvents||{}),isFunction(onChartReady)&&onChartReady(echartsInstance),this.ele&&autoResize&&(0,lib.oI)(this.ele,function(){_this.resize()}),[2]}})})},EChartsReactCore.prototype.bindEvents=function(instance,events){var _this=this,_bindEvent=function(eventName,func){if(function isString(v){return"string"==typeof v}(eventName)&&isFunction(func)){var handler=function(param){func(param,instance)};instance.on(eventName,handler),_this.eventHandlerRefs[eventName]=handler}};for(var eventName in events)Object.prototype.hasOwnProperty.call(events,eventName)&&_bindEvent(eventName,events[eventName])},EChartsReactCore.prototype.unbindEvents=function(instance){for(var _i=0,_a=Object.entries(this.eventHandlerRefs);_i<_a.length;_i++){var _b=_a[_i],eventName=_b[0],listener=_b[1];instance.off(eventName,listener)}this.eventHandlerRefs={}},EChartsReactCore.prototype.updateEChartsOption=function(){var _a=this.props,option=_a.option,_b=_a.notMerge,notMerge=void 0!==_b&&_b,_c=_a.replaceMerge,replaceMerge=void 0===_c?null:_c,_d=_a.lazyUpdate,lazyUpdate=void 0!==_d&&_d,showLoading=_a.showLoading,_e=_a.loadingOption,loadingOption=void 0===_e?null:_e,echartInstance=this.getEchartsInstance();return echartInstance.setOption(option,{notMerge,replaceMerge,lazyUpdate}),showLoading?echartInstance.showLoading(loadingOption):echartInstance.hideLoading(),echartInstance},EChartsReactCore.prototype.resize=function(){var echartsInstance=this.getEchartsInstance();if(!this.isInitialResize)try{echartsInstance.resize({width:"auto",height:"auto"})}catch(e){console.warn(e)}this.isInitialResize=!1},EChartsReactCore.prototype.render=function(){var _this=this,_a=this.props,style=_a.style,_b=_a.className,className=void 0===_b?"":_b,divHTMLAttributes=(_a.echarts,_a.option,_a.theme,_a.notMerge,_a.replaceMerge,_a.lazyUpdate,_a.showLoading,_a.loadingOption,_a.opts,_a.onChartReady,_a.onEvents,_a.shouldSetOption,_a.autoResize,(0,tslib_es6.Tt)(_a,["style","className","echarts","option","theme","notMerge","replaceMerge","lazyUpdate","showLoading","loadingOption","opts","onChartReady","onEvents","shouldSetOption","autoResize"])),newStyle=(0,tslib_es6.Cl)({height:300},style);return react.createElement("div",(0,tslib_es6.Cl)({ref:function(e){_this.ele=e},style:newStyle,className:"echarts-for-react ".concat(className)},divHTMLAttributes))},EChartsReactCore}(react.PureComponent))},"./node_modules/echarts/core.js"(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Axis:()=>_lib_export_core_js__WEBPACK_IMPORTED_MODULE_0__._0,ChartView:()=>_lib_export_core_js__WEBPACK_IMPORTED_MODULE_0__.OZ,ComponentModel:()=>_lib_export_core_js__WEBPACK_IMPORTED_MODULE_0__.jT,ComponentView:()=>_lib_export_core_js__WEBPACK_IMPORTED_MODULE_0__.bR,List:()=>_lib_export_core_js__WEBPACK_IMPORTED_MODULE_0__.B8,Model:()=>_lib_export_core_js__WEBPACK_IMPORTED_MODULE_0__.Kx,PRIORITY:()=>_lib_export_core_js__WEBPACK_IMPORTED_MODULE_0__.FQ,SeriesModel:()=>_lib_export_core_js__WEBPACK_IMPORTED_MODULE_0__.rP,color:()=>_lib_export_core_js__WEBPACK_IMPORTED_MODULE_0__.yW,connect:()=>_lib_export_core_js__WEBPACK_IMPORTED_MODULE_0__.Ng,dataTool:()=>_lib_export_core_js__WEBPACK_IMPORTED_MODULE_0__.p5,dependencies:()=>_lib_export_core_js__WEBPACK_IMPORTED_MODULE_0__.El,disConnect:()=>_lib_export_core_js__WEBPACK_IMPORTED_MODULE_0__.zm,disconnect:()=>_lib_export_core_js__WEBPACK_IMPORTED_MODULE_0__.Zf,dispose:()=>_lib_export_core_js__WEBPACK_IMPORTED_MODULE_0__.AS,env:()=>_lib_export_core_js__WEBPACK_IMPORTED_MODULE_0__._K,extendChartView:()=>_lib_export_core_js__WEBPACK_IMPORTED_MODULE_0__.yX,extendComponentModel:()=>_lib_export_core_js__WEBPACK_IMPORTED_MODULE_0__.rt,extendComponentView:()=>_lib_export_core_js__WEBPACK_IMPORTED_MODULE_0__.NO,extendSeriesModel:()=>_lib_export_core_js__WEBPACK_IMPORTED_MODULE_0__.NA,format:()=>_lib_export_core_js__WEBPACK_IMPORTED_MODULE_0__.GP,getCoordinateSystemDimensions:()=>_lib_export_core_js__WEBPACK_IMPORTED_MODULE_0__.Bo,getInstanceByDom:()=>_lib_export_core_js__WEBPACK_IMPORTED_MODULE_0__.FP,getInstanceById:()=>_lib_export_core_js__WEBPACK_IMPORTED_MODULE_0__.aQ,getMap:()=>_lib_export_core_js__WEBPACK_IMPORTED_MODULE_0__.ZB,graphic:()=>_lib_export_core_js__WEBPACK_IMPORTED_MODULE_0__.fA,helper:()=>_lib_export_core_js__WEBPACK_IMPORTED_MODULE_0__.dw,init:()=>_lib_export_core_js__WEBPACK_IMPORTED_MODULE_0__.Ts,innerDrawElementOnCanvas:()=>_lib_export_core_js__WEBPACK_IMPORTED_MODULE_0__.UU,matrix:()=>_lib_export_core_js__WEBPACK_IMPORTED_MODULE_0__.UP,number:()=>_lib_export_core_js__WEBPACK_IMPORTED_MODULE_0__.ai,parseGeoJSON:()=>_lib_export_core_js__WEBPACK_IMPORTED_MODULE_0__.l3,parseGeoJson:()=>_lib_export_core_js__WEBPACK_IMPORTED_MODULE_0__.zI,registerAction:()=>_lib_export_core_js__WEBPACK_IMPORTED_MODULE_0__.OH,registerCoordinateSystem:()=>_lib_export_core_js__WEBPACK_IMPORTED_MODULE_0__.pX,registerLayout:()=>_lib_export_core_js__WEBPACK_IMPORTED_MODULE_0__.Oh,registerLoading:()=>_lib_export_core_js__WEBPACK_IMPORTED_MODULE_0__.Ej,registerLocale:()=>_lib_export_core_js__WEBPACK_IMPORTED_MODULE_0__.E,registerMap:()=>_lib_export_core_js__WEBPACK_IMPORTED_MODULE_0__.mz,registerPostInit:()=>_lib_export_core_js__WEBPACK_IMPORTED_MODULE_0__.cf,registerPostUpdate:()=>_lib_export_core_js__WEBPACK_IMPORTED_MODULE_0__.tb,registerPreprocessor:()=>_lib_export_core_js__WEBPACK_IMPORTED_MODULE_0__.lP,registerProcessor:()=>_lib_export_core_js__WEBPACK_IMPORTED_MODULE_0__.qg,registerTheme:()=>_lib_export_core_js__WEBPACK_IMPORTED_MODULE_0__.bf,registerTransform:()=>_lib_export_core_js__WEBPACK_IMPORTED_MODULE_0__.iY,registerUpdateLifecycle:()=>_lib_export_core_js__WEBPACK_IMPORTED_MODULE_0__.xV,registerVisual:()=>_lib_export_core_js__WEBPACK_IMPORTED_MODULE_0__.AF,setCanvasCreator:()=>_lib_export_core_js__WEBPACK_IMPORTED_MODULE_0__.vV,setPlatformAPI:()=>_lib_export_core_js__WEBPACK_IMPORTED_MODULE_0__.Gs,throttle:()=>_lib_export_core_js__WEBPACK_IMPORTED_MODULE_0__.nF,time:()=>_lib_export_core_js__WEBPACK_IMPORTED_MODULE_0__.kB,use:()=>_lib_export_core_js__WEBPACK_IMPORTED_MODULE_0__.Yx,util:()=>_lib_export_core_js__WEBPACK_IMPORTED_MODULE_0__.ZS,vector:()=>_lib_export_core_js__WEBPACK_IMPORTED_MODULE_0__.i1,version:()=>_lib_export_core_js__WEBPACK_IMPORTED_MODULE_0__.rE,zrUtil:()=>_lib_export_core_js__WEBPACK_IMPORTED_MODULE_0__.F_,zrender:()=>_lib_export_core_js__WEBPACK_IMPORTED_MODULE_0__.nd});var _lib_export_core_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/echarts/lib/export/core.js")},"./node_modules/echarts/lib/coord/geo/Region.js"(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{U5:()=>GeoSVGRegion,cn:()=>GeoJSONRegion,m5:()=>GeoJSONPolygonGeometry,nS:()=>GeoJSONLineStringGeometry});var tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),zrender_lib_core_BoundingRect_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/zrender/lib/core/BoundingRect.js"),zrender_lib_core_vector_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/zrender/lib/core/vector.js"),zrender_lib_contain_polygon_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/zrender/lib/contain/polygon.js"),zrender_lib_core_matrix_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/zrender/lib/core/matrix.js"),zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/zrender/lib/core/util.js"),TMP_TRANSFORM=[];function transformPoints(points,transform){for(var p=0;p<points.length;p++)zrender_lib_core_vector_js__WEBPACK_IMPORTED_MODULE_2__.applyTransform(points[p],points[p],transform)}function updateBBoxFromPoints(points,min,max,projection){for(var i=0;i<points.length;i++){var p=points[i];projection&&(p=projection.project(p)),p&&isFinite(p[0])&&isFinite(p[1])&&(zrender_lib_core_vector_js__WEBPACK_IMPORTED_MODULE_2__.min(min,min,p),zrender_lib_core_vector_js__WEBPACK_IMPORTED_MODULE_2__.max(max,max,p))}}var Region=function(){function Region(name){this.name=name}return Region.prototype.setCenter=function(center){this._center=center},Region.prototype.getCenter=function(){var center=this._center;return center||(center=this._center=this.calcCenter()),center},Region}(),GeoJSONPolygonGeometry=function GeoJSONPolygonGeometry(exterior,interiors){this.type="polygon",this.exterior=exterior,this.interiors=interiors},GeoJSONLineStringGeometry=function GeoJSONLineStringGeometry(points){this.type="linestring",this.points=points},GeoJSONRegion=function(_super){function GeoJSONRegion(name,geometries,cp){var _this=_super.call(this,name)||this;return _this.type="geoJSON",_this.geometries=geometries,_this._center=cp&&[cp[0],cp[1]],_this}return(0,tslib__WEBPACK_IMPORTED_MODULE_0__.C6)(GeoJSONRegion,_super),GeoJSONRegion.prototype.calcCenter=function(){for(var largestGeo,geometries=this.geometries,largestGeoSize=0,i=0;i<geometries.length;i++){var geo=geometries[i],exterior=geo.exterior,size=exterior&&exterior.length;size>largestGeoSize&&(largestGeo=geo,largestGeoSize=size)}if(largestGeo)return function centroid(points){for(var signedArea=0,cx=0,cy=0,len=points.length,x0=points[len-1][0],y0=points[len-1][1],i=0;i<len;i++){var x1=points[i][0],y1=points[i][1],a=x0*y1-x1*y0;signedArea+=a,cx+=(x0+x1)*a,cy+=(y0+y1)*a,x0=x1,y0=y1}return signedArea?[cx/signedArea/3,cy/signedArea/3,signedArea]:[points[0][0]||0,points[0][1]||0]}(largestGeo.exterior);var rect=this.getBoundingRect();return[rect.x+rect.width/2,rect.y+rect.height/2]},GeoJSONRegion.prototype.getBoundingRect=function(projection){var rect=this._rect;if(rect&&!projection)return rect;var min=[1/0,1/0],max=[-1/0,-1/0],geometries=this.geometries;return(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_5__.each)(geometries,function(geo){"polygon"===geo.type?updateBBoxFromPoints(geo.exterior,min,max,projection):(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_5__.each)(geo.points,function(points){updateBBoxFromPoints(points,min,max,projection)})}),isFinite(min[0])&&isFinite(min[1])&&isFinite(max[0])&&isFinite(max[1])||(min[0]=min[1]=max[0]=max[1]=0),rect=new zrender_lib_core_BoundingRect_js__WEBPACK_IMPORTED_MODULE_1__.A(min[0],min[1],max[0]-min[0],max[1]-min[1]),projection||(this._rect=rect),rect},GeoJSONRegion.prototype.contain=function(coord){var rect=this.getBoundingRect(),geometries=this.geometries;if(!rect.contain(coord[0],coord[1]))return!1;loopGeo:for(var i=0,len=geometries.length;i<len;i++){var geo=geometries[i];if("polygon"===geo.type){var exterior=geo.exterior,interiors=geo.interiors;if(zrender_lib_contain_polygon_js__WEBPACK_IMPORTED_MODULE_3__.l(exterior,coord[0],coord[1])){for(var k=0;k<(interiors?interiors.length:0);k++)if(zrender_lib_contain_polygon_js__WEBPACK_IMPORTED_MODULE_3__.l(interiors[k],coord[0],coord[1]))continue loopGeo;return!0}}}return!1},GeoJSONRegion.prototype.transformTo=function(x,y,width,height){var rect=this.getBoundingRect(),aspect=rect.width/rect.height;width?height||(height=width/aspect):width=aspect*height;for(var target=new zrender_lib_core_BoundingRect_js__WEBPACK_IMPORTED_MODULE_1__.A(x,y,width,height),transform=rect.calculateTransform(target),geometries=this.geometries,i=0;i<geometries.length;i++){var geo=geometries[i];"polygon"===geo.type?(transformPoints(geo.exterior,transform),(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_5__.each)(geo.interiors,function(interior){transformPoints(interior,transform)})):(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_5__.each)(geo.points,function(points){transformPoints(points,transform)})}(rect=this._rect).copy(target),this._center=[rect.x+rect.width/2,rect.y+rect.height/2]},GeoJSONRegion.prototype.cloneShallow=function(name){null==name&&(name=this.name);var newRegion=new GeoJSONRegion(name,this.geometries,this._center);return newRegion._rect=this._rect,newRegion.transformTo=null,newRegion},GeoJSONRegion}(Region),GeoSVGRegion=function(_super){function GeoSVGRegion(name,elOnlyForCalculate){var _this=_super.call(this,name)||this;return _this.type="geoSVG",_this._elOnlyForCalculate=elOnlyForCalculate,_this}return(0,tslib__WEBPACK_IMPORTED_MODULE_0__.C6)(GeoSVGRegion,_super),GeoSVGRegion.prototype.calcCenter=function(){for(var el=this._elOnlyForCalculate,rect=el.getBoundingRect(),center=[rect.x+rect.width/2,rect.y+rect.height/2],mat=zrender_lib_core_matrix_js__WEBPACK_IMPORTED_MODULE_4__.identity(TMP_TRANSFORM),target=el;target&&!target.isGeoSVGGraphicRoot;)zrender_lib_core_matrix_js__WEBPACK_IMPORTED_MODULE_4__.mul(mat,target.getLocalTransform(),mat),target=target.parent;return zrender_lib_core_matrix_js__WEBPACK_IMPORTED_MODULE_4__.invert(mat,mat),zrender_lib_core_vector_js__WEBPACK_IMPORTED_MODULE_2__.applyTransform(center,center,mat),center},GeoSVGRegion}(Region)},"./node_modules/echarts/lib/coord/geo/parseGeoJson.js"(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{A:()=>parseGeoJSON});var zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/zrender/lib/core/util.js"),_Region_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/echarts/lib/coord/geo/Region.js");function decodeRings(rings,encodeOffsets,encodeScale){for(var c=0;c<rings.length;c++)rings[c]=decodeRing(rings[c],encodeOffsets[c],encodeScale)}function decodeRing(coordinate,encodeOffsets,encodeScale){for(var result=[],prevX=encodeOffsets[0],prevY=encodeOffsets[1],i=0;i<coordinate.length;i+=2){var x=coordinate.charCodeAt(i)-64,y=coordinate.charCodeAt(i+1)-64;x=x>>1^-(1&x),y=y>>1^-(1&y),prevX=x+=prevX,prevY=y+=prevY,result.push([x/encodeScale,y/encodeScale])}return result}function parseGeoJSON(geoJson,nameProperty){return geoJson=function decode(json){if(!json.UTF8Encoding)return json;var jsonCompressed=json,encodeScale=jsonCompressed.UTF8Scale;null==encodeScale&&(encodeScale=1024);var features=jsonCompressed.features;return zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.each(features,function(feature){var geometry=feature.geometry,encodeOffsets=geometry.encodeOffsets,coordinates=geometry.coordinates;if(encodeOffsets)switch(geometry.type){case"LineString":geometry.coordinates=decodeRing(coordinates,encodeOffsets,encodeScale);break;case"Polygon":case"MultiLineString":decodeRings(coordinates,encodeOffsets,encodeScale);break;case"MultiPolygon":zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.each(coordinates,function(rings,idx){return decodeRings(rings,encodeOffsets[idx],encodeScale)})}}),jsonCompressed.UTF8Encoding=!1,jsonCompressed}(geoJson),zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.map(zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.filter(geoJson.features,function(featureObj){return featureObj.geometry&&featureObj.properties&&featureObj.geometry.coordinates.length>0}),function(featureObj){var properties=featureObj.properties,geo=featureObj.geometry,geometries=[];switch(geo.type){case"Polygon":var coordinates=geo.coordinates;geometries.push(new _Region_js__WEBPACK_IMPORTED_MODULE_1__.m5(coordinates[0],coordinates.slice(1)));break;case"MultiPolygon":zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__.each(geo.coordinates,function(item){item[0]&&geometries.push(new _Region_js__WEBPACK_IMPORTED_MODULE_1__.m5(item[0],item.slice(1)))});break;case"LineString":geometries.push(new _Region_js__WEBPACK_IMPORTED_MODULE_1__.nS([geo.coordinates]));break;case"MultiLineString":geometries.push(new _Region_js__WEBPACK_IMPORTED_MODULE_1__.nS(geo.coordinates))}var region=new _Region_js__WEBPACK_IMPORTED_MODULE_1__.cn(properties[nameProperty||"name"],geometries,properties.cp);return region.properties=properties,region})}},"./node_modules/echarts/lib/export/core.js"(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{_0:()=>Axis.A,OZ:()=>Chart.A,jT:()=>Component.A,bR:()=>view_Component.A,B8:()=>SeriesData.A,Kx:()=>Model.A,FQ:()=>echarts.FQ,rP:()=>Series.A,yW:()=>color,Ng:()=>echarts.Ng,p5:()=>echarts.p5,El:()=>echarts.El,zm:()=>echarts.zm,Zf:()=>echarts.Zf,AS:()=>echarts.AS,_K:()=>env.A,yX:()=>extendChartView,rt:()=>extendComponentModel,NO:()=>extendComponentView,NA:()=>extendSeriesModel,GP:()=>format_namespaceObject,Bo:()=>echarts.Bo,FP:()=>echarts.FP,aQ:()=>echarts.aQ,ZB:()=>echarts.ZB,fA:()=>graphic_namespaceObject,dw:()=>helper_namespaceObject,Ts:()=>echarts.Ts,UU:()=>canvas_graphic.Xi,UP:()=>matrix,ai:()=>number_namespaceObject,l3:()=>parseGeoJson.A,zI:()=>parseGeoJson.A,OH:()=>echarts.OH,pX:()=>echarts.pX,Oh:()=>echarts.Oh,Ej:()=>echarts.Ej,E:()=>echarts.E,mz:()=>echarts.mz,cf:()=>echarts.cf,tb:()=>echarts.tb,lP:()=>echarts.lP,qg:()=>echarts.qg,bf:()=>echarts.bf,iY:()=>echarts.iY,xV:()=>echarts.xV,AF:()=>echarts.AF,vV:()=>echarts.vV,Gs:()=>platform.Gs,nF:()=>throttle.nF,kB:()=>time_namespaceObject,Yx:()=>extension.Y,ZS:()=>util_namespaceObject,i1:()=>vector,rE:()=>echarts.rE,F_:()=>util,nd:()=>zrender});var helper_namespaceObject={};__webpack_require__.r(helper_namespaceObject),__webpack_require__.d(helper_namespaceObject,{createDimensions:()=>createDimensions.M,createList:()=>createList,createScale:()=>createScale,createSymbol:()=>symbol.v5,createTextStyle:()=>createTextStyle,dataStack:()=>dataStack,enableHoverEmphasis:()=>states.iJ,getECData:()=>innerStore.z,getLayoutRect:()=>layout.dV,mixinAxisModelCommonMethods:()=>mixinAxisModelCommonMethods});var number_namespaceObject={};__webpack_require__.r(number_namespaceObject),__webpack_require__.d(number_namespaceObject,{MAX_SAFE_INTEGER:()=>number.Is,asc:()=>number.Y6,getPercentWithPrecision:()=>number.wp,getPixelPrecision:()=>number.hb,getPrecision:()=>number.XV,getPrecisionSafe:()=>number.y6,isNumeric:()=>number.kf,isRadianAroundZero:()=>number.dh,linearMap:()=>number.Cb,nice:()=>number.Cm,numericToNumber:()=>number.Sm,parseDate:()=>number._U,quantile:()=>number.YV,quantity:()=>number.au,quantityExponent:()=>number.NX,reformIntervals:()=>number.sL,remRadian:()=>number._7,round:()=>number.LI});var time_namespaceObject={};__webpack_require__.r(time_namespaceObject),__webpack_require__.d(time_namespaceObject,{format:()=>time.GP,parse:()=>number._U});var graphic_namespaceObject={};__webpack_require__.r(graphic_namespaceObject),__webpack_require__.d(graphic_namespaceObject,{Arc:()=>Arc.A,BezierCurve:()=>BezierCurve.A,BoundingRect:()=>BoundingRect.A,Circle:()=>Circle.A,CompoundPath:()=>CompoundPath.A,Ellipse:()=>Ellipse.A,Group:()=>Group.A,Image:()=>Image.Ay,IncrementalDisplayable:()=>IncrementalDisplayable.A,Line:()=>Line.A,LinearGradient:()=>LinearGradient.A,Polygon:()=>Polygon.A,Polyline:()=>Polyline.A,RadialGradient:()=>RadialGradient.A,Rect:()=>Rect.A,Ring:()=>Ring.A,Sector:()=>Sector.A,Text:()=>Text.Ay,clipPointsByRect:()=>graphic.clipPointsByRect,clipRectByRect:()=>graphic.clipRectByRect,createIcon:()=>graphic.createIcon,extendPath:()=>graphic.extendPath,extendShape:()=>graphic.extendShape,getShapeClass:()=>graphic.getShapeClass,getTransform:()=>graphic.getTransform,initProps:()=>basicTransition.LW,makeImage:()=>graphic.makeImage,makePath:()=>graphic.makePath,mergePath:()=>graphic.mergePath,registerShape:()=>graphic.registerShape,resizePath:()=>graphic.resizePath,updateProps:()=>basicTransition.oi});var format_namespaceObject={};__webpack_require__.r(format_namespaceObject),__webpack_require__.d(format_namespaceObject,{addCommas:()=>format.ob,capitalFirst:()=>format.x5,encodeHTML:()=>dom.Me,formatTime:()=>format.fU,formatTpl:()=>format.YK,getTextRect:()=>getTextRect,getTooltipMarker:()=>format.qg,normalizeCssArray:()=>format.QX,toCamelCase:()=>format.Cb,truncateText:()=>parseText.EJ});var util_namespaceObject={};__webpack_require__.r(util_namespaceObject),__webpack_require__.d(util_namespaceObject,{bind:()=>util.bind,clone:()=>util.clone,curry:()=>util.curry,defaults:()=>util.defaults,each:()=>util.each,extend:()=>util.extend,filter:()=>util.filter,indexOf:()=>util.indexOf,inherits:()=>util.inherits,isArray:()=>util.isArray,isFunction:()=>util.isFunction,isObject:()=>util.isObject,isString:()=>util.isString,map:()=>util.map,merge:()=>util.merge,reduce:()=>util.reduce});var echarts=__webpack_require__("./node_modules/echarts/lib/core/echarts.js"),Component=__webpack_require__("./node_modules/echarts/lib/model/Component.js"),view_Component=__webpack_require__("./node_modules/echarts/lib/view/Component.js"),Series=__webpack_require__("./node_modules/echarts/lib/model/Series.js"),Chart=__webpack_require__("./node_modules/echarts/lib/view/Chart.js"),SeriesData=__webpack_require__("./node_modules/echarts/lib/data/SeriesData.js"),zrender=__webpack_require__("./node_modules/zrender/lib/zrender.js"),matrix=__webpack_require__("./node_modules/zrender/lib/core/matrix.js"),vector=__webpack_require__("./node_modules/zrender/lib/core/vector.js"),util=__webpack_require__("./node_modules/zrender/lib/core/util.js"),color=__webpack_require__("./node_modules/zrender/lib/tool/color.js"),throttle=__webpack_require__("./node_modules/echarts/lib/util/throttle.js"),createSeriesData=__webpack_require__("./node_modules/echarts/lib/chart/helper/createSeriesData.js"),axisHelper=__webpack_require__("./node_modules/echarts/lib/coord/axisHelper.js"),axisModelCommonMixin=__webpack_require__("./node_modules/echarts/lib/coord/axisModelCommonMixin.js"),Model=__webpack_require__("./node_modules/echarts/lib/model/Model.js"),layout=__webpack_require__("./node_modules/echarts/lib/util/layout.js"),dataStackHelper=__webpack_require__("./node_modules/echarts/lib/data/helper/dataStackHelper.js"),innerStore=__webpack_require__("./node_modules/echarts/lib/util/innerStore.js"),labelStyle=__webpack_require__("./node_modules/echarts/lib/label/labelStyle.js"),createDimensions=__webpack_require__("./node_modules/echarts/lib/data/helper/createDimensions.js"),symbol=__webpack_require__("./node_modules/echarts/lib/util/symbol.js"),states=__webpack_require__("./node_modules/echarts/lib/util/states.js");function createList(seriesModel){return(0,createSeriesData.A)(null,seriesModel)}var dataStack={isDimensionStacked:dataStackHelper.sJ,enableDataStack:dataStackHelper.iJ,getStackedDimension:dataStackHelper.me};function createScale(dataExtent,option){var axisModel=option;option instanceof Model.A||(axisModel=new Model.A(option));var scale=axisHelper.f$(axisModel);return scale.setExtent(dataExtent[0],dataExtent[1]),axisHelper.af(scale,axisModel),scale}function mixinAxisModelCommonMethods(Model){util.mixin(Model,axisModelCommonMixin.L)}function createTextStyle(textStyleModel,opts){return opts=opts||{},(0,labelStyle.VB)(textStyleModel,null,null,"normal"!==opts.state)}var extension=__webpack_require__("./node_modules/echarts/lib/extension.js"),platform=__webpack_require__("./node_modules/zrender/lib/core/platform.js"),parseGeoJson=__webpack_require__("./node_modules/echarts/lib/coord/geo/parseGeoJson.js"),number=__webpack_require__("./node_modules/echarts/lib/util/number.js"),time=__webpack_require__("./node_modules/echarts/lib/util/time.js"),graphic=__webpack_require__("./node_modules/echarts/lib/util/graphic.js"),basicTransition=__webpack_require__("./node_modules/echarts/lib/animation/basicTransition.js"),Group=__webpack_require__("./node_modules/zrender/lib/graphic/Group.js"),Image=__webpack_require__("./node_modules/zrender/lib/graphic/Image.js"),Text=__webpack_require__("./node_modules/zrender/lib/graphic/Text.js"),Circle=__webpack_require__("./node_modules/zrender/lib/graphic/shape/Circle.js"),Ellipse=__webpack_require__("./node_modules/zrender/lib/graphic/shape/Ellipse.js"),Sector=__webpack_require__("./node_modules/zrender/lib/graphic/shape/Sector.js"),Ring=__webpack_require__("./node_modules/zrender/lib/graphic/shape/Ring.js"),Polygon=__webpack_require__("./node_modules/zrender/lib/graphic/shape/Polygon.js"),Polyline=__webpack_require__("./node_modules/zrender/lib/graphic/shape/Polyline.js"),Rect=__webpack_require__("./node_modules/zrender/lib/graphic/shape/Rect.js"),Line=__webpack_require__("./node_modules/zrender/lib/graphic/shape/Line.js"),BezierCurve=__webpack_require__("./node_modules/zrender/lib/graphic/shape/BezierCurve.js"),Arc=__webpack_require__("./node_modules/zrender/lib/graphic/shape/Arc.js"),IncrementalDisplayable=__webpack_require__("./node_modules/zrender/lib/graphic/IncrementalDisplayable.js"),CompoundPath=__webpack_require__("./node_modules/zrender/lib/graphic/CompoundPath.js"),LinearGradient=__webpack_require__("./node_modules/zrender/lib/graphic/LinearGradient.js"),RadialGradient=__webpack_require__("./node_modules/zrender/lib/graphic/RadialGradient.js"),BoundingRect=__webpack_require__("./node_modules/zrender/lib/core/BoundingRect.js"),format=__webpack_require__("./node_modules/echarts/lib/util/format.js"),dom=__webpack_require__("./node_modules/zrender/lib/core/dom.js"),parseText=__webpack_require__("./node_modules/zrender/lib/graphic/helper/parseText.js");function getTextRect(text,font,align,verticalAlign,padding,rich,truncate,lineHeight){return new Text.Ay({style:{text,font,align,verticalAlign,padding,rich,overflow:truncate?"truncate":null,lineHeight}}).getBoundingRect()}var env=__webpack_require__("./node_modules/zrender/lib/core/env.js"),Axis=__webpack_require__("./node_modules/echarts/lib/coord/Axis.js"),canvas_graphic=__webpack_require__("./node_modules/zrender/lib/canvas/graphic.js");function extendComponentModel(proto){var Model=Component.A.extend(proto);return Component.A.registerClass(Model),Model}function extendComponentView(proto){var View=view_Component.A.extend(proto);return view_Component.A.registerClass(View),View}function extendSeriesModel(proto){var Model=Series.A.extend(proto);return Series.A.registerClass(Model),Model}function extendChartView(proto){var View=Chart.A.extend(proto);return Chart.A.registerClass(View),View}var installLabelLayout=__webpack_require__("./node_modules/echarts/lib/label/installLabelLayout.js");(0,extension.Y)(installLabelLayout._)},"./node_modules/echarts/lib/label/installLabelLayout.js"(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{_:()=>installLabelLayout});var model=__webpack_require__("./node_modules/echarts/lib/util/model.js"),BoundingRect=__webpack_require__("./node_modules/zrender/lib/core/BoundingRect.js"),basicTransition=__webpack_require__("./node_modules/echarts/lib/animation/basicTransition.js"),innerStore=__webpack_require__("./node_modules/echarts/lib/util/innerStore.js"),number=__webpack_require__("./node_modules/echarts/lib/util/number.js"),Transformable=__webpack_require__("./node_modules/zrender/lib/core/Transformable.js"),labelGuideHelper=__webpack_require__("./node_modules/echarts/lib/label/labelGuideHelper.js"),util=__webpack_require__("./node_modules/zrender/lib/core/util.js"),labelLayoutHelper=__webpack_require__("./node_modules/echarts/lib/label/labelLayoutHelper.js"),labelStyle=__webpack_require__("./node_modules/echarts/lib/label/labelStyle.js"),contain_util=__webpack_require__("./node_modules/zrender/lib/contain/util.js");function cloneArr(points){if(points){for(var newPoints=[],i=0;i<points.length;i++)newPoints.push(points[i].slice());return newPoints}}function prepareLayoutCallbackParams(labelItem,hostEl){var label=labelItem.label,labelLine=hostEl&&hostEl.getTextGuideLine();return{dataIndex:labelItem.dataIndex,dataType:labelItem.dataType,seriesIndex:labelItem.seriesModel.seriesIndex,text:labelItem.label.style.text,rect:labelItem.hostRect,labelRect:labelItem.rect,align:label.style.align,verticalAlign:label.style.verticalAlign,labelLinePoints:cloneArr(labelLine&&labelLine.shape.points)}}var LABEL_OPTION_TO_STYLE_KEYS=["align","verticalAlign","width","height","fontSize"],dummyTransformable=new Transformable.Ay,labelLayoutInnerStore=(0,model.$r)(),labelLineAnimationStore=(0,model.$r)();function extendWithKeys(target,source,keys){for(var i=0;i<keys.length;i++){var key=keys[i];null!=source[key]&&(target[key]=source[key])}}var LABEL_LAYOUT_PROPS=["x","y","rotation"];const label_LabelManager=function(){function LabelManager(){this._labelList=[],this._chartViewList=[]}return LabelManager.prototype.clearLabels=function(){this._labelList=[],this._chartViewList=[]},LabelManager.prototype._addLabel=function(dataIndex,dataType,seriesModel,label,layoutOption){var labelStyle=label.style,textConfig=label.__hostTarget.textConfig||{},labelTransform=label.getComputedTransform(),labelRect=label.getBoundingRect().plain();BoundingRect.A.applyTransform(labelRect,labelRect,labelTransform),labelTransform?dummyTransformable.setLocalTransform(labelTransform):(dummyTransformable.x=dummyTransformable.y=dummyTransformable.rotation=dummyTransformable.originX=dummyTransformable.originY=0,dummyTransformable.scaleX=dummyTransformable.scaleY=1),dummyTransformable.rotation=(0,contain_util.n)(dummyTransformable.rotation);var hostRect,host=label.__hostTarget;if(host){hostRect=host.getBoundingRect().plain();var transform=host.getComputedTransform();BoundingRect.A.applyTransform(hostRect,hostRect,transform)}var labelGuide=hostRect&&host.getTextGuideLine();this._labelList.push({label,labelLine:labelGuide,seriesModel,dataIndex,dataType,layoutOption,computedLayoutOption:null,rect:labelRect,hostRect,priority:hostRect?hostRect.width*hostRect.height:0,defaultAttr:{ignore:label.ignore,labelGuideIgnore:labelGuide&&labelGuide.ignore,x:dummyTransformable.x,y:dummyTransformable.y,scaleX:dummyTransformable.scaleX,scaleY:dummyTransformable.scaleY,rotation:dummyTransformable.rotation,style:{x:labelStyle.x,y:labelStyle.y,align:labelStyle.align,verticalAlign:labelStyle.verticalAlign,width:labelStyle.width,height:labelStyle.height,fontSize:labelStyle.fontSize},cursor:label.cursor,attachedPos:textConfig.position,attachedRot:textConfig.rotation}})},LabelManager.prototype.addLabelsOfSeries=function(chartView){var _this=this;this._chartViewList.push(chartView);var seriesModel=chartView.__model,layoutOption=seriesModel.get("labelLayout");((0,util.isFunction)(layoutOption)||(0,util.keys)(layoutOption).length)&&chartView.group.traverse(function(child){if(child.ignore)return!0;var textEl=child.getTextContent(),ecData=(0,innerStore.z)(child);textEl&&!textEl.disableLabelLayout&&_this._addLabel(ecData.dataIndex,ecData.dataType,seriesModel,textEl,layoutOption)})},LabelManager.prototype.updateLayoutConfig=function(api){var width=api.getWidth(),height=api.getHeight();function createDragHandler(el,labelLineModel){return function(){(0,labelGuideHelper.lB)(el,labelLineModel)}}for(var i=0;i<this._labelList.length;i++){var labelItem=this._labelList[i],label=labelItem.label,hostEl=label.__hostTarget,defaultLabelAttr=labelItem.defaultAttr,layoutOption=void 0;layoutOption=(layoutOption=(0,util.isFunction)(labelItem.layoutOption)?labelItem.layoutOption(prepareLayoutCallbackParams(labelItem,hostEl)):labelItem.layoutOption)||{},labelItem.computedLayoutOption=layoutOption;var degreeToRadian=Math.PI/180;hostEl&&hostEl.setTextConfig({local:!1,position:null!=layoutOption.x||null!=layoutOption.y?null:defaultLabelAttr.attachedPos,rotation:null!=layoutOption.rotate?layoutOption.rotate*degreeToRadian:defaultLabelAttr.attachedRot,offset:[layoutOption.dx||0,layoutOption.dy||0]});var needsUpdateLabelLine=!1;if(null!=layoutOption.x?(label.x=(0,number.lo)(layoutOption.x,width),label.setStyle("x",0),needsUpdateLabelLine=!0):(label.x=defaultLabelAttr.x,label.setStyle("x",defaultLabelAttr.style.x)),null!=layoutOption.y?(label.y=(0,number.lo)(layoutOption.y,height),label.setStyle("y",0),needsUpdateLabelLine=!0):(label.y=defaultLabelAttr.y,label.setStyle("y",defaultLabelAttr.style.y)),layoutOption.labelLinePoints){var guideLine=hostEl.getTextGuideLine();guideLine&&(guideLine.setShape({points:layoutOption.labelLinePoints}),needsUpdateLabelLine=!1)}labelLayoutInnerStore(label).needsUpdateLabelLine=needsUpdateLabelLine,label.rotation=null!=layoutOption.rotate?layoutOption.rotate*degreeToRadian:defaultLabelAttr.rotation,label.scaleX=defaultLabelAttr.scaleX,label.scaleY=defaultLabelAttr.scaleY;for(var k=0;k<LABEL_OPTION_TO_STYLE_KEYS.length;k++){var key=LABEL_OPTION_TO_STYLE_KEYS[k];label.setStyle(key,null!=layoutOption[key]?layoutOption[key]:defaultLabelAttr.style[key])}if(layoutOption.draggable){if(label.draggable=!0,label.cursor="move",hostEl){var hostModel=labelItem.seriesModel;if(null!=labelItem.dataIndex)hostModel=labelItem.seriesModel.getData(labelItem.dataType).getItemModel(labelItem.dataIndex);label.on("drag",createDragHandler(hostEl,hostModel.getModel("labelLine")))}}else label.off("drag"),label.cursor=defaultLabelAttr.cursor}},LabelManager.prototype.layout=function(api){var width=api.getWidth(),height=api.getHeight(),labelList=(0,labelLayoutHelper.os)(this._labelList),labelsNeedsAdjustOnX=(0,util.filter)(labelList,function(item){return"shiftX"===item.layoutOption.moveOverlap}),labelsNeedsAdjustOnY=(0,util.filter)(labelList,function(item){return"shiftY"===item.layoutOption.moveOverlap});(0,labelLayoutHelper.QX)(labelsNeedsAdjustOnX,0,width),(0,labelLayoutHelper.Xe)(labelsNeedsAdjustOnY,0,height);var labelsNeedsHideOverlap=(0,util.filter)(labelList,function(item){return item.layoutOption.hideOverlap});(0,labelLayoutHelper.If)(labelsNeedsHideOverlap)},LabelManager.prototype.processLabelsOverall=function(){var _this=this;(0,util.each)(this._chartViewList,function(chartView){var seriesModel=chartView.__model,ignoreLabelLineUpdate=chartView.ignoreLabelLineUpdate,animationEnabled=seriesModel.isAnimationEnabled();chartView.group.traverse(function(child){if(child.ignore&&!child.forceLabelAnimation)return!0;var needsUpdateLabelLine=!ignoreLabelLineUpdate,label=child.getTextContent();!needsUpdateLabelLine&&label&&(needsUpdateLabelLine=labelLayoutInnerStore(label).needsUpdateLabelLine),needsUpdateLabelLine&&_this._updateLabelLine(child,seriesModel),animationEnabled&&_this._animateLabels(child,seriesModel)})})},LabelManager.prototype._updateLabelLine=function(el,seriesModel){var textEl=el.getTextContent(),ecData=(0,innerStore.z)(el),dataIndex=ecData.dataIndex;if(textEl&&null!=dataIndex){var data=seriesModel.getData(ecData.dataType),itemModel=data.getItemModel(dataIndex),defaultStyle={},visualStyle=data.getItemVisual(dataIndex,"style");if(visualStyle){var visualType=data.getVisual("drawType");defaultStyle.stroke=visualStyle[visualType]}var labelLineModel=itemModel.getModel("labelLine");(0,labelGuideHelper.eR)(el,(0,labelGuideHelper.rv)(itemModel),defaultStyle),(0,labelGuideHelper.lB)(el,labelLineModel)}},LabelManager.prototype._animateLabels=function(el,seriesModel){var textEl=el.getTextContent(),guideLine=el.getTextGuideLine();if(textEl&&(el.forceLabelAnimation||!textEl.ignore&&!textEl.invisible&&!el.disableLabelAnimation&&!(0,basicTransition.LR)(el))){var oldLayout=(layoutStore=labelLayoutInnerStore(textEl)).oldLayout,ecData=(0,innerStore.z)(el),dataIndex=ecData.dataIndex,newProps={x:textEl.x,y:textEl.y,rotation:textEl.rotation},data=seriesModel.getData(ecData.dataType);if(oldLayout){textEl.attr(oldLayout);var prevStates=el.prevStates;prevStates&&((0,util.indexOf)(prevStates,"select")>=0&&textEl.attr(layoutStore.oldLayoutSelect),(0,util.indexOf)(prevStates,"emphasis")>=0&&textEl.attr(layoutStore.oldLayoutEmphasis)),(0,basicTransition.oi)(textEl,newProps,seriesModel,dataIndex)}else if(textEl.attr(newProps),!(0,labelStyle.Lu)(textEl).valueAnimation){var oldOpacity=(0,util.retrieve2)(textEl.style.opacity,1);textEl.style.opacity=0,(0,basicTransition.LW)(textEl,{style:{opacity:oldOpacity}},seriesModel,dataIndex)}if(layoutStore.oldLayout=newProps,textEl.states.select){var layoutSelect=layoutStore.oldLayoutSelect={};extendWithKeys(layoutSelect,newProps,LABEL_LAYOUT_PROPS),extendWithKeys(layoutSelect,textEl.states.select,LABEL_LAYOUT_PROPS)}if(textEl.states.emphasis){var layoutEmphasis=layoutStore.oldLayoutEmphasis={};extendWithKeys(layoutEmphasis,newProps,LABEL_LAYOUT_PROPS),extendWithKeys(layoutEmphasis,textEl.states.emphasis,LABEL_LAYOUT_PROPS)}(0,labelStyle.xb)(textEl,dataIndex,data,seriesModel,seriesModel)}if(guideLine&&!guideLine.ignore&&!guideLine.invisible){oldLayout=(layoutStore=labelLineAnimationStore(guideLine)).oldLayout;var layoutStore,newLayout={points:guideLine.shape.points};oldLayout?(guideLine.attr({shape:oldLayout}),(0,basicTransition.oi)(guideLine,{shape:newLayout},seriesModel)):(guideLine.setShape(newLayout),guideLine.style.strokePercent=0,(0,basicTransition.LW)(guideLine,{style:{strokePercent:1}},seriesModel)),layoutStore.oldLayout=newLayout}},LabelManager}();var getLabelManager=(0,model.$r)();function installLabelLayout(registers){registers.registerUpdateLifecycle("series:beforeupdate",function(ecModel,api,params){var labelManager=getLabelManager(api).labelManager;labelManager||(labelManager=getLabelManager(api).labelManager=new label_LabelManager),labelManager.clearLabels()}),registers.registerUpdateLifecycle("series:layoutlabels",function(ecModel,api,params){var labelManager=getLabelManager(api).labelManager;params.updatedSeries.forEach(function(series){labelManager.addLabelsOfSeries(api.getViewOfSeriesModel(series))}),labelManager.updateLayoutConfig(api),labelManager.layout(api),labelManager.processLabelsOverall()})}},"./node_modules/fast-deep-equal/index.js"(module){module.exports=function equal(a,b){if(a===b)return!0;if(a&&b&&"object"==typeof a&&"object"==typeof b){if(a.constructor!==b.constructor)return!1;var length,i,keys;if(Array.isArray(a)){if((length=a.length)!=b.length)return!1;for(i=length;0!==i--;)if(!equal(a[i],b[i]))return!1;return!0}if(a.constructor===RegExp)return a.source===b.source&&a.flags===b.flags;if(a.valueOf!==Object.prototype.valueOf)return a.valueOf()===b.valueOf();if(a.toString!==Object.prototype.toString)return a.toString()===b.toString();if((length=(keys=Object.keys(a)).length)!==Object.keys(b).length)return!1;for(i=length;0!==i--;)if(!Object.prototype.hasOwnProperty.call(b,keys[i]))return!1;for(i=length;0!==i--;){var key=keys[i];if(!equal(a[key],b[key]))return!1}return!0}return a!=a&&b!=b}},"./node_modules/size-sensor/lib/constant.js"(__unused_webpack_module,exports){Object.defineProperty(exports,"__esModule",{value:!0}),exports.SizeSensorId=exports.SensorTabIndex=exports.SensorClassName=void 0;exports.SizeSensorId="size-sensor-id",exports.SensorClassName="size-sensor-object",exports.SensorTabIndex="-1"},"./node_modules/size-sensor/lib/debounce.js"(__unused_webpack_module,exports){Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;exports.default=function _default(fn){var delay=arguments.length>1&&void 0!==arguments[1]?arguments[1]:60,timer=null;return function(){for(var _this=this,_len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];clearTimeout(timer),timer=setTimeout(function(){fn.apply(_this,args)},delay)}}},"./node_modules/size-sensor/lib/id.js"(__unused_webpack_module,exports){Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var id=1;exports.default=function _default(){return"".concat(id++)}},"./node_modules/size-sensor/lib/index.js"(__unused_webpack_module,exports,__webpack_require__){exports.IU=exports.oI=void 0;var _sensorPool=__webpack_require__("./node_modules/size-sensor/lib/sensorPool.js");exports.oI=function bind(element,cb){var sensor=(0,_sensorPool.getSensor)(element);return sensor.bind(cb),function(){sensor.unbind(cb)}},exports.IU=function clear(element){var sensor=(0,_sensorPool.getSensor)(element);(0,_sensorPool.removeSensor)(sensor)}},"./node_modules/size-sensor/lib/sensorPool.js"(__unused_webpack_module,exports,__webpack_require__){Object.defineProperty(exports,"__esModule",{value:!0}),exports.removeSensor=exports.getSensor=exports.Sensors=void 0;var _id=function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}(__webpack_require__("./node_modules/size-sensor/lib/id.js")),_sensors=__webpack_require__("./node_modules/size-sensor/lib/sensors/index.js"),_constant=__webpack_require__("./node_modules/size-sensor/lib/constant.js");var Sensors=exports.Sensors={};function clean(sensorId){sensorId&&Sensors[sensorId]&&delete Sensors[sensorId]}exports.getSensor=function getSensor(element){var sensorId=element.getAttribute(_constant.SizeSensorId);if(sensorId&&Sensors[sensorId])return Sensors[sensorId];var newId=(0,_id.default)();element.setAttribute(_constant.SizeSensorId,newId);var sensor=(0,_sensors.createSensor)(element,function(){return clean(newId)});return Sensors[newId]=sensor,sensor},exports.removeSensor=function removeSensor(sensor){var sensorId=sensor.element.getAttribute(_constant.SizeSensorId);sensor.destroy(),clean(sensorId)}},"./node_modules/size-sensor/lib/sensors/index.js"(__unused_webpack_module,exports,__webpack_require__){Object.defineProperty(exports,"__esModule",{value:!0}),exports.createSensor=void 0;var _object=__webpack_require__("./node_modules/size-sensor/lib/sensors/object.js"),_resizeObserver=__webpack_require__("./node_modules/size-sensor/lib/sensors/resizeObserver.js");exports.createSensor="undefined"!=typeof ResizeObserver?_resizeObserver.createSensor:_object.createSensor},"./node_modules/size-sensor/lib/sensors/object.js"(__unused_webpack_module,exports,__webpack_require__){Object.defineProperty(exports,"__esModule",{value:!0}),exports.createSensor=void 0;var _debounce=function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}(__webpack_require__("./node_modules/size-sensor/lib/debounce.js")),_constant=__webpack_require__("./node_modules/size-sensor/lib/constant.js");exports.createSensor=function createSensor(element,whenDestroy){var sensor=void 0,listeners=[],resizeListener=(0,_debounce.default)(function(){listeners.forEach(function(listener){listener(element)})}),destroy=function destroy(){sensor&&sensor.parentNode&&(sensor.contentDocument&&sensor.contentDocument.defaultView.removeEventListener("resize",resizeListener),sensor.parentNode.removeChild(sensor),element.removeAttribute(_constant.SizeSensorId),sensor=void 0,listeners=[],whenDestroy&&whenDestroy())};return{element,bind:function bind(cb){sensor||(sensor=function newSensor(){"static"===getComputedStyle(element).position&&(element.style.position="relative");var obj=document.createElement("object");return obj.onload=function(){obj.contentDocument.defaultView.addEventListener("resize",resizeListener),resizeListener()},obj.style.display="block",obj.style.position="absolute",obj.style.top="0",obj.style.left="0",obj.style.height="100%",obj.style.width="100%",obj.style.overflow="hidden",obj.style.pointerEvents="none",obj.style.zIndex="-1",obj.style.opacity="0",obj.setAttribute("class",_constant.SensorClassName),obj.setAttribute("tabindex",_constant.SensorTabIndex),obj.type="text/html",element.appendChild(obj),obj.data="about:blank",obj}()),-1===listeners.indexOf(cb)&&listeners.push(cb)},destroy,unbind:function unbind(cb){var idx=listeners.indexOf(cb);-1!==idx&&listeners.splice(idx,1),0===listeners.length&&sensor&&destroy()}}}},"./node_modules/size-sensor/lib/sensors/resizeObserver.js"(__unused_webpack_module,exports,__webpack_require__){Object.defineProperty(exports,"__esModule",{value:!0}),exports.createSensor=void 0;var _constant=__webpack_require__("./node_modules/size-sensor/lib/constant.js"),_debounce=function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}(__webpack_require__("./node_modules/size-sensor/lib/debounce.js"));exports.createSensor=function createSensor(element,whenDestroy){var sensor=void 0,listeners=[],resizeListener=(0,_debounce.default)(function(){listeners.forEach(function(listener){listener(element)})}),destroy=function destroy(){sensor&&sensor.disconnect(),listeners=[],sensor=void 0,element.removeAttribute(_constant.SizeSensorId),whenDestroy&&whenDestroy()};return{element,bind:function bind(cb){sensor||(sensor=function newSensor(){var s=new ResizeObserver(resizeListener);return s.observe(element),resizeListener(),s}()),-1===listeners.indexOf(cb)&&listeners.push(cb)},destroy,unbind:function unbind(cb){var idx=listeners.indexOf(cb);-1!==idx&&listeners.splice(idx,1),0===listeners.length&&sensor&&destroy()}}}},"./node_modules/zrender/lib/contain/polygon.js"(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{l:()=>contain});var _windingLine_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/zrender/lib/contain/windingLine.js");function isAroundEqual(a,b){return Math.abs(a-b)<1e-8}function contain(points,x,y){var w=0,p=points[0];if(!p)return!1;for(var i=1;i<points.length;i++){var p2=points[i];w+=(0,_windingLine_js__WEBPACK_IMPORTED_MODULE_0__.A)(p[0],p[1],p2[0],p2[1],x,y),p=p2}var p0=points[0];return isAroundEqual(p[0],p0[0])&&isAroundEqual(p[1],p0[1])||(w+=(0,_windingLine_js__WEBPACK_IMPORTED_MODULE_0__.A)(p[0],p[1],p0[0],p0[1],x,y)),0!==w}}}]);