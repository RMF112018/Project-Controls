"use strict";(self.webpackChunkhbc_project_controls=self.webpackChunkhbc_project_controls||[]).push([[470],{"./src/webparts/hbcProjectControls/components/guards/RoleGate.stories.tsx"(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{RoleBlocked:()=>RoleBlocked,RoleMatches:()=>RoleMatches,__namedExportsOrder:()=>__namedExportsOrder,default:()=>RoleGate_stories});var react=__webpack_require__("./node_modules/react/index.js"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),AppContext=__webpack_require__("./src/webparts/hbcProjectControls/components/contexts/AppContext.tsx");const RoleGate=({allowedRoles,children,fallback=null})=>{const{currentUser}=(0,AppContext.Us)();if(!currentUser)return(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:fallback});return currentUser.roles.some(role=>allowedRoles.includes(role))?(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children}):(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:fallback})};try{RoleGate.displayName="RoleGate",RoleGate.__docgenInfo={description:"",displayName:"RoleGate",props:{allowedRoles:{defaultValue:null,description:"",name:"allowedRoles",required:!0,type:{name:"RoleName[]"}},fallback:{defaultValue:{value:"null"},description:"",name:"fallback",required:!1,type:{name:"ReactNode"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/webparts/hbcProjectControls/components/guards/RoleGate.tsx#RoleGate"]={docgenInfo:RoleGate.__docgenInfo,name:"RoleGate",path:"src/webparts/hbcProjectControls/components/guards/RoleGate.tsx#RoleGate"})}catch(__react_docgen_typescript_loader_error){}var src=__webpack_require__("./packages/hbc-sp-services/src/index.ts");const RoleGate_stories={title:"Guards/RoleGate",component:RoleGate,tags:["autodocs"]},execDs=new src.IOp;execDs.setCurrentUserRole(src.wyF.ExecutiveLeadership);const RoleMatches={parameters:{dataService:execDs},args:{allowedRoles:[src.wyF.ExecutiveLeadership,src.wyF.IDS],children:react.createElement("div",{style:{padding:16,background:"#D1FAE5",borderRadius:4}},"âœ… Content visible â€” Executive Leadership role has access"),fallback:react.createElement("div",{style:{padding:16,color:"#EF4444"}},"ðŸš« Access denied")}},bdRepDs=new src.IOp;bdRepDs.setCurrentUserRole(src.wyF.BDRepresentative);const RoleBlocked={parameters:{dataService:bdRepDs},args:{allowedRoles:[src.wyF.ExecutiveLeadership],children:react.createElement("div",{style:{padding:16,background:"#D1FAE5",borderRadius:4}},"âœ… Content visible"),fallback:react.createElement("div",{style:{padding:16,color:"#EF4444",background:"#FEF2F2",borderRadius:4}},"ðŸš« Access denied â€” BD Representative cannot see admin content")}},__namedExportsOrder=["RoleMatches","RoleBlocked"];RoleMatches.parameters={...RoleMatches.parameters,docs:{...RoleMatches.parameters?.docs,source:{originalSource:"{\n  parameters: {\n    dataService: execDs\n  },\n  args: {\n    allowedRoles: [RoleName.ExecutiveLeadership, RoleName.IDS],\n    children: React.createElement('div', {\n      style: {\n        padding: 16,\n        background: '#D1FAE5',\n        borderRadius: 4\n      }\n    }, 'âœ… Content visible â€” Executive Leadership role has access'),\n    fallback: React.createElement('div', {\n      style: {\n        padding: 16,\n        color: '#EF4444'\n      }\n    }, 'ðŸš« Access denied')\n  }\n}",...RoleMatches.parameters?.docs?.source}}},RoleBlocked.parameters={...RoleBlocked.parameters,docs:{...RoleBlocked.parameters?.docs,source:{originalSource:"{\n  parameters: {\n    dataService: bdRepDs\n  },\n  args: {\n    allowedRoles: [RoleName.ExecutiveLeadership],\n    children: React.createElement('div', {\n      style: {\n        padding: 16,\n        background: '#D1FAE5',\n        borderRadius: 4\n      }\n    }, 'âœ… Content visible'),\n    fallback: React.createElement('div', {\n      style: {\n        padding: 16,\n        color: '#EF4444',\n        background: '#FEF2F2',\n        borderRadius: 4\n      }\n    }, 'ðŸš« Access denied â€” BD Representative cannot see admin content')\n  }\n}",...RoleBlocked.parameters?.docs?.source}}}}}]);