"use strict";(self.webpackChunkhbc_project_controls=self.webpackChunkhbc_project_controls||[]).push([[778],{"./src/webparts/hbcProjectControls/components/shared/HbcEChart.stories.tsx"(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{BarChart:()=>BarChart,DonutChart:()=>DonutChart,EmptyState:()=>EmptyState,LoadingState:()=>LoadingState,RealTimeUpdate:()=>RealTimeUpdate,__namedExportsOrder:()=>__namedExportsOrder,default:()=>__WEBPACK_DEFAULT_EXPORT__});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/jsx-runtime.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/index.js"),_HbcEChart__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/webparts/hbcProjectControls/components/shared/HbcEChart.tsx");const __WEBPACK_DEFAULT_EXPORT__={title:"Shared/HbcEChart",component:_HbcEChart__WEBPACK_IMPORTED_MODULE_2__.D,tags:["autodocs"],parameters:{layout:"padded"}},BarChartStory=()=>{const option=(0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>({xAxis:{type:"category",data:["Jan","Feb","Mar","Apr","May"]},yAxis:{type:"value"},series:[{data:[12,19,3,5,8],type:"bar",name:"Leads"}]}),[]);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_HbcEChart__WEBPACK_IMPORTED_MODULE_2__.D,{option,height:320,ariaLabel:"Monthly lead count bar chart"})},BarChart={render:()=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(BarChartStory,{})},DonutStory=()=>{const option=(0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>({series:[{type:"pie",radius:["40%","70%"],data:[{value:12,name:"Go"},{value:4,name:"No-Go"},{value:3,name:"Conditional"}]}]}),[]);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_HbcEChart__WEBPACK_IMPORTED_MODULE_2__.D,{option,height:320,ariaLabel:"Go/No-Go decision donut chart"})},DonutChart={render:()=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(DonutStory,{})},LoadingState={args:{option:{},height:320,loading:!0,ariaLabel:"Loading chart"}},EmptyState={args:{option:{},height:320,empty:!0,emptyMessage:"No data for this period",ariaLabel:"Empty chart"}},RealTimeStory=()=>{const[data,setData]=react__WEBPACK_IMPORTED_MODULE_1__.useState([12,19,3,5,8]);react__WEBPACK_IMPORTED_MODULE_1__.useEffect(()=>{const interval=setTimeout(()=>setData([18,24,7,11,15]),2e3);return()=>clearTimeout(interval)},[]);const option=(0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>({xAxis:{type:"category",data:["Mon","Tue","Wed","Thu","Fri"]},yAxis:{type:"value"},series:[{data,type:"bar",name:"Daily Submittals"}]}),[data]);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{"aria-live":"polite","aria-label":"Daily submittals chart — updates in real time",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_HbcEChart__WEBPACK_IMPORTED_MODULE_2__.D,{option,height:320,ariaLabel:"Daily submittals bar chart"})})},RealTimeUpdate={render:()=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(RealTimeStory,{})},__namedExportsOrder=["BarChart","DonutChart","LoadingState","EmptyState","RealTimeUpdate"];BarChart.parameters={...BarChart.parameters,docs:{...BarChart.parameters?.docs,source:{originalSource:"{\n  render: () => <BarChartStory />\n}",...BarChart.parameters?.docs?.source}}},DonutChart.parameters={...DonutChart.parameters,docs:{...DonutChart.parameters?.docs,source:{originalSource:"{\n  render: () => <DonutStory />\n}",...DonutChart.parameters?.docs?.source}}},LoadingState.parameters={...LoadingState.parameters,docs:{...LoadingState.parameters?.docs,source:{originalSource:"{\n  args: {\n    option: {},\n    height: 320,\n    loading: true,\n    ariaLabel: 'Loading chart'\n  }\n}",...LoadingState.parameters?.docs?.source}}},EmptyState.parameters={...EmptyState.parameters,docs:{...EmptyState.parameters?.docs,source:{originalSource:"{\n  args: {\n    option: {},\n    height: 320,\n    empty: true,\n    emptyMessage: 'No data for this period',\n    ariaLabel: 'Empty chart'\n  }\n}",...EmptyState.parameters?.docs?.source}}},RealTimeUpdate.parameters={...RealTimeUpdate.parameters,docs:{...RealTimeUpdate.parameters?.docs,source:{originalSource:"{\n  render: () => <RealTimeStory />\n}",...RealTimeUpdate.parameters?.docs?.source}}}},"./src/webparts/hbcProjectControls/components/shared/HbcEChart.tsx"(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{D:()=>HbcEChart});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/jsx-runtime.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/index.js"),_fluentui_react_components__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@griffel/react/makeStyles.esm.js"),_fluentui_react_components__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@fluentui/tokens/lib/tokens.js");const DEFAULT_ANIMATION_duration=600,DEFAULT_ANIMATION_easing="cubicOut",DEFAULT_ANIMATION_durationUpdate=300,DEFAULT_ANIMATION_easingUpdate="cubicOut",useStyles=(0,_fluentui_react_components__WEBPACK_IMPORTED_MODULE_2__.n)({container:{position:"relative",width:"100%"},emptyState:{display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:_fluentui_react_components__WEBPACK_IMPORTED_MODULE_3__.L.colorNeutralBackground2,borderRadius:_fluentui_react_components__WEBPACK_IMPORTED_MODULE_3__.L.borderRadiusMedium,color:_fluentui_react_components__WEBPACK_IMPORTED_MODULE_3__.L.colorNeutralForeground3,fontSize:_fluentui_react_components__WEBPACK_IMPORTED_MODULE_3__.L.fontSizeBase200}}),srOnly={position:"absolute",width:"1px",height:"1px",overflow:"hidden",clip:"rect(0,0,0,0)",whiteSpace:"nowrap"},HbcEChart=({option,height=300,width="100%",loading=!1,empty=!1,emptyMessage="No data available",style,notMerge=!1,lazyUpdate=!1,ariaLabel,ariaDescription,onEvents,onChartReady})=>{const styles=useStyles(),chartRef=react__WEBPACK_IMPORTED_MODULE_1__.useRef(null),containerRef=react__WEBPACK_IMPORTED_MODULE_1__.useRef(null),[runtime,setRuntime]=react__WEBPACK_IMPORTED_MODULE_1__.useState(null),descriptionId=react__WEBPACK_IMPORTED_MODULE_1__.useId();react__WEBPACK_IMPORTED_MODULE_1__.useEffect(()=>{let isMounted=!0;return(async()=>{const[echartsReactMod,echartsCoreMod,themeMod]=await Promise.all([__webpack_require__.e(354).then(__webpack_require__.bind(__webpack_require__,"./node_modules/echarts-for-react/esm/index.js")),__webpack_require__.e(354).then(__webpack_require__.bind(__webpack_require__,"./node_modules/echarts/core.js")),__webpack_require__.e(354).then(__webpack_require__.bind(__webpack_require__,"./src/webparts/hbcProjectControls/theme/hbcEChartsTheme.ts"))]);themeMod.registerHbcTheme(),isMounted&&setRuntime({ReactECharts:echartsReactMod.default,echartsCore:echartsCoreMod,animation:{duration:themeMod.HBC_ANIMATION.duration,easing:themeMod.HBC_ANIMATION.easing,durationUpdate:themeMod.HBC_ANIMATION.durationUpdate,easingUpdate:themeMod.HBC_ANIMATION.easingUpdate}})})().catch(err=>{console.error("[HbcEChart] Failed to load ECharts runtime:",err)}),()=>{isMounted=!1}},[]);const mergedOption=react__WEBPACK_IMPORTED_MODULE_1__.useMemo(()=>{var _a,_b,_c,_d;return Object.assign({animation:!0,animationDuration:null!==(_a=null==runtime?void 0:runtime.animation.duration)&&void 0!==_a?_a:DEFAULT_ANIMATION_duration,animationEasing:null!==(_b=null==runtime?void 0:runtime.animation.easing)&&void 0!==_b?_b:DEFAULT_ANIMATION_easing,animationDurationUpdate:null!==(_c=null==runtime?void 0:runtime.animation.durationUpdate)&&void 0!==_c?_c:DEFAULT_ANIMATION_durationUpdate,animationEasingUpdate:null!==(_d=null==runtime?void 0:runtime.animation.easingUpdate)&&void 0!==_d?_d:DEFAULT_ANIMATION_easingUpdate},option)},[option,runtime]);if(react__WEBPACK_IMPORTED_MODULE_1__.useEffect(()=>{if(!containerRef.current)return;const observer=new ResizeObserver(()=>{var _a,_b;const instance=null===(_b=null===(_a=chartRef.current)||void 0===_a?void 0:_a.getEchartsInstance)||void 0===_b?void 0:_b.call(_a);instance&&instance.resize()});return observer.observe(containerRef.current),()=>observer.disconnect()},[]),empty)return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{ref:containerRef,className:styles.emptyState,style:Object.assign({height,width},style),role:"img","aria-label":null!=ariaLabel?ariaLabel:"Empty chart",children:emptyMessage});if(!runtime)return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{ref:containerRef,className:styles.emptyState,style:Object.assign({height,width},style),role:"status","aria-live":"polite",children:"Loading chart..."});const ReactECharts=runtime.ReactECharts;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{ref:containerRef,className:styles.container,style:Object.assign({height,width},style),role:"img","aria-label":ariaLabel,"aria-describedby":ariaDescription?descriptionId:void 0,children:[ariaDescription&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p",{id:descriptionId,style:srOnly,children:ariaDescription}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ReactECharts,{ref:chartRef,echarts:runtime.echartsCore,option:mergedOption,theme:"hbc",notMerge,lazyUpdate,showLoading:loading,loadingOption:{text:"",color:"#1B2A4A",maskColor:"rgba(255, 255, 255, 0.7)"},opts:{renderer:"canvas",useDirtyRect:!0},onEvents,onChartReady,style:{height:"100%",width:"100%"}})]})};try{HbcEChart.displayName="HbcEChart",HbcEChart.__docgenInfo={description:"",displayName:"HbcEChart",props:{option:{defaultValue:null,description:"The ECharts option object — should be built via useMemo in consuming component",name:"option",required:!0,type:{name:"EChartsOption"}},height:{defaultValue:{value:"300"},description:"Chart height in pixels. Defaults to 300.",name:"height",required:!1,type:{name:"number"}},width:{defaultValue:{value:"100%"},description:"Chart width. Defaults to '100%'.",name:"width",required:!1,type:{name:"string | number"}},loading:{defaultValue:{value:"false"},description:"Shows loading overlay when true",name:"loading",required:!1,type:{name:"boolean"}},empty:{defaultValue:{value:"false"},description:"Shows empty state when true",name:"empty",required:!1,type:{name:"boolean"}},emptyMessage:{defaultValue:{value:"No data available"},description:"Message shown in empty state",name:"emptyMessage",required:!1,type:{name:"string"}},style:{defaultValue:null,description:"Additional container styles",name:"style",required:!1,type:{name:"CSSProperties"}},notMerge:{defaultValue:{value:"false"},description:"When false (default), ECharts merges new options for smooth transitions",name:"notMerge",required:!1,type:{name:"boolean"}},lazyUpdate:{defaultValue:{value:"false"},description:"Defers re-render to the next frame — useful for rapid SignalR updates",name:"lazyUpdate",required:!1,type:{name:"boolean"}},ariaLabel:{defaultValue:null,description:"ARIA label for accessibility (canvas is not screen-reader accessible)",name:"ariaLabel",required:!1,type:{name:"string"}},ariaDescription:{defaultValue:null,description:"ARIA description for screen readers",name:"ariaDescription",required:!1,type:{name:"string"}},onEvents:{defaultValue:null,description:"Event handlers — e.g. { 'click': handler } for drill-down navigation",name:"onEvents",required:!1,type:{name:"Record<string, Function>"}},onChartReady:{defaultValue:null,description:"",name:"onChartReady",required:!1,type:{name:"((instance: EChartsType) => void)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/webparts/hbcProjectControls/components/shared/HbcEChart.tsx#HbcEChart"]={docgenInfo:HbcEChart.__docgenInfo,name:"HbcEChart",path:"src/webparts/hbcProjectControls/components/shared/HbcEChart.tsx#HbcEChart"})}catch(__react_docgen_typescript_loader_error){}}}]);